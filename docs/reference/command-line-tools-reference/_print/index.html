<!doctype html><html lang=en class=no-js><head><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-36037335-10"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','UA-36037335-10')</script><link rel=alternate hreflang=zh href=https://kubernetes.io/zh/docs/reference/command-line-tools-reference/><link rel=alternate hreflang=ko href=https://kubernetes.io/ko/docs/reference/command-line-tools-reference/><link rel=alternate hreflang=ja href=https://kubernetes.io/ja/docs/reference/command-line-tools-reference/><link rel=alternate hreflang=fr href=https://kubernetes.io/fr/docs/reference/command-line-tools-reference/><link rel=alternate hreflang=de href=https://kubernetes.io/de/docs/reference/command-line-tools-reference/><link rel=alternate hreflang=es href=https://kubernetes.io/es/docs/reference/command-line-tools-reference/><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.82.0"><link rel=canonical type=text/html href=https://kubernetes.io/docs/reference/command-line-tools-reference/><link rel="shortcut icon" type=image/png href=/images/favicon.png><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=manifest href=/manifest.webmanifest><link rel=apple-touch-icon href=/images/kubernetes-192x192.png><title>Component tools | Kubernetes</title><meta property="og:title" content="Component tools"><meta property="og:description" content="Production-Grade Container Orchestration"><meta property="og:type" content="website"><meta property="og:url" content="https://kubernetes.io/docs/reference/command-line-tools-reference/"><meta property="og:site_name" content="Kubernetes"><meta itemprop=name content="Component tools"><meta itemprop=description content="Production-Grade Container Orchestration"><meta name=twitter:card content="summary"><meta name=twitter:title content="Component tools"><meta name=twitter:description content="Production-Grade Container Orchestration"><link rel=preload href=/scss/main.min.aeea2a074ae7ac3d467a0d6f52e45894b49452cbb3f0f410c268ec7280c5a653.css as=style><link href=/scss/main.min.aeea2a074ae7ac3d467a0d6f52e45894b49452cbb3f0f410c268ec7280c5a653.css rel=stylesheet integrity><script src=/js/jquery-3.3.1.min.js integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin=anonymous></script><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","url":"https://kubernetes.io","logo":"https://kubernetes.io/images/favicon.png"}</script><meta name=theme-color content="#326ce5"><link rel=stylesheet href=/css/feature-states.css><meta name=description content><meta property="og:description" content><meta name=twitter:description content><meta property="og:url" content="https://kubernetes.io/docs/reference/command-line-tools-reference/"><meta property="og:title" content="Component tools"><meta name=twitter:title content="Component tools"><meta name=twitter:image content="https://kubernetes.io/images/favicon.png"><meta name=twitter:image:alt content="Kubernetes"><meta property="og:image" content="/images/kubernetes-horizontal-color.png"><meta property="og:type" content="article"><script src=/js/script.js></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-row td-navbar" data-auto-burger=primary><a class=navbar-brand href=/></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-2 mb-lg-0"><a class="nav-link active" href=/docs/>Documentation</span></a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/blog/>Kubernetes Blog</span></a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/training/>Training</span></a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/partners/>Partners</span></a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/community/>Community</span></a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/case-studies/>Case Studies</span></a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Versions</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=https://kubernetes.io/docs/reference/command-line-tools-reference/>v1.24</a>
<a class=dropdown-item href=https://v1-23.docs.kubernetes.io/docs/reference/command-line-tools-reference/>v1.23</a>
<a class=dropdown-item href=https://v1-22.docs.kubernetes.io/docs/reference/command-line-tools-reference/>v1.22</a>
<a class=dropdown-item href=https://v1-21.docs.kubernetes.io/docs/reference/command-line-tools-reference/>v1.21</a>
<a class=dropdown-item href=https://v1-20.docs.kubernetes.io/docs/reference/command-line-tools-reference/>v1.20</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdownMenuLink role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh/docs/reference/command-line-tools-reference/>中文 Chinese</a>
<a class=dropdown-item href=/ko/docs/reference/command-line-tools-reference/>한국어 Korean</a>
<a class=dropdown-item href=/ja/docs/reference/command-line-tools-reference/>日本語 Japanese</a>
<a class=dropdown-item href=/fr/docs/reference/command-line-tools-reference/>Français</a>
<a class=dropdown-item href=/de/docs/reference/command-line-tools-reference/>Deutsch</a>
<a class=dropdown-item href=/es/docs/reference/command-line-tools-reference/>Español</a></div></li></ul></div><button id=hamburger onclick=kub.toggleMenu() data-auto-burger-exclude><div></div></button></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/docs/reference/command-line-tools-reference/>Return to the regular view of this page</a>.</p></div><h1 class=title>Component tools</h1><ul><li>1: <a href=#pg-ca5d01a42c486d535539d3038aa67eb9>Feature Gates</a></li><li>2: <a href=#pg-29e506a6018204679ef5459653a7aa1f>kubelet</a></li><li>3: <a href=#pg-ec8ff2888d36f533a57bc9704ccc84e0>kube-apiserver</a></li><li>4: <a href=#pg-8a37271ec8fd36a3a1ce07c4c58533d9>kube-controller-manager</a></li><li>5: <a href=#pg-a727de6cb5a090d5f115f88a8606c438>kube-proxy</a></li><li>6: <a href=#pg-57e59e5ddd9db63da6c9d27cc0e2f254>kube-scheduler</a></li><li>7: <a href=#pg-1715b765e2ff39feffd103d59ec0ef07>Kubelet authentication/authorization</a></li><li>8: <a href=#pg-24e6a01ad130b051b94d2ae75a880c10>kubelet.config.k8s.io/v1beta1</a></li><li>9: <a href=#pg-bdd3803a4bb6efcc44a7ab03590ce93c>TLS bootstrapping</a></li></ul><div class=content></div></div><div class=td-content><h1 id=pg-ca5d01a42c486d535539d3038aa67eb9>1 - Feature Gates</h1><p>This page contains an overview of the various feature gates an administrator
can specify on different Kubernetes components.</p><p>See <a href=#feature-stages>feature stages</a> for an explanation of the stages for a feature.</p><h2 id=overview>Overview</h2><p>Feature gates are a set of key=value pairs that describe Kubernetes features.
You can turn these features on or off using the <code>--feature-gates</code> command line flag
on each Kubernetes component.</p><p>Each Kubernetes component lets you enable or disable a set of feature gates that
are relevant to that component.
Use <code>-h</code> flag to see a full set of feature gates for all components.
To set feature gates for a component, such as kubelet, use the <code>--feature-gates</code> flag assigned to a list of feature pairs:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>--feature-gates<span style=color:#666>=</span><span style=color:#b44>&#34;...,DynamicKubeletConfig=true&#34;</span>
</code></pre></div><p>The following tables are a summary of the feature gates that you can set on
different Kubernetes components.</p><ul><li>The "Since" column contains the Kubernetes release when a feature is introduced
or its release stage is changed.</li><li>The "Until" column, if not empty, contains the last Kubernetes release in which
you can still use a feature gate.</li><li>If a feature is in the Alpha or Beta state, you can find the feature listed
in the <a href=#feature-gates-for-alpha-or-beta-features>Alpha/Beta feature gate table</a>.</li><li>If a feature is stable you can find all stages for that feature listed in the
<a href=#feature-gates-for-graduated-or-deprecated-features>Graduated/Deprecated feature gate table</a>.</li><li>The <a href=#feature-gates-for-graduated-or-deprecated-features>Graduated/Deprecated feature gate table</a>
also lists deprecated and withdrawn features.</li></ul><h3 id=feature-gates-for-alpha-or-beta-features>Feature gates for Alpha or Beta features</h3><table><caption style=display:none>Feature gates for features in Alpha or Beta states</caption><thead><tr><th>Feature</th><th>Default</th><th>Stage</th><th>Since</th><th>Until</th></tr></thead><tbody><tr><td><code>APIListChunking</code></td><td><code>false</code></td><td>Alpha</td><td>1.8</td><td>1.8</td></tr><tr><td><code>APIListChunking</code></td><td><code>true</code></td><td>Beta</td><td>1.9</td><td></td></tr><tr><td><code>APIPriorityAndFairness</code></td><td><code>false</code></td><td>Alpha</td><td>1.17</td><td>1.19</td></tr><tr><td><code>APIPriorityAndFairness</code></td><td><code>true</code></td><td>Beta</td><td>1.20</td><td></td></tr><tr><td><code>APIResponseCompression</code></td><td><code>false</code></td><td>Alpha</td><td>1.7</td><td>1.15</td></tr><tr><td><code>APIResponseCompression</code></td><td><code>false</code></td><td>Beta</td><td>1.16</td><td></td></tr><tr><td><code>APIServerIdentity</code></td><td><code>false</code></td><td>Alpha</td><td>1.20</td><td></td></tr><tr><td><code>AllowInsecureBackendProxy</code></td><td><code>true</code></td><td>Beta</td><td>1.17</td><td></td></tr><tr><td><code>AnyVolumeDataSource</code></td><td><code>false</code></td><td>Alpha</td><td>1.18</td><td></td></tr><tr><td><code>AppArmor</code></td><td><code>true</code></td><td>Beta</td><td>1.4</td><td></td></tr><tr><td><code>BalanceAttachedNodeVolumes</code></td><td><code>false</code></td><td>Alpha</td><td>1.11</td><td></td></tr><tr><td><code>BoundServiceAccountTokenVolume</code></td><td><code>false</code></td><td>Alpha</td><td>1.13</td><td></td></tr><tr><td><code>CPUManager</code></td><td><code>false</code></td><td>Alpha</td><td>1.8</td><td>1.9</td></tr><tr><td><code>CPUManager</code></td><td><code>true</code></td><td>Beta</td><td>1.10</td><td></td></tr><tr><td><code>CRIContainerLogRotation</code></td><td><code>false</code></td><td>Alpha</td><td>1.10</td><td>1.10</td></tr><tr><td><code>CRIContainerLogRotation</code></td><td><code>true</code></td><td>Beta</td><td>1.11</td><td></td></tr><tr><td><code>CSIInlineVolume</code></td><td><code>false</code></td><td>Alpha</td><td>1.15</td><td>1.15</td></tr><tr><td><code>CSIInlineVolume</code></td><td><code>true</code></td><td>Beta</td><td>1.16</td><td>-</td></tr><tr><td><code>CSIMigration</code></td><td><code>false</code></td><td>Alpha</td><td>1.14</td><td>1.16</td></tr><tr><td><code>CSIMigration</code></td><td><code>true</code></td><td>Beta</td><td>1.17</td><td></td></tr><tr><td><code>CSIMigrationAWS</code></td><td><code>false</code></td><td>Alpha</td><td>1.14</td><td></td></tr><tr><td><code>CSIMigrationAWS</code></td><td><code>false</code></td><td>Beta</td><td>1.17</td><td></td></tr><tr><td><code>CSIMigrationAWSComplete</code></td><td><code>false</code></td><td>Alpha</td><td>1.17</td><td></td></tr><tr><td><code>CSIMigrationAzureDisk</code></td><td><code>false</code></td><td>Alpha</td><td>1.15</td><td>1.18</td></tr><tr><td><code>CSIMigrationAzureDisk</code></td><td><code>false</code></td><td>Beta</td><td>1.19</td><td></td></tr><tr><td><code>CSIMigrationAzureDiskComplete</code></td><td><code>false</code></td><td>Alpha</td><td>1.17</td><td></td></tr><tr><td><code>CSIMigrationAzureFile</code></td><td><code>false</code></td><td>Alpha</td><td>1.15</td><td></td></tr><tr><td><code>CSIMigrationAzureFileComplete</code></td><td><code>false</code></td><td>Alpha</td><td>1.17</td><td></td></tr><tr><td><code>CSIMigrationGCE</code></td><td><code>false</code></td><td>Alpha</td><td>1.14</td><td>1.16</td></tr><tr><td><code>CSIMigrationGCE</code></td><td><code>false</code></td><td>Beta</td><td>1.17</td><td></td></tr><tr><td><code>CSIMigrationGCEComplete</code></td><td><code>false</code></td><td>Alpha</td><td>1.17</td><td></td></tr><tr><td><code>CSIMigrationOpenStack</code></td><td><code>false</code></td><td>Alpha</td><td>1.14</td><td>1.17</td></tr><tr><td><code>CSIMigrationOpenStack</code></td><td><code>true</code></td><td>Beta</td><td>1.18</td><td></td></tr><tr><td><code>CSIMigrationOpenStackComplete</code></td><td><code>false</code></td><td>Alpha</td><td>1.17</td><td></td></tr><tr><td><code>CSIMigrationvSphere</code></td><td><code>false</code></td><td>Beta</td><td>1.19</td><td></td></tr><tr><td><code>CSIMigrationvSphereComplete</code></td><td><code>false</code></td><td>Beta</td><td>1.19</td><td></td></tr><tr><td><code>CSIServiceAccountToken</code></td><td><code>false</code></td><td>Alpha</td><td>1.20</td><td></td></tr><tr><td><code>CSIStorageCapacity</code></td><td><code>false</code></td><td>Alpha</td><td>1.19</td><td></td></tr><tr><td><code>CSIVolumeFSGroupPolicy</code></td><td><code>false</code></td><td>Alpha</td><td>1.19</td><td>1.19</td></tr><tr><td><code>CSIVolumeFSGroupPolicy</code></td><td><code>true</code></td><td>Beta</td><td>1.20</td><td></td></tr><tr><td><code>ConfigurableFSGroupPolicy</code></td><td><code>false</code></td><td>Alpha</td><td>1.18</td><td>1.19</td></tr><tr><td><code>ConfigurableFSGroupPolicy</code></td><td><code>true</code></td><td>Beta</td><td>1.20</td><td></td></tr><tr><td><code>CronJobControllerV2</code></td><td><code>false</code></td><td>Alpha</td><td>1.20</td><td></td></tr><tr><td><code>CustomCPUCFSQuotaPeriod</code></td><td><code>false</code></td><td>Alpha</td><td>1.12</td><td></td></tr><tr><td><code>DefaultPodTopologySpread</code></td><td><code>false</code></td><td>Alpha</td><td>1.19</td><td>1.19</td></tr><tr><td><code>DefaultPodTopologySpread</code></td><td><code>true</code></td><td>Beta</td><td>1.20</td><td></td></tr><tr><td><code>DevicePlugins</code></td><td><code>false</code></td><td>Alpha</td><td>1.8</td><td>1.9</td></tr><tr><td><code>DevicePlugins</code></td><td><code>true</code></td><td>Beta</td><td>1.10</td><td></td></tr><tr><td><code>DisableAcceleratorUsageMetrics</code></td><td><code>false</code></td><td>Alpha</td><td>1.19</td><td>1.19</td></tr><tr><td><code>DisableAcceleratorUsageMetrics</code></td><td><code>true</code></td><td>Beta</td><td>1.20</td><td></td></tr><tr><td><code>DownwardAPIHugePages</code></td><td><code>false</code></td><td>Alpha</td><td>1.20</td><td></td></tr><tr><td><code>DynamicKubeletConfig</code></td><td><code>false</code></td><td>Alpha</td><td>1.4</td><td>1.10</td></tr><tr><td><code>DynamicKubeletConfig</code></td><td><code>true</code></td><td>Beta</td><td>1.11</td><td></td></tr><tr><td><code>EfficientWatchResumption</code></td><td><code>false</code></td><td>Alpha</td><td>1.20</td><td></td></tr><tr><td><code>EndpointSlice</code></td><td><code>false</code></td><td>Alpha</td><td>1.16</td><td>1.16</td></tr><tr><td><code>EndpointSlice</code></td><td><code>false</code></td><td>Beta</td><td>1.17</td><td></td></tr><tr><td><code>EndpointSlice</code></td><td><code>true</code></td><td>Beta</td><td>1.18</td><td></td></tr><tr><td><code>EndpointSliceNodeName</code></td><td><code>false</code></td><td>Alpha</td><td>1.20</td><td></td></tr><tr><td><code>EndpointSliceProxying</code></td><td><code>false</code></td><td>Alpha</td><td>1.18</td><td>1.18</td></tr><tr><td><code>EndpointSliceProxying</code></td><td><code>true</code></td><td>Beta</td><td>1.19</td><td></td></tr><tr><td><code>EndpointSliceTerminatingCondition</code></td><td><code>false</code></td><td>Alpha</td><td>1.20</td><td></td></tr><tr><td><code>EphemeralContainers</code></td><td><code>false</code></td><td>Alpha</td><td>1.16</td><td></td></tr><tr><td><code>ExpandCSIVolumes</code></td><td><code>false</code></td><td>Alpha</td><td>1.14</td><td>1.15</td></tr><tr><td><code>ExpandCSIVolumes</code></td><td><code>true</code></td><td>Beta</td><td>1.16</td><td></td></tr><tr><td><code>ExpandInUsePersistentVolumes</code></td><td><code>false</code></td><td>Alpha</td><td>1.11</td><td>1.14</td></tr><tr><td><code>ExpandInUsePersistentVolumes</code></td><td><code>true</code></td><td>Beta</td><td>1.15</td><td></td></tr><tr><td><code>ExpandPersistentVolumes</code></td><td><code>false</code></td><td>Alpha</td><td>1.8</td><td>1.10</td></tr><tr><td><code>ExpandPersistentVolumes</code></td><td><code>true</code></td><td>Beta</td><td>1.11</td><td></td></tr><tr><td><code>ExperimentalHostUserNamespaceDefaulting</code></td><td><code>false</code></td><td>Beta</td><td>1.5</td><td></td></tr><tr><td><code>GenericEphemeralVolume</code></td><td><code>false</code></td><td>Alpha</td><td>1.19</td><td></td></tr><tr><td><code>GracefulNodeShutdown</code></td><td><code>false</code></td><td>Alpha</td><td>1.20</td><td></td></tr><tr><td><code>HPAContainerMetrics</code></td><td><code>false</code></td><td>Alpha</td><td>1.20</td><td></td></tr><tr><td><code>HPAScaleToZero</code></td><td><code>false</code></td><td>Alpha</td><td>1.16</td><td></td></tr><tr><td><code>HugePageStorageMediumSize</code></td><td><code>false</code></td><td>Alpha</td><td>1.18</td><td>1.18</td></tr><tr><td><code>HugePageStorageMediumSize</code></td><td><code>true</code></td><td>Beta</td><td>1.19</td><td></td></tr><tr><td><code>IPv6DualStack</code></td><td><code>false</code></td><td>Alpha</td><td>1.15</td><td></td></tr><tr><td><code>ImmutableEphemeralVolumes</code></td><td><code>false</code></td><td>Alpha</td><td>1.18</td><td>1.18</td></tr><tr><td><code>ImmutableEphemeralVolumes</code></td><td><code>true</code></td><td>Beta</td><td>1.19</td><td></td></tr><tr><td><code>KubeletCredentialProviders</code></td><td><code>false</code></td><td>Alpha</td><td>1.20</td><td></td></tr><tr><td><code>KubeletPodResources</code></td><td><code>true</code></td><td>Alpha</td><td>1.13</td><td>1.14</td></tr><tr><td><code>KubeletPodResources</code></td><td><code>true</code></td><td>Beta</td><td>1.15</td><td></td></tr><tr><td><code>LegacyNodeRoleBehavior</code></td><td><code>false</code></td><td>Alpha</td><td>1.16</td><td>1.18</td></tr><tr><td><code>LegacyNodeRoleBehavior</code></td><td><code>true</code></td><td>True</td><td>1.19</td><td></td></tr><tr><td><code>LocalStorageCapacityIsolation</code></td><td><code>false</code></td><td>Alpha</td><td>1.7</td><td>1.9</td></tr><tr><td><code>LocalStorageCapacityIsolation</code></td><td><code>true</code></td><td>Beta</td><td>1.10</td><td></td></tr><tr><td><code>LocalStorageCapacityIsolationFSQuotaMonitoring</code></td><td><code>false</code></td><td>Alpha</td><td>1.15</td><td></td></tr><tr><td><code>MixedProtocolLBService</code></td><td><code>false</code></td><td>Alpha</td><td>1.20</td><td></td></tr><tr><td><code>NodeDisruptionExclusion</code></td><td><code>false</code></td><td>Alpha</td><td>1.16</td><td>1.18</td></tr><tr><td><code>NodeDisruptionExclusion</code></td><td><code>true</code></td><td>Beta</td><td>1.19</td><td></td></tr><tr><td><code>NonPreemptingPriority</code></td><td><code>false</code></td><td>Alpha</td><td>1.15</td><td>1.18</td></tr><tr><td><code>NonPreemptingPriority</code></td><td><code>true</code></td><td>Beta</td><td>1.19</td><td></td></tr><tr><td><code>PodDisruptionBudget</code></td><td><code>false</code></td><td>Alpha</td><td>1.3</td><td>1.4</td></tr><tr><td><code>PodDisruptionBudget</code></td><td><code>true</code></td><td>Beta</td><td>1.5</td><td></td></tr><tr><td><code>PodOverhead</code></td><td><code>false</code></td><td>Alpha</td><td>1.16</td><td>1.17</td></tr><tr><td><code>PodOverhead</code></td><td><code>true</code></td><td>Beta</td><td>1.18</td><td></td></tr><tr><td><code>ProcMountType</code></td><td><code>false</code></td><td>Alpha</td><td>1.12</td><td></td></tr><tr><td><code>QOSReserved</code></td><td><code>false</code></td><td>Alpha</td><td>1.11</td><td></td></tr><tr><td><code>RemainingItemCount</code></td><td><code>false</code></td><td>Alpha</td><td>1.15</td><td></td></tr><tr><td><code>RemoveSelfLink</code></td><td><code>false</code></td><td>Alpha</td><td>1.16</td><td>1.19</td></tr><tr><td><code>RemoveSelfLink</code></td><td><code>true</code></td><td>Beta</td><td>1.20</td><td></td></tr><tr><td><code>RootCAConfigMap</code></td><td><code>false</code></td><td>Alpha</td><td>1.13</td><td>1.19</td></tr><tr><td><code>RootCAConfigMap</code></td><td><code>true</code></td><td>Beta</td><td>1.20</td><td></td></tr><tr><td><code>RotateKubeletServerCertificate</code></td><td><code>false</code></td><td>Alpha</td><td>1.7</td><td>1.11</td></tr><tr><td><code>RotateKubeletServerCertificate</code></td><td><code>true</code></td><td>Beta</td><td>1.12</td><td></td></tr><tr><td><code>RunAsGroup</code></td><td><code>true</code></td><td>Beta</td><td>1.14</td><td></td></tr><tr><td><code>SCTPSupport</code></td><td><code>false</code></td><td>Alpha</td><td>1.12</td><td>1.18</td></tr><tr><td><code>SCTPSupport</code></td><td><code>true</code></td><td>Beta</td><td>1.19</td><td></td></tr><tr><td><code>ServerSideApply</code></td><td><code>false</code></td><td>Alpha</td><td>1.14</td><td>1.15</td></tr><tr><td><code>ServerSideApply</code></td><td><code>true</code></td><td>Beta</td><td>1.16</td><td></td></tr><tr><td><code>ServiceAccountIssuerDiscovery</code></td><td><code>false</code></td><td>Alpha</td><td>1.18</td><td>1.19</td></tr><tr><td><code>ServiceAccountIssuerDiscovery</code></td><td><code>true</code></td><td>Beta</td><td>1.20</td><td></td></tr><tr><td><code>ServiceLBNodePortControl</code></td><td><code>false</code></td><td>Alpha</td><td>1.20</td><td></td></tr><tr><td><code>ServiceNodeExclusion</code></td><td><code>false</code></td><td>Alpha</td><td>1.8</td><td>1.18</td></tr><tr><td><code>ServiceNodeExclusion</code></td><td><code>true</code></td><td>Beta</td><td>1.19</td><td></td></tr><tr><td><code>ServiceTopology</code></td><td><code>false</code></td><td>Alpha</td><td>1.17</td><td></td></tr><tr><td><code>SetHostnameAsFQDN</code></td><td><code>false</code></td><td>Alpha</td><td>1.19</td><td>1.19</td></tr><tr><td><code>SetHostnameAsFQDN</code></td><td><code>true</code></td><td>Beta</td><td>1.20</td><td></td></tr><tr><td><code>SizeMemoryBackedVolumes</code></td><td><code>false</code></td><td>Alpha</td><td>1.20</td><td></td></tr><tr><td><code>StorageVersionAPI</code></td><td><code>false</code></td><td>Alpha</td><td>1.20</td><td></td></tr><tr><td><code>StorageVersionHash</code></td><td><code>false</code></td><td>Alpha</td><td>1.14</td><td>1.14</td></tr><tr><td><code>StorageVersionHash</code></td><td><code>true</code></td><td>Beta</td><td>1.15</td><td></td></tr><tr><td><code>Sysctls</code></td><td><code>true</code></td><td>Beta</td><td>1.11</td><td></td></tr><tr><td><code>TTLAfterFinished</code></td><td><code>false</code></td><td>Alpha</td><td>1.12</td><td></td></tr><tr><td><code>TopologyManager</code></td><td><code>false</code></td><td>Alpha</td><td>1.16</td><td>1.17</td></tr><tr><td><code>TopologyManager</code></td><td><code>true</code></td><td>Beta</td><td>1.18</td><td></td></tr><tr><td><code>ValidateProxyRedirects</code></td><td><code>false</code></td><td>Alpha</td><td>1.12</td><td>1.13</td></tr><tr><td><code>ValidateProxyRedirects</code></td><td><code>true</code></td><td>Beta</td><td>1.14</td><td></td></tr><tr><td><code>WarningHeaders</code></td><td><code>true</code></td><td>Beta</td><td>1.19</td><td></td></tr><tr><td><code>WinDSR</code></td><td><code>false</code></td><td>Alpha</td><td>1.14</td><td></td></tr><tr><td><code>WinOverlay</code></td><td><code>false</code></td><td>Alpha</td><td>1.14</td><td>1.19</td></tr><tr><td><code>WinOverlay</code></td><td><code>true</code></td><td>Beta</td><td>1.20</td><td></td></tr><tr><td><code>WindowsEndpointSliceProxying</code></td><td><code>false</code></td><td>Alpha</td><td>1.19</td><td></td></tr></tbody></table><h3 id=feature-gates-for-graduated-or-deprecated-features>Feature gates for graduated or deprecated features</h3><table><caption style=display:none>Feature Gates for Graduated or Deprecated Features</caption><thead><tr><th>Feature</th><th>Default</th><th>Stage</th><th>Since</th><th>Until</th></tr></thead><tbody><tr><td><code>Accelerators</code></td><td><code>false</code></td><td>Alpha</td><td>1.6</td><td>1.10</td></tr><tr><td><code>Accelerators</code></td><td>-</td><td>Deprecated</td><td>1.11</td><td>-</td></tr><tr><td><code>AdvancedAuditing</code></td><td><code>false</code></td><td>Alpha</td><td>1.7</td><td>1.7</td></tr><tr><td><code>AdvancedAuditing</code></td><td><code>true</code></td><td>Beta</td><td>1.8</td><td>1.11</td></tr><tr><td><code>AdvancedAuditing</code></td><td><code>true</code></td><td>GA</td><td>1.12</td><td>-</td></tr><tr><td><code>AffinityInAnnotations</code></td><td><code>false</code></td><td>Alpha</td><td>1.6</td><td>1.7</td></tr><tr><td><code>AffinityInAnnotations</code></td><td>-</td><td>Deprecated</td><td>1.8</td><td>-</td></tr><tr><td><code>AllowExtTrafficLocalEndpoints</code></td><td><code>false</code></td><td>Beta</td><td>1.4</td><td>1.6</td></tr><tr><td><code>AllowExtTrafficLocalEndpoints</code></td><td><code>true</code></td><td>GA</td><td>1.7</td><td>-</td></tr><tr><td><code>BlockVolume</code></td><td><code>false</code></td><td>Alpha</td><td>1.9</td><td>1.12</td></tr><tr><td><code>BlockVolume</code></td><td><code>true</code></td><td>Beta</td><td>1.13</td><td>1.17</td></tr><tr><td><code>BlockVolume</code></td><td><code>true</code></td><td>GA</td><td>1.18</td><td>-</td></tr><tr><td><code>CSIBlockVolume</code></td><td><code>false</code></td><td>Alpha</td><td>1.11</td><td>1.13</td></tr><tr><td><code>CSIBlockVolume</code></td><td><code>true</code></td><td>Beta</td><td>1.14</td><td>1.17</td></tr><tr><td><code>CSIBlockVolume</code></td><td><code>true</code></td><td>GA</td><td>1.18</td><td>-</td></tr><tr><td><code>CSIDriverRegistry</code></td><td><code>false</code></td><td>Alpha</td><td>1.12</td><td>1.13</td></tr><tr><td><code>CSIDriverRegistry</code></td><td><code>true</code></td><td>Beta</td><td>1.14</td><td>1.17</td></tr><tr><td><code>CSIDriverRegistry</code></td><td><code>true</code></td><td>GA</td><td>1.18</td><td></td></tr><tr><td><code>CSINodeInfo</code></td><td><code>false</code></td><td>Alpha</td><td>1.12</td><td>1.13</td></tr><tr><td><code>CSINodeInfo</code></td><td><code>true</code></td><td>Beta</td><td>1.14</td><td>1.16</td></tr><tr><td><code>CSINodeInfo</code></td><td><code>true</code></td><td>GA</td><td>1.17</td><td></td></tr><tr><td><code>AttachVolumeLimit</code></td><td><code>false</code></td><td>Alpha</td><td>1.11</td><td>1.11</td></tr><tr><td><code>AttachVolumeLimit</code></td><td><code>true</code></td><td>Beta</td><td>1.12</td><td>1.16</td></tr><tr><td><code>AttachVolumeLimit</code></td><td><code>true</code></td><td>GA</td><td>1.17</td><td>-</td></tr><tr><td><code>CSIPersistentVolume</code></td><td><code>false</code></td><td>Alpha</td><td>1.9</td><td>1.9</td></tr><tr><td><code>CSIPersistentVolume</code></td><td><code>true</code></td><td>Beta</td><td>1.10</td><td>1.12</td></tr><tr><td><code>CSIPersistentVolume</code></td><td><code>true</code></td><td>GA</td><td>1.13</td><td>-</td></tr><tr><td><code>CustomPodDNS</code></td><td><code>false</code></td><td>Alpha</td><td>1.9</td><td>1.9</td></tr><tr><td><code>CustomPodDNS</code></td><td><code>true</code></td><td>Beta</td><td>1.10</td><td>1.13</td></tr><tr><td><code>CustomPodDNS</code></td><td><code>true</code></td><td>GA</td><td>1.14</td><td>-</td></tr><tr><td><code>CustomResourceDefaulting</code></td><td><code>false</code></td><td>Alpha</td><td>1.15</td><td>1.15</td></tr><tr><td><code>CustomResourceDefaulting</code></td><td><code>true</code></td><td>Beta</td><td>1.16</td><td>1.16</td></tr><tr><td><code>CustomResourceDefaulting</code></td><td><code>true</code></td><td>GA</td><td>1.17</td><td>-</td></tr><tr><td><code>CustomResourcePublishOpenAPI</code></td><td><code>false</code></td><td>Alpha</td><td>1.14</td><td>1.14</td></tr><tr><td><code>CustomResourcePublishOpenAPI</code></td><td><code>true</code></td><td>Beta</td><td>1.15</td><td>1.15</td></tr><tr><td><code>CustomResourcePublishOpenAPI</code></td><td><code>true</code></td><td>GA</td><td>1.16</td><td>-</td></tr><tr><td><code>CustomResourceSubresources</code></td><td><code>false</code></td><td>Alpha</td><td>1.10</td><td>1.10</td></tr><tr><td><code>CustomResourceSubresources</code></td><td><code>true</code></td><td>Beta</td><td>1.11</td><td>1.15</td></tr><tr><td><code>CustomResourceSubresources</code></td><td><code>true</code></td><td>GA</td><td>1.16</td><td>-</td></tr><tr><td><code>CustomResourceValidation</code></td><td><code>false</code></td><td>Alpha</td><td>1.8</td><td>1.8</td></tr><tr><td><code>CustomResourceValidation</code></td><td><code>true</code></td><td>Beta</td><td>1.9</td><td>1.15</td></tr><tr><td><code>CustomResourceValidation</code></td><td><code>true</code></td><td>GA</td><td>1.16</td><td>-</td></tr><tr><td><code>CustomResourceWebhookConversion</code></td><td><code>false</code></td><td>Alpha</td><td>1.13</td><td>1.14</td></tr><tr><td><code>CustomResourceWebhookConversion</code></td><td><code>true</code></td><td>Beta</td><td>1.15</td><td>1.15</td></tr><tr><td><code>CustomResourceWebhookConversion</code></td><td><code>true</code></td><td>GA</td><td>1.16</td><td>-</td></tr><tr><td><code>DryRun</code></td><td><code>false</code></td><td>Alpha</td><td>1.12</td><td>1.12</td></tr><tr><td><code>DryRun</code></td><td><code>true</code></td><td>Beta</td><td>1.13</td><td>1.18</td></tr><tr><td><code>DryRun</code></td><td><code>true</code></td><td>GA</td><td>1.19</td><td>-</td></tr><tr><td><code>DynamicAuditing</code></td><td><code>false</code></td><td>Alpha</td><td>1.13</td><td>1.18</td></tr><tr><td><code>DynamicAuditing</code></td><td>-</td><td>Deprecated</td><td>1.19</td><td>-</td></tr><tr><td><code>DynamicProvisioningScheduling</code></td><td><code>false</code></td><td>Alpha</td><td>1.11</td><td>1.11</td></tr><tr><td><code>DynamicProvisioningScheduling</code></td><td>-</td><td>Deprecated</td><td>1.12</td><td>-</td></tr><tr><td><code>DynamicVolumeProvisioning</code></td><td><code>true</code></td><td>Alpha</td><td>1.3</td><td>1.7</td></tr><tr><td><code>DynamicVolumeProvisioning</code></td><td><code>true</code></td><td>GA</td><td>1.8</td><td>-</td></tr><tr><td><code>EnableAggregatedDiscoveryTimeout</code></td><td><code>true</code></td><td>Deprecated</td><td>1.16</td><td>-</td></tr><tr><td><code>EnableEquivalenceClassCache</code></td><td><code>false</code></td><td>Alpha</td><td>1.8</td><td>1.14</td></tr><tr><td><code>EnableEquivalenceClassCache</code></td><td>-</td><td>Deprecated</td><td>1.15</td><td>-</td></tr><tr><td><code>ExperimentalCriticalPodAnnotation</code></td><td><code>false</code></td><td>Alpha</td><td>1.5</td><td>1.12</td></tr><tr><td><code>ExperimentalCriticalPodAnnotation</code></td><td><code>false</code></td><td>Deprecated</td><td>1.13</td><td>-</td></tr><tr><td><code>EvenPodsSpread</code></td><td><code>false</code></td><td>Alpha</td><td>1.16</td><td>1.17</td></tr><tr><td><code>EvenPodsSpread</code></td><td><code>true</code></td><td>Beta</td><td>1.18</td><td>1.18</td></tr><tr><td><code>EvenPodsSpread</code></td><td><code>true</code></td><td>GA</td><td>1.19</td><td>-</td></tr><tr><td><code>ExecProbeTimeout</code></td><td><code>true</code></td><td>GA</td><td>1.20</td><td>-</td></tr><tr><td><code>GCERegionalPersistentDisk</code></td><td><code>true</code></td><td>Beta</td><td>1.10</td><td>1.12</td></tr><tr><td><code>GCERegionalPersistentDisk</code></td><td><code>true</code></td><td>GA</td><td>1.13</td><td>-</td></tr><tr><td><code>HugePages</code></td><td><code>false</code></td><td>Alpha</td><td>1.8</td><td>1.9</td></tr><tr><td><code>HugePages</code></td><td><code>true</code></td><td>Beta</td><td>1.10</td><td>1.13</td></tr><tr><td><code>HugePages</code></td><td><code>true</code></td><td>GA</td><td>1.14</td><td>-</td></tr><tr><td><code>HyperVContainer</code></td><td><code>false</code></td><td>Alpha</td><td>1.10</td><td>1.19</td></tr><tr><td><code>HyperVContainer</code></td><td><code>false</code></td><td>Deprecated</td><td>1.20</td><td>-</td></tr><tr><td><code>Initializers</code></td><td><code>false</code></td><td>Alpha</td><td>1.7</td><td>1.13</td></tr><tr><td><code>Initializers</code></td><td>-</td><td>Deprecated</td><td>1.14</td><td>-</td></tr><tr><td><code>KubeletConfigFile</code></td><td><code>false</code></td><td>Alpha</td><td>1.8</td><td>1.9</td></tr><tr><td><code>KubeletConfigFile</code></td><td>-</td><td>Deprecated</td><td>1.10</td><td>-</td></tr><tr><td><code>KubeletPluginsWatcher</code></td><td><code>false</code></td><td>Alpha</td><td>1.11</td><td>1.11</td></tr><tr><td><code>KubeletPluginsWatcher</code></td><td><code>true</code></td><td>Beta</td><td>1.12</td><td>1.12</td></tr><tr><td><code>KubeletPluginsWatcher</code></td><td><code>true</code></td><td>GA</td><td>1.13</td><td>-</td></tr><tr><td><code>KubeletPodResources</code></td><td><code>false</code></td><td>Alpha</td><td>1.13</td><td>1.14</td></tr><tr><td><code>KubeletPodResources</code></td><td><code>true</code></td><td>Beta</td><td>1.15</td><td></td></tr><tr><td><code>KubeletPodResources</code></td><td><code>true</code></td><td>GA</td><td>1.20</td><td></td></tr><tr><td><code>MountContainers</code></td><td><code>false</code></td><td>Alpha</td><td>1.9</td><td>1.16</td></tr><tr><td><code>MountContainers</code></td><td><code>false</code></td><td>Deprecated</td><td>1.17</td><td>-</td></tr><tr><td><code>MountPropagation</code></td><td><code>false</code></td><td>Alpha</td><td>1.8</td><td>1.9</td></tr><tr><td><code>MountPropagation</code></td><td><code>true</code></td><td>Beta</td><td>1.10</td><td>1.11</td></tr><tr><td><code>MountPropagation</code></td><td><code>true</code></td><td>GA</td><td>1.12</td><td>-</td></tr><tr><td><code>NodeLease</code></td><td><code>false</code></td><td>Alpha</td><td>1.12</td><td>1.13</td></tr><tr><td><code>NodeLease</code></td><td><code>true</code></td><td>Beta</td><td>1.14</td><td>1.16</td></tr><tr><td><code>NodeLease</code></td><td><code>true</code></td><td>GA</td><td>1.17</td><td>-</td></tr><tr><td><code>PVCProtection</code></td><td><code>false</code></td><td>Alpha</td><td>1.9</td><td>1.9</td></tr><tr><td><code>PVCProtection</code></td><td>-</td><td>Deprecated</td><td>1.10</td><td>-</td></tr><tr><td><code>PersistentLocalVolumes</code></td><td><code>false</code></td><td>Alpha</td><td>1.7</td><td>1.9</td></tr><tr><td><code>PersistentLocalVolumes</code></td><td><code>true</code></td><td>Beta</td><td>1.10</td><td>1.13</td></tr><tr><td><code>PersistentLocalVolumes</code></td><td><code>true</code></td><td>GA</td><td>1.14</td><td>-</td></tr><tr><td><code>PodPriority</code></td><td><code>false</code></td><td>Alpha</td><td>1.8</td><td>1.10</td></tr><tr><td><code>PodPriority</code></td><td><code>true</code></td><td>Beta</td><td>1.11</td><td>1.13</td></tr><tr><td><code>PodPriority</code></td><td><code>true</code></td><td>GA</td><td>1.14</td><td>-</td></tr><tr><td><code>PodReadinessGates</code></td><td><code>false</code></td><td>Alpha</td><td>1.11</td><td>1.11</td></tr><tr><td><code>PodReadinessGates</code></td><td><code>true</code></td><td>Beta</td><td>1.12</td><td>1.13</td></tr><tr><td><code>PodReadinessGates</code></td><td><code>true</code></td><td>GA</td><td>1.14</td><td>-</td></tr><tr><td><code>PodShareProcessNamespace</code></td><td><code>false</code></td><td>Alpha</td><td>1.10</td><td>1.11</td></tr><tr><td><code>PodShareProcessNamespace</code></td><td><code>true</code></td><td>Beta</td><td>1.12</td><td>1.16</td></tr><tr><td><code>PodShareProcessNamespace</code></td><td><code>true</code></td><td>GA</td><td>1.17</td><td>-</td></tr><tr><td><code>RequestManagement</code></td><td><code>false</code></td><td>Alpha</td><td>1.15</td><td>1.16</td></tr><tr><td><code>ResourceLimitsPriorityFunction</code></td><td><code>false</code></td><td>Alpha</td><td>1.9</td><td>1.18</td></tr><tr><td><code>ResourceLimitsPriorityFunction</code></td><td>-</td><td>Deprecated</td><td>1.19</td><td>-</td></tr><tr><td><code>ResourceQuotaScopeSelectors</code></td><td><code>false</code></td><td>Alpha</td><td>1.11</td><td>1.11</td></tr><tr><td><code>ResourceQuotaScopeSelectors</code></td><td><code>true</code></td><td>Beta</td><td>1.12</td><td>1.16</td></tr><tr><td><code>ResourceQuotaScopeSelectors</code></td><td><code>true</code></td><td>GA</td><td>1.17</td><td>-</td></tr><tr><td><code>RotateKubeletClientCertificate</code></td><td><code>true</code></td><td>Beta</td><td>1.8</td><td>1.18</td></tr><tr><td><code>RotateKubeletClientCertificate</code></td><td><code>true</code></td><td>GA</td><td>1.19</td><td>-</td></tr><tr><td><code>RuntimeClass</code></td><td><code>false</code></td><td>Alpha</td><td>1.12</td><td>1.13</td></tr><tr><td><code>RuntimeClass</code></td><td><code>true</code></td><td>Beta</td><td>1.14</td><td>1.19</td></tr><tr><td><code>RuntimeClass</code></td><td><code>true</code></td><td>GA</td><td>1.20</td><td>-</td></tr><tr><td><code>ScheduleDaemonSetPods</code></td><td><code>false</code></td><td>Alpha</td><td>1.11</td><td>1.11</td></tr><tr><td><code>ScheduleDaemonSetPods</code></td><td><code>true</code></td><td>Beta</td><td>1.12</td><td>1.16</td></tr><tr><td><code>ScheduleDaemonSetPods</code></td><td><code>true</code></td><td>GA</td><td>1.17</td><td>-</td></tr><tr><td><code>SCTPSupport</code></td><td><code>false</code></td><td>Alpha</td><td>1.12</td><td>1.18</td></tr><tr><td><code>SCTPSupport</code></td><td><code>true</code></td><td>Beta</td><td>1.19</td><td>1.19</td></tr><tr><td><code>SCTPSupport</code></td><td><code>true</code></td><td>GA</td><td>1.20</td><td>-</td></tr><tr><td><code>ServiceAppProtocol</code></td><td><code>false</code></td><td>Alpha</td><td>1.18</td><td>1.18</td></tr><tr><td><code>ServiceAppProtocol</code></td><td><code>true</code></td><td>Beta</td><td>1.19</td><td></td></tr><tr><td><code>ServiceAppProtocol</code></td><td><code>true</code></td><td>GA</td><td>1.20</td><td>-</td></tr><tr><td><code>ServiceLoadBalancerFinalizer</code></td><td><code>false</code></td><td>Alpha</td><td>1.15</td><td>1.15</td></tr><tr><td><code>ServiceLoadBalancerFinalizer</code></td><td><code>true</code></td><td>Beta</td><td>1.16</td><td>1.16</td></tr><tr><td><code>ServiceLoadBalancerFinalizer</code></td><td><code>true</code></td><td>GA</td><td>1.17</td><td>-</td></tr><tr><td><code>StartupProbe</code></td><td><code>false</code></td><td>Alpha</td><td>1.16</td><td>1.17</td></tr><tr><td><code>StartupProbe</code></td><td><code>true</code></td><td>Beta</td><td>1.18</td><td>1.19</td></tr><tr><td><code>StartupProbe</code></td><td><code>true</code></td><td>GA</td><td>1.20</td><td>-</td></tr><tr><td><code>StorageObjectInUseProtection</code></td><td><code>true</code></td><td>Beta</td><td>1.10</td><td>1.10</td></tr><tr><td><code>StorageObjectInUseProtection</code></td><td><code>true</code></td><td>GA</td><td>1.11</td><td>-</td></tr><tr><td><code>StreamingProxyRedirects</code></td><td><code>false</code></td><td>Beta</td><td>1.5</td><td>1.5</td></tr><tr><td><code>StreamingProxyRedirects</code></td><td><code>true</code></td><td>Beta</td><td>1.6</td><td>1.18</td></tr><tr><td><code>StreamingProxyRedirects</code></td><td>-</td><td>Deprecated</td><td>1.19</td><td>-</td></tr><tr><td><code>SupportIPVSProxyMode</code></td><td><code>false</code></td><td>Alpha</td><td>1.8</td><td>1.8</td></tr><tr><td><code>SupportIPVSProxyMode</code></td><td><code>false</code></td><td>Beta</td><td>1.9</td><td>1.9</td></tr><tr><td><code>SupportIPVSProxyMode</code></td><td><code>true</code></td><td>Beta</td><td>1.10</td><td>1.10</td></tr><tr><td><code>SupportIPVSProxyMode</code></td><td><code>true</code></td><td>GA</td><td>1.11</td><td>-</td></tr><tr><td><code>SupportNodePidsLimit</code></td><td><code>false</code></td><td>Alpha</td><td>1.14</td><td>1.14</td></tr><tr><td><code>SupportNodePidsLimit</code></td><td><code>true</code></td><td>Beta</td><td>1.15</td><td>1.19</td></tr><tr><td><code>SupportNodePidsLimit</code></td><td><code>true</code></td><td>GA</td><td>1.20</td><td>-</td></tr><tr><td><code>SupportPodPidsLimit</code></td><td><code>false</code></td><td>Alpha</td><td>1.10</td><td>1.13</td></tr><tr><td><code>SupportPodPidsLimit</code></td><td><code>true</code></td><td>Beta</td><td>1.14</td><td>1.19</td></tr><tr><td><code>SupportPodPidsLimit</code></td><td><code>true</code></td><td>GA</td><td>1.20</td><td>-</td></tr><tr><td><code>TaintBasedEvictions</code></td><td><code>false</code></td><td>Alpha</td><td>1.6</td><td>1.12</td></tr><tr><td><code>TaintBasedEvictions</code></td><td><code>true</code></td><td>Beta</td><td>1.13</td><td>1.17</td></tr><tr><td><code>TaintBasedEvictions</code></td><td><code>true</code></td><td>GA</td><td>1.18</td><td>-</td></tr><tr><td><code>TaintNodesByCondition</code></td><td><code>false</code></td><td>Alpha</td><td>1.8</td><td>1.11</td></tr><tr><td><code>TaintNodesByCondition</code></td><td><code>true</code></td><td>Beta</td><td>1.12</td><td>1.16</td></tr><tr><td><code>TaintNodesByCondition</code></td><td><code>true</code></td><td>GA</td><td>1.17</td><td>-</td></tr><tr><td><code>TokenRequest</code></td><td><code>false</code></td><td>Alpha</td><td>1.10</td><td>1.11</td></tr><tr><td><code>TokenRequest</code></td><td><code>true</code></td><td>Beta</td><td>1.12</td><td>1.19</td></tr><tr><td><code>TokenRequest</code></td><td><code>true</code></td><td>GA</td><td>1.20</td><td>-</td></tr><tr><td><code>TokenRequestProjection</code></td><td><code>false</code></td><td>Alpha</td><td>1.11</td><td>1.11</td></tr><tr><td><code>TokenRequestProjection</code></td><td><code>true</code></td><td>Beta</td><td>1.12</td><td>1.19</td></tr><tr><td><code>TokenRequestProjection</code></td><td><code>true</code></td><td>GA</td><td>1.20</td><td>-</td></tr><tr><td><code>VolumeSnapshotDataSource</code></td><td><code>false</code></td><td>Alpha</td><td>1.12</td><td>1.16</td></tr><tr><td><code>VolumeSnapshotDataSource</code></td><td><code>true</code></td><td>Beta</td><td>1.17</td><td>1.19</td></tr><tr><td><code>VolumeSnapshotDataSource</code></td><td><code>true</code></td><td>GA</td><td>1.20</td><td>-</td></tr><tr><td><code>VolumePVCDataSource</code></td><td><code>false</code></td><td>Alpha</td><td>1.15</td><td>1.15</td></tr><tr><td><code>VolumePVCDataSource</code></td><td><code>true</code></td><td>Beta</td><td>1.16</td><td>1.17</td></tr><tr><td><code>VolumePVCDataSource</code></td><td><code>true</code></td><td>GA</td><td>1.18</td><td>-</td></tr><tr><td><code>VolumeScheduling</code></td><td><code>false</code></td><td>Alpha</td><td>1.9</td><td>1.9</td></tr><tr><td><code>VolumeScheduling</code></td><td><code>true</code></td><td>Beta</td><td>1.10</td><td>1.12</td></tr><tr><td><code>VolumeScheduling</code></td><td><code>true</code></td><td>GA</td><td>1.13</td><td>-</td></tr><tr><td><code>VolumeSubpath</code></td><td><code>true</code></td><td>GA</td><td>1.10</td><td>-</td></tr><tr><td><code>VolumeSubpathEnvExpansion</code></td><td><code>false</code></td><td>Alpha</td><td>1.14</td><td>1.14</td></tr><tr><td><code>VolumeSubpathEnvExpansion</code></td><td><code>true</code></td><td>Beta</td><td>1.15</td><td>1.16</td></tr><tr><td><code>VolumeSubpathEnvExpansion</code></td><td><code>true</code></td><td>GA</td><td>1.17</td><td>-</td></tr><tr><td><code>WatchBookmark</code></td><td><code>false</code></td><td>Alpha</td><td>1.15</td><td>1.15</td></tr><tr><td><code>WatchBookmark</code></td><td><code>true</code></td><td>Beta</td><td>1.16</td><td>1.16</td></tr><tr><td><code>WatchBookmark</code></td><td><code>true</code></td><td>GA</td><td>1.17</td><td>-</td></tr><tr><td><code>WindowsGMSA</code></td><td><code>false</code></td><td>Alpha</td><td>1.14</td><td>1.15</td></tr><tr><td><code>WindowsGMSA</code></td><td><code>true</code></td><td>Beta</td><td>1.16</td><td>1.17</td></tr><tr><td><code>WindowsGMSA</code></td><td><code>true</code></td><td>GA</td><td>1.18</td><td>-</td></tr><tr><td><code>WindowsRunAsUserName</code></td><td><code>false</code></td><td>Alpha</td><td>1.16</td><td>1.16</td></tr><tr><td><code>WindowsRunAsUserName</code></td><td><code>true</code></td><td>Beta</td><td>1.17</td><td>1.17</td></tr><tr><td><code>WindowsRunAsUserName</code></td><td><code>true</code></td><td>GA</td><td>1.18</td><td>-</td></tr></tbody></table><h2 id=using-a-feature>Using a feature</h2><h3 id=feature-stages>Feature stages</h3><p>A feature can be in <em>Alpha</em>, <em>Beta</em> or <em>GA</em> stage.
An <em>Alpha</em> feature means:</p><ul><li>Disabled by default.</li><li>Might be buggy. Enabling the feature may expose bugs.</li><li>Support for feature may be dropped at any time without notice.</li><li>The API may change in incompatible ways in a later software release without notice.</li><li>Recommended for use only in short-lived testing clusters, due to increased
risk of bugs and lack of long-term support.</li></ul><p>A <em>Beta</em> feature means:</p><ul><li>Enabled by default.</li><li>The feature is well tested. Enabling the feature is considered safe.</li><li>Support for the overall feature will not be dropped, though details may change.</li><li>The schema and/or semantics of objects may change in incompatible ways in a
subsequent beta or stable release. When this happens, we will provide instructions
for migrating to the next version. This may require deleting, editing, and
re-creating API objects. The editing process may require some thought.
This may require downtime for applications that rely on the feature.</li><li>Recommended for only non-business-critical uses because of potential for
incompatible changes in subsequent releases. If you have multiple clusters
that can be upgraded independently, you may be able to relax this restriction.</li></ul><blockquote class="note callout"><div><strong>Note:</strong> Please do try <em>Beta</em> features and give feedback on them!
After they exit beta, it may not be practical for us to make more changes.</div></blockquote><p>A <em>General Availability</em> (GA) feature is also referred to as a <em>stable</em> feature. It means:</p><ul><li>The feature is always enabled; you cannot disable it.</li><li>The corresponding feature gate is no longer needed.</li><li>Stable versions of features will appear in released software for many subsequent versions.</li></ul><h2 id=feature-gates>List of feature gates</h2><p>Each feature gate is designed for enabling/disabling a specific feature:</p><ul><li><code>APIListChunking</code>: Enable the API clients to retrieve (<code>LIST</code> or <code>GET</code>)
resources from API server in chunks.</li><li><code>APIPriorityAndFairness</code>: Enable managing request concurrency with
prioritization and fairness at each server. (Renamed from <code>RequestManagement</code>)</li><li><code>APIResponseCompression</code>: Compress the API responses for <code>LIST</code> or <code>GET</code> requests.</li><li><code>APIServerIdentity</code>: Assign each API server an ID in a cluster.</li><li><code>Accelerators</code>: Enable Nvidia GPU support when using Docker</li><li><code>AdvancedAuditing</code>: Enable <a href=/docs/tasks/debug-application-cluster/audit/#advanced-audit>advanced auditing</a></li><li><code>AffinityInAnnotations</code>(<em>deprecated</em>): Enable setting
<a href=/docs/concepts/scheduling-eviction/assign-pod-node/#affinity-and-anti-affinity>Pod affinity or anti-affinity</a>.</li><li><code>AllowExtTrafficLocalEndpoints</code>: Enable a service to route external requests to node local endpoints.</li><li><code>AllowInsecureBackendProxy</code>: Enable the users to skip TLS verification of
kubelets on Pod log requests.</li><li><code>AnyVolumeDataSource</code>: Enable use of any custom resource as the <code>DataSource</code> of a
<a class=glossary-tooltip title="Claims storage resources defined in a PersistentVolume so that it can be mounted as a volume in a container." data-toggle=tooltip data-placement=top href=/docs/concepts/storage/persistent-volumes/ target=_blank aria-label=PVC>PVC</a>.</li><li><code>AppArmor</code>: Enable AppArmor based mandatory access control on Linux nodes when using Docker.
See <a href=/docs/tutorials/clusters/apparmor/>AppArmor Tutorial</a> for more details.</li><li><code>AttachVolumeLimit</code>: Enable volume plugins to report limits on number of volumes
that can be attached to a node.
See <a href=/docs/concepts/storage/storage-limits/#dynamic-volume-limits>dynamic volume limits</a> for more details.</li><li><code>BalanceAttachedNodeVolumes</code>: Include volume count on node to be considered for balanced resource allocation
while scheduling. A node which has closer CPU, memory utilization, and volume count is favored by the scheduler
while making decisions.</li><li><code>BlockVolume</code>: Enable the definition and consumption of raw block devices in Pods.
See <a href=/docs/concepts/storage/persistent-volumes/#raw-block-volume-support>Raw Block Volume Support</a>
for more details.</li><li><code>BoundServiceAccountTokenVolume</code>: Migrate ServiceAccount volumes to use a projected volume consisting of a
ServiceAccountTokenVolumeProjection. Cluster admins can use metric <code>serviceaccount_stale_tokens_total</code> to
monitor workloads that are depending on the extended tokens. If there are no such workloads, turn off
extended tokens by starting <code>kube-apiserver</code> with flag <code>--service-account-extend-token-expiration=false</code>.
Check <a href=https://github.com/kubernetes/enhancements/blob/master/keps/sig-auth/1205-bound-service-account-tokens/README.md>Bound Service Account Tokens</a>
for more details.</li><li><code>CPUManager</code>: Enable container level CPU affinity support, see
<a href=/docs/tasks/administer-cluster/cpu-management-policies/>CPU Management Policies</a>.</li><li><code>CRIContainerLogRotation</code>: Enable container log rotation for cri container runtime.</li><li><code>CSIBlockVolume</code>: Enable external CSI volume drivers to support block storage.
See the <a href=/docs/concepts/storage/volumes/#csi-raw-block-volume-support><code>csi</code> raw block volume support</a>
documentation for more details.</li><li><code>CSIDriverRegistry</code>: Enable all logic related to the CSIDriver API object in
csi.storage.k8s.io.</li><li><code>CSIInlineVolume</code>: Enable CSI Inline volumes support for pods.</li><li><code>CSIMigration</code>: Enables shims and translation logic to route volume
operations from in-tree plugins to corresponding pre-installed CSI plugins</li><li><code>CSIMigrationAWS</code>: Enables shims and translation logic to route volume
operations from the AWS-EBS in-tree plugin to EBS CSI plugin. Supports
falling back to in-tree EBS plugin if a node does not have EBS CSI plugin
installed and configured. Requires CSIMigration feature flag enabled.</li><li><code>CSIMigrationAWSComplete</code>: Stops registering the EBS in-tree plugin in
kubelet and volume controllers and enables shims and translation logic to
route volume operations from the AWS-EBS in-tree plugin to EBS CSI plugin.
Requires CSIMigration and CSIMigrationAWS feature flags enabled and EBS CSI
plugin installed and configured on all nodes in the cluster.</li><li><code>CSIMigrationAzureDisk</code>: Enables shims and translation logic to route volume
operations from the Azure-Disk in-tree plugin to AzureDisk CSI plugin.
Supports falling back to in-tree AzureDisk plugin if a node does not have
AzureDisk CSI plugin installed and configured. Requires CSIMigration feature
flag enabled.</li><li><code>CSIMigrationAzureDiskComplete</code>: Stops registering the Azure-Disk in-tree
plugin in kubelet and volume controllers and enables shims and translation
logic to route volume operations from the Azure-Disk in-tree plugin to
AzureDisk CSI plugin. Requires CSIMigration and CSIMigrationAzureDisk feature
flags enabled and AzureDisk CSI plugin installed and configured on all nodes
in the cluster.</li><li><code>CSIMigrationAzureFile</code>: Enables shims and translation logic to route volume
operations from the Azure-File in-tree plugin to AzureFile CSI plugin.
Supports falling back to in-tree AzureFile plugin if a node does not have
AzureFile CSI plugin installed and configured. Requires CSIMigration feature
flag enabled.</li><li><code>CSIMigrationAzureFileComplete</code>: Stops registering the Azure-File in-tree
plugin in kubelet and volume controllers and enables shims and translation
logic to route volume operations from the Azure-File in-tree plugin to
AzureFile CSI plugin. Requires CSIMigration and CSIMigrationAzureFile feature
flags enabled and AzureFile CSI plugin installed and configured on all nodes
in the cluster.</li><li><code>CSIMigrationGCE</code>: Enables shims and translation logic to route volume
operations from the GCE-PD in-tree plugin to PD CSI plugin. Supports falling
back to in-tree GCE plugin if a node does not have PD CSI plugin installed and
configured. Requires CSIMigration feature flag enabled.</li><li><code>CSIMigrationGCEComplete</code>: Stops registering the GCE-PD in-tree plugin in
kubelet and volume controllers and enables shims and translation logic to
route volume operations from the GCE-PD in-tree plugin to PD CSI plugin.
Requires CSIMigration and CSIMigrationGCE feature flags enabled and PD CSI
plugin installed and configured on all nodes in the cluster.</li><li><code>CSIMigrationOpenStack</code>: Enables shims and translation logic to route volume
operations from the Cinder in-tree plugin to Cinder CSI plugin. Supports
falling back to in-tree Cinder plugin if a node does not have Cinder CSI
plugin installed and configured. Requires CSIMigration feature flag enabled.</li><li><code>CSIMigrationOpenStackComplete</code>: Stops registering the Cinder in-tree plugin in
kubelet and volume controllers and enables shims and translation logic to route
volume operations from the Cinder in-tree plugin to Cinder CSI plugin.
Requires CSIMigration and CSIMigrationOpenStack feature flags enabled and Cinder
CSI plugin installed and configured on all nodes in the cluster.</li><li><code>CSIMigrationvSphere</code>: Enables shims and translation logic to route volume operations
from the vSphere in-tree plugin to vSphere CSI plugin.
Supports falling back to in-tree vSphere plugin if a node does not have vSphere
CSI plugin installed and configured. Requires CSIMigration feature flag enabled.</li><li><code>CSIMigrationvSphereComplete</code>: Stops registering the vSphere in-tree plugin in kubelet
and volume controllers and enables shims and translation logic to route volume operations
from the vSphere in-tree plugin to vSphere CSI plugin. Requires CSIMigration and
CSIMigrationvSphere feature flags enabled and vSphere CSI plugin installed and
configured on all nodes in the cluster.</li><li><code>CSINodeInfo</code>: Enable all logic related to the CSINodeInfo API object in csi.storage.k8s.io.</li><li><code>CSIPersistentVolume</code>: Enable discovering and mounting volumes provisioned through a
<a href=https://github.com/kubernetes/community/blob/master/contributors/design-proposals/storage/container-storage-interface.md>CSI (Container Storage Interface)</a>
compatible volume plugin.</li><li><code>CSIServiceAccountToken</code>: Enable CSI drivers to receive the pods' service account token
that they mount volumes for. See
<a href=https://kubernetes-csi.github.io/docs/token-requests.html>Token Requests</a>.</li><li><code>CSIStorageCapacity</code>: Enables CSI drivers to publish storage capacity information
and the Kubernetes scheduler to use that information when scheduling pods. See
<a href=/docs/concepts/storage/storage-capacity/>Storage Capacity</a>.
Check the <a href=/docs/concepts/storage/volumes/#csi><code>csi</code> volume type</a> documentation for more details.</li><li><code>CSIVolumeFSGroupPolicy</code>: Allows CSIDrivers to use the <code>fsGroupPolicy</code> field.
This field controls whether volumes created by a CSIDriver support volume ownership
and permission modifications when these volumes are mounted.</li><li><code>ConfigurableFSGroupPolicy</code>: Allows user to configure volume permission change policy
for fsGroups when mounting a volume in a Pod. See
<a href=/docs/tasks/configure-pod-container/security-context/#configure-volume-permission-and-ownership-change-policy-for-pods>Configure volume permission and ownership change policy for Pods</a>
for more details.</li><li><code>CronJobControllerV2</code>: Use an alternative implementation of the
<a class=glossary-tooltip title="A repeating task (a Job) that runs on a regular schedule." data-toggle=tooltip data-placement=top href=/docs/concepts/workloads/controllers/cron-jobs/ target=_blank aria-label=CronJob>CronJob</a> controller. Otherwise,
version 1 of the same controller is selected.
The version 2 controller provides experimental performance improvements.</li><li><code>CustomCPUCFSQuotaPeriod</code>: Enable nodes to change <code>cpuCFSQuotaPeriod</code> in
<a href=/docs/tasks/administer-cluster/kubelet-config-file/>kubelet config</a>.</li><li><code>CustomPodDNS</code>: Enable customizing the DNS settings for a Pod using its <code>dnsConfig</code> property.
Check <a href=/docs/concepts/services-networking/dns-pod-service/#pods-dns-config>Pod's DNS Config</a>
for more details.</li><li><code>CustomResourceDefaulting</code>: Enable CRD support for default values in OpenAPI v3 validation schemas.</li><li><code>CustomResourcePublishOpenAPI</code>: Enables publishing of CRD OpenAPI specs.</li><li><code>CustomResourceSubresources</code>: Enable <code>/status</code> and <code>/scale</code> subresources
on resources created from <a href=/docs/concepts/extend-kubernetes/api-extension/custom-resources/>CustomResourceDefinition</a>.</li><li><code>CustomResourceValidation</code>: Enable schema based validation on resources created from
<a href=/docs/concepts/extend-kubernetes/api-extension/custom-resources/>CustomResourceDefinition</a>.</li><li><code>CustomResourceWebhookConversion</code>: Enable webhook-based conversion
on resources created from <a href=/docs/concepts/extend-kubernetes/api-extension/custom-resources/>CustomResourceDefinition</a>.</li><li><code>DefaultPodTopologySpread</code>: Enables the use of <code>PodTopologySpread</code> scheduling plugin to do
<a href=/docs/concepts/workloads/pods/pod-topology-spread-constraints/#internal-default-constraints>default spreading</a>.</li><li><code>DevicePlugins</code>: Enable the <a href=/docs/concepts/extend-kubernetes/compute-storage-net/device-plugins/>device-plugins</a>
based resource provisioning on nodes.</li><li><code>DisableAcceleratorUsageMetrics</code>:
<a href=/docs/concepts/cluster-administration/system-metrics/#disable-accelerator-metrics>Disable accelerator metrics collected by the kubelet</a>.</li><li><code>DownwardAPIHugePages</code>: Enables usage of hugepages in
<a href=/docs/tasks/inject-data-application/downward-api-volume-expose-pod-information>downward API</a>.</li><li><code>DryRun</code>: Enable server-side <a href=/docs/reference/using-api/api-concepts/#dry-run>dry run</a> requests
so that validation, merging, and mutation can be tested without committing.</li><li><code>DynamicAuditing</code>(<em>deprecated</em>): Used to enable dynamic auditing before v1.19.</li><li><code>DynamicKubeletConfig</code>: Enable the dynamic configuration of kubelet. See
<a href=/docs/tasks/administer-cluster/reconfigure-kubelet/>Reconfigure kubelet</a>.</li><li><code>DynamicProvisioningScheduling</code>: Extend the default scheduler to be aware of
volume topology and handle PV provisioning.
This feature is superseded by the <code>VolumeScheduling</code> feature completely in v1.12.</li><li><code>DynamicVolumeProvisioning</code>(<em>deprecated</em>): Enable the
<a href=/docs/concepts/storage/dynamic-provisioning/>dynamic provisioning</a> of persistent volumes to Pods.</li><li><code>EfficientWatchResumption</code>: Allows for storage-originated bookmark (progress
notify) events to be delivered to the users. This is only applied to watch
operations.</li><li><code>EnableAggregatedDiscoveryTimeout</code> (<em>deprecated</em>): Enable the five second
timeout on aggregated discovery calls.</li><li><code>EnableEquivalenceClassCache</code>: Enable the scheduler to cache equivalence of
nodes when scheduling Pods.</li><li><code>EndpointSlice</code>: Enables EndpointSlices for more scalable and extensible
network endpoints. See <a href=/docs/tasks/administer-cluster/enabling-endpointslices/>Enabling EndpointSlices</a>.</li><li><code>EndpointSliceNodeName</code>: Enables EndpointSlice <code>nodeName</code> field.</li><li><code>EndpointSliceProxying</code>: When enabled, kube-proxy running
on Linux will use EndpointSlices as the primary data source instead of
Endpoints, enabling scalability and performance improvements. See
<a href=/docs/tasks/administer-cluster/enabling-endpointslices/>Enabling Endpoint Slices</a>.</li><li><code>EndpointSliceTerminatingCondition</code>: Enables EndpointSlice <code>terminating</code> and <code>serving</code>
condition fields.</li><li><code>EphemeralContainers</code>: Enable the ability to add
<a class=glossary-tooltip title="A type of container type that you can temporarily run inside a Pod" data-toggle=tooltip data-placement=top href=/docs/concepts/workloads/pods/ephemeral-containers/ target=_blank aria-label="ephemeral containers">ephemeral containers</a>
to running pods.</li><li><code>EvenPodsSpread</code>: Enable pods to be scheduled evenly across topology domains. See
<a href=/docs/concepts/workloads/pods/pod-topology-spread-constraints/>Pod Topology Spread Constraints</a>.</li><li><code>ExecProbeTimeout</code>: Ensure kubelet respects exec probe timeouts.
This feature gate exists in case any of your existing workloads depend on a
now-corrected fault where Kubernetes ignored exec probe timeouts. See
<a href=/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/#configure-probes>readiness probes</a>.</li><li><code>ExpandCSIVolumes</code>: Enable the expanding of CSI volumes.</li><li><code>ExpandInUsePersistentVolumes</code>: Enable expanding in-use PVCs. See
<a href=/docs/concepts/storage/persistent-volumes/#resizing-an-in-use-persistentvolumeclaim>Resizing an in-use PersistentVolumeClaim</a>.</li><li><code>ExpandPersistentVolumes</code>: Enable the expanding of persistent volumes. See
<a href=/docs/concepts/storage/persistent-volumes/#expanding-persistent-volumes-claims>Expanding Persistent Volumes Claims</a>.</li><li><code>ExperimentalCriticalPodAnnotation</code>: Enable annotating specific pods as <em>critical</em>
so that their <a href=/docs/tasks/administer-cluster/guaranteed-scheduling-critical-addon-pods/>scheduling is guaranteed</a>.
This feature is deprecated by Pod Priority and Preemption as of v1.13.</li><li><code>ExperimentalHostUserNamespaceDefaulting</code>: Enabling the defaulting user
namespace to host. This is for containers that are using other host namespaces,
host mounts, or containers that are privileged or using specific non-namespaced
capabilities (e.g. <code>MKNODE</code>, <code>SYS_MODULE</code> etc.). This should only be enabled
if user namespace remapping is enabled in the Docker daemon.</li><li><code>GCERegionalPersistentDisk</code>: Enable the regional PD feature on GCE.</li><li><code>GenericEphemeralVolume</code>: Enables ephemeral, inline volumes that support all features
of normal volumes (can be provided by third-party storage vendors, storage capacity tracking,
restore from snapshot, etc.).
See <a href=/docs/concepts/storage/ephemeral-volumes/>Ephemeral Volumes</a>.</li><li><code>GracefulNodeShutdown</code>: Enables support for graceful shutdown in kubelet.
During a system shutdown, kubelet will attempt to detect the shutdown event
and gracefully terminate pods running on the node. See
<a href=/docs/concepts/architecture/nodes/#graceful-node-shutdown>Graceful Node Shutdown</a>
for more details.</li><li><code>HPAContainerMetrics</code>: Enable the <code>HorizontalPodAutoscaler</code> to scale based on
metrics from individual containers in target pods.</li><li><code>HPAScaleToZero</code>: Enables setting <code>minReplicas</code> to 0 for <code>HorizontalPodAutoscaler</code>
resources when using custom or external metrics.</li><li><code>HugePages</code>: Enable the allocation and consumption of pre-allocated
<a href=/docs/tasks/manage-hugepages/scheduling-hugepages/>huge pages</a>.</li><li><code>HugePageStorageMediumSize</code>: Enable support for multiple sizes pre-allocated
<a href=/docs/tasks/manage-hugepages/scheduling-hugepages/>huge pages</a>.</li><li><code>HyperVContainer</code>: Enable
<a href=https://docs.microsoft.com/en-us/virtualization/windowscontainers/manage-containers/hyperv-container>Hyper-V isolation</a>
for Windows containers.</li><li><code>IPv6DualStack</code>: Enable <a href=/docs/concepts/services-networking/dual-stack/>dual stack</a>
support for IPv6.</li><li><code>ImmutableEphemeralVolumes</code>: Allows for marking individual Secrets and ConfigMaps as
immutable for better safety and performance.</li><li><code>KubeletConfigFile</code> (<em>deprecated</em>): Enable loading kubelet configuration from
a file specified using a config file.
See <a href=/docs/tasks/administer-cluster/kubelet-config-file/>setting kubelet parameters via a config file</a>
for more details.</li><li><code>KubeletCredentialProviders</code>: Enable kubelet exec credential providers for image pull credentials.</li><li><code>KubeletPluginsWatcher</code>: Enable probe-based plugin watcher utility to enable kubelet
to discover plugins such as <a href=/docs/concepts/storage/volumes/#csi>CSI volume drivers</a>.</li><li><code>KubeletPodResources</code>: Enable the kubelet's pod resources gRPC endpoint. See
<a href=https://github.com/kubernetes/enhancements/blob/master/keps/sig-node/606-compute-device-assignment/README.md>Support Device Monitoring</a>
for more details.</li><li><code>LegacyNodeRoleBehavior</code>: When disabled, legacy behavior in service load balancers and
node disruption will ignore the <code>node-role.kubernetes.io/master</code> label in favor of the
feature-specific labels provided by <code>NodeDisruptionExclusion</code> and <code>ServiceNodeExclusion</code>.</li><li><code>LocalStorageCapacityIsolation</code>: Enable the consumption of
<a href=/docs/concepts/configuration/manage-resources-containers/>local ephemeral storage</a>
and also the <code>sizeLimit</code> property of an
<a href=/docs/concepts/storage/volumes/#emptydir>emptyDir volume</a>.</li><li><code>LocalStorageCapacityIsolationFSQuotaMonitoring</code>: When <code>LocalStorageCapacityIsolation</code>
is enabled for
<a href=/docs/concepts/configuration/manage-resources-containers/>local ephemeral storage</a>
and the backing filesystem for <a href=/docs/concepts/storage/volumes/#emptydir>emptyDir volumes</a>
supports project quotas and they are enabled, use project quotas to monitor
<a href=/docs/concepts/storage/volumes/#emptydir>emptyDir volume</a> storage consumption rather than
filesystem walk for better performance and accuracy.</li><li><code>MixedProtocolLBService</code>: Enable using different protocols in the same <code>LoadBalancer</code> type
Service instance.</li><li><code>MountContainers</code> (<em>deprecated</em>): Enable using utility containers on host as
the volume mounter.</li><li><code>MountPropagation</code>: Enable sharing volume mounted by one container to other containers or pods.
For more details, please see <a href=/docs/concepts/storage/volumes/#mount-propagation>mount propagation</a>.</li><li><code>NodeDisruptionExclusion</code>: Enable use of the Node label <code>node.kubernetes.io/exclude-disruption</code>
which prevents nodes from being evacuated during zone failures.</li><li><code>NodeLease</code>: Enable the new Lease API to report node heartbeats, which could be used as a node health signal.</li><li><code>NonPreemptingPriority</code>: Enable <code>preemptionPolicy</code> field for PriorityClass and Pod.</li><li><code>PVCProtection</code>: Enable the prevention of a PersistentVolumeClaim (PVC) from
being deleted when it is still used by any Pod.</li><li><code>PersistentLocalVolumes</code>: Enable the usage of <code>local</code> volume type in Pods.
Pod affinity has to be specified if requesting a <code>local</code> volume.</li><li><code>PodDisruptionBudget</code>: Enable the <a href=/docs/tasks/run-application/configure-pdb/>PodDisruptionBudget</a> feature.</li><li><code>PodOverhead</code>: Enable the <a href=/docs/concepts/scheduling-eviction/pod-overhead/>PodOverhead</a>
feature to account for pod overheads.</li><li><code>PodPriority</code>: Enable the descheduling and preemption of Pods based on their
<a href=/docs/concepts/configuration/pod-priority-preemption/>priorities</a>.</li><li><code>PodReadinessGates</code>: Enable the setting of <code>PodReadinessGate</code> field for extending
Pod readiness evaluation. See <a href=/docs/concepts/workloads/pods/pod-lifecycle/#pod-readiness-gate>Pod readiness gate</a>
for more details.</li><li><code>PodShareProcessNamespace</code>: Enable the setting of <code>shareProcessNamespace</code> in a Pod for sharing
a single process namespace between containers running in a pod. More details can be found in
<a href=/docs/tasks/configure-pod-container/share-process-namespace/>Share Process Namespace between Containers in a Pod</a>.</li><li><code>ProcMountType</code>: Enables control over the type proc mounts for containers
by setting the <code>procMount</code> field of a SecurityContext.</li><li><code>QOSReserved</code>: Allows resource reservations at the QoS level preventing pods
at lower QoS levels from bursting into resources requested at higher QoS levels
(memory only for now).</li><li><code>RemainingItemCount</code>: Allow the API servers to show a count of remaining
items in the response to a
<a href=/docs/reference/using-api/api-concepts/#retrieving-large-results-sets-in-chunks>chunking list request</a>.</li><li><code>RemoveSelfLink</code>: Deprecates and removes <code>selfLink</code> from ObjectMeta and
ListMeta.</li><li><code>ResourceLimitsPriorityFunction</code> (<em>deprecated</em>): Enable a scheduler priority function that
assigns a lowest possible score of 1 to a node that satisfies at least one of
the input Pod's cpu and memory limits. The intent is to break ties between
nodes with same scores.</li><li><code>ResourceQuotaScopeSelectors</code>: Enable resource quota scope selectors.</li><li><code>RootCAConfigMap</code>: Configure the <code>kube-controller-manager</code> to publish a
<a class=glossary-tooltip title="An API object used to store non-confidential data in key-value pairs. Can be consumed as environment variables, command-line arguments, or configuration files in a volume." data-toggle=tooltip data-placement=top href=/docs/concepts/configuration/configmap/ target=_blank aria-label=ConfigMap>ConfigMap</a> named <code>kube-root-ca.crt</code>
to every namespace. This ConfigMap contains a CA bundle used for verifying connections
to the kube-apiserver. See
<a href=https://github.com/kubernetes/enhancements/blob/master/keps/sig-auth/1205-bound-service-account-tokens/README.md>Bound Service Account Tokens</a>
for more details.</li><li><code>RotateKubeletClientCertificate</code>: Enable the rotation of the client TLS certificate on the kubelet.
See <a href=/docs/reference/command-line-tools-reference/kubelet-tls-bootstrapping/#kubelet-configuration>kubelet configuration</a> for more details.</li><li><code>RotateKubeletServerCertificate</code>: Enable the rotation of the server TLS certificate on the kubelet.
See <a href=/docs/reference/command-line-tools-reference/kubelet-tls-bootstrapping/#kubelet-configuration>kubelet configuration</a>
for more details.</li><li><code>RunAsGroup</code>: Enable control over the primary group ID set on the init
processes of containers.</li><li><code>RuntimeClass</code>: Enable the <a href=/docs/concepts/containers/runtime-class/>RuntimeClass</a> feature
for selecting container runtime configurations.</li><li><code>ScheduleDaemonSetPods</code>: Enable DaemonSet Pods to be scheduled by the default scheduler
instead of the DaemonSet controller.</li><li><code>SCTPSupport</code>: Enables the <em>SCTP</em> <code>protocol</code> value in Pod, Service,
Endpoints, EndpointSlice, and NetworkPolicy definitions.</li><li><code>ServerSideApply</code>: Enables the <a href=/docs/reference/using-api/server-side-apply/>Sever Side Apply (SSA)</a>
feature on the API Server.</li><li><code>ServiceAccountIssuerDiscovery</code>: Enable OIDC discovery endpoints (issuer and
JWKS URLs) for the service account issuer in the API server. See
<a href=/docs/tasks/configure-pod-container/configure-service-account/#service-account-issuer-discovery>Configure Service Accounts for Pods</a>
for more details.</li><li><code>ServiceAppProtocol</code>: Enables the <code>AppProtocol</code> field on Services and Endpoints.</li><li><code>ServiceLBNodePortControl</code>: Enables the <code>spec.allocateLoadBalancerNodePorts</code>
field on Services.</li><li><code>ServiceLoadBalancerFinalizer</code>: Enable finalizer protection for Service load balancers.</li><li><code>ServiceNodeExclusion</code>: Enable the exclusion of nodes from load balancers
created by a cloud provider. A node is eligible for exclusion if labelled with
"<code>node.kubernetes.io/exclude-from-external-load-balancers</code>".</li><li><code>ServiceTopology</code>: Enable service to route traffic based upon the Node
topology of the cluster. See
<a href=/docs/concepts/services-networking/service-topology/>ServiceTopology</a>
for more details.</li><li><code>SetHostnameAsFQDN</code>: Enable the ability of setting Fully Qualified Domain
Name(FQDN) as the hostname of a pod. See
<a href=/docs/concepts/services-networking/dns-pod-service/#pod-sethostnameasfqdn-field>Pod's <code>setHostnameAsFQDN</code> field</a>.</li><li><code>SizeMemoryBackedVolumes</code>: Enable kubelets to determine the size limit for
memory-backed volumes (mainly <code>emptyDir</code> volumes).</li><li><code>StartupProbe</code>: Enable the
<a href=/docs/concepts/workloads/pods/pod-lifecycle/#when-should-you-use-a-startup-probe>startup</a>
probe in the kubelet.</li><li><code>StorageObjectInUseProtection</code>: Postpone the deletion of PersistentVolume or
PersistentVolumeClaim objects if they are still being used.</li><li><code>StorageVersionAPI</code>: Enable the
<a href=/docs/reference/generated/kubernetes-api/v1.20/#storageversion-v1alpha1-internal-apiserver-k8s-io>storage version API</a>.</li><li><code>StorageVersionHash</code>: Allow API servers to expose the storage version hash in the
discovery.</li><li><code>StreamingProxyRedirects</code>: Instructs the API server to intercept (and follow)
redirects from the backend (kubelet) for streaming requests.
Examples of streaming requests include the <code>exec</code>, <code>attach</code> and <code>port-forward</code> requests.</li><li><code>SupportIPVSProxyMode</code>: Enable providing in-cluster service load balancing using IPVS.
See <a href=/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies>service proxies</a> for more details.</li><li><code>SupportPodPidsLimit</code>: Enable the support to limiting PIDs in Pods.</li><li><code>SupportNodePidsLimit</code>: Enable the support to limiting PIDs on the Node.
The parameter <code>pid=&lt;number></code> in the <code>--system-reserved</code> and <code>--kube-reserved</code>
options can be specified to ensure that the specified number of process IDs
will be reserved for the system as a whole and for Kubernetes system daemons
respectively.</li><li><code>Sysctls</code>: Enable support for namespaced kernel parameters (sysctls) that can be
set for each pod. See
<a href=/docs/tasks/administer-cluster/sysctl-cluster/>sysctls</a> for more details.</li><li><code>TTLAfterFinished</code>: Allow a
<a href=/docs/concepts/workloads/controllers/ttlafterfinished/>TTL controller</a>
to clean up resources after they finish execution.</li><li><code>TaintBasedEvictions</code>: Enable evicting pods from nodes based on taints on Nodes
and tolerations on Pods.
See <a href=/docs/concepts/scheduling-eviction/taint-and-toleration/>taints and tolerations</a>
for more details.</li><li><code>TaintNodesByCondition</code>: Enable automatic tainting nodes based on
<a href=/docs/concepts/architecture/nodes/#condition>node conditions</a>.</li><li><code>TokenRequest</code>: Enable the <code>TokenRequest</code> endpoint on service account resources.</li><li><code>TokenRequestProjection</code>: Enable the injection of service account tokens into a
Pod through a <a href=/docs/concepts/storage/volumes/#projected><code>projected</code> volume</a>.</li><li><code>TopologyManager</code>: Enable a mechanism to coordinate fine-grained hardware resource
assignments for different components in Kubernetes. See
<a href=/docs/tasks/administer-cluster/topology-manager/>Control Topology Management Policies on a node</a>.</li><li><code>VolumePVCDataSource</code>: Enable support for specifying an existing PVC as a DataSource.</li><li><code>VolumeScheduling</code>: Enable volume topology aware scheduling and make the
PersistentVolumeClaim (PVC) binding aware of scheduling decisions. It also
enables the usage of <a href=/docs/concepts/storage/volumes/#local><code>local</code></a> volume
type when used together with the <code>PersistentLocalVolumes</code> feature gate.</li><li><code>VolumeSnapshotDataSource</code>: Enable volume snapshot data source support.</li><li><code>VolumeSubpathEnvExpansion</code>: Enable <code>subPathExpr</code> field for expanding environment
variables into a <code>subPath</code>.</li><li><code>WarningHeaders</code>: Allow sending warning headers in API responses.</li><li><code>WatchBookmark</code>: Enable support for watch bookmark events.</li><li><code>WinDSR</code>: Allows kube-proxy to create DSR loadbalancers for Windows.</li><li><code>WinOverlay</code>: Allows kube-proxy to run in overlay mode for Windows.</li><li><code>WindowsGMSA</code>: Enables passing of GMSA credential specs from pods to container runtimes.</li><li><code>WindowsRunAsUserName</code> : Enable support for running applications in Windows containers
with as a non-default user. See
<a href=/docs/tasks/configure-pod-container/configure-runasusername>Configuring RunAsUserName</a>
for more details.</li><li><code>WindowsEndpointSliceProxying</code>: When enabled, kube-proxy running on Windows
will use EndpointSlices as the primary data source instead of Endpoints,
enabling scalability and performance improvements. See
<a href=/docs/tasks/administer-cluster/enabling-endpointslices/>Enabling Endpoint Slices</a>.</li></ul><h2 id=what-s-next>What's next</h2><ul><li>The <a href=/docs/reference/using-api/deprecation-policy/>deprecation policy</a> for Kubernetes explains
the project's approach to removing features and components.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-29e506a6018204679ef5459653a7aa1f>2 - kubelet</h1><h2 id=synopsis>Synopsis</h2><p>The kubelet is the primary "node agent" that runs on each
node. It can register the node with the apiserver using one of: the hostname; a flag to override the hostname; or specific logic for a cloud provider.</p><p>The kubelet works in terms of a PodSpec. A PodSpec is a YAML or JSON object
that describes a pod. The kubelet takes a set of PodSpecs that are provided through various mechanisms (primarily through the apiserver) and ensures that the containers described in those PodSpecs are running and healthy. The kubelet doesn't manage containers which were not created by Kubernetes.</p><p>Other than from a PodSpec from the apiserver, there are three ways that a container manifest can be provided to the Kubelet.</p><p>File: Path passed as a flag on the command line. Files under this path will be monitored periodically for updates. The monitoring period is 20s by default and is configurable via a flag.</p><p>HTTP endpoint: HTTP endpoint passed as a parameter on the command line. This endpoint is checked every 20 seconds (also configurable with a flag).</p><p>HTTP server: The kubelet can also listen for HTTP and respond to a simple API (underspec'd currently) to submit a new manifest.</p><pre><code>kubelet [flags]
</code></pre><h2 id=options>Options</h2><table style=width:100%;table-layout:fixed><col span=1 style=width:10px><col span=1><tbody><tr><td colspan=2>--add-dir-header</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>If true, adds the file directory to the header of the log messages</td></tr><tr><td colspan=2>--address ip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 0.0.0.0</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The IP address for the Kubelet to serve on (set to `0.0.0.0` for all IPv4 interfaces and `::` for all IPv6 interfaces) (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--allowed-unsafe-sysctls strings</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Comma-separated whitelist of unsafe sysctls or unsafe sysctl patterns (ending in `*`). Use these at your own risk. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--alsologtostderr</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>log to standard error as well as files</td></tr><tr><td colspan=2>--anonymous-auth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Enables anonymous requests to the Kubelet server. Requests that are not rejected by another authentication method are treated as anonymous requests. Anonymous requests have a username of `system:anonymous`, and a group name of `system:unauthenticated`. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--authentication-token-webhook</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Use the `TokenReview` API to determine authentication for bearer tokens. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--authentication-token-webhook-cache-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `2m0s`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The duration to cache responses from the webhook token authenticator. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--authorization-mode string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Authorization mode for Kubelet server. Valid options are `AlwaysAllow` or `Webhook`. `Webhook` mode uses the `SubjectAccessReview` API to determine authorization. (default "AlwaysAllow" when `--config` flag is not provided; "Webhook" when `--config` flag presents.) (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's --config flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--authorization-webhook-cache-authorized-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `5m0s`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The duration to cache 'authorized' responses from the webhook authorizer. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--authorization-webhook-cache-unauthorized-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `30s`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The duration to cache 'unauthorized' responses from the webhook authorizer. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--azure-container-registry-config string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Path to the file containing Azure container registry configuration information.</td></tr><tr><td colspan=2>--bootstrap-kubeconfig string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Path to a kubeconfig file that will be used to get client certificate for kubelet. If the file specified by `--kubeconfig` does not exist, the bootstrap kubeconfig is used to request a client certificate from the API server. On success, a kubeconfig file referencing the generated client certificate and key is written to the path specified by `--kubeconfig`. The client certificate and key file will be stored in the directory pointed by `--cert-dir`.</td></tr><tr><td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `/var/lib/kubelet/pki`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The directory where the TLS certs are located. If `--tls-cert-file` and `--tls-private-key-file` are provided, this flag will be ignored.</td></tr><tr><td colspan=2>--cgroup-driver string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `cgroupfs`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Driver that the kubelet uses to manipulate cgroups on the host. Possible values: `cgroupfs`, `systemd`. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)/td></tr><tr><td colspan=2>--cgroup-root string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `''`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Optional root cgroup to use for pods. This is handled by the container runtime on a best effort basis. Default: '', which means use the container runtime default. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's --config flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--cgroups-per-qos&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `true`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Enable creation of QoS cgroup hierarchy, if true top level QoS and pod cgroups are created. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--chaos-chance float</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>If > 0.0, introduce random client errors and latency. Intended for testing. (DEPRECATED: will be removed in a future version.)</td></tr><tr><td colspan=2>--client-ca-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>If set, any request presenting a client certificate signed by one of the authorities in the client-ca-file is authenticated with an identity corresponding to the CommonName of the client certificate. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's --config flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--cloud-config string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The path to the cloud provider configuration file. Empty string for no configuration file. (DEPRECATED: will be removed in 1.23, in favor of removing cloud providers code from Kubelet.)</td></tr><tr><td colspan=2>--cloud-provider string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The provider for cloud services. Set to empty string for running with no cloud provider. If set, the cloud provider determines the name of the node (consult cloud provider documentation to determine if and how the hostname is used). (DEPRECATED: will be removed in 1.23, in favor of removing cloud provider code from Kubelet.)</td></tr><tr><td colspan=2>--cluster-dns strings</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Comma-separated list of DNS server IP address. This value is used for containers DNS server in case of Pods with "dnsPolicy=ClusterFirst". Note: all DNS servers appearing in the list MUST serve the same set of records otherwise name resolution within the cluster may not work correctly. There is no guarantee as to which DNS server may be contacted for name resolution. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--cluster-domain string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Domain for this cluster. If set, kubelet will configure all containers to search this domain in addition to the host's search domains (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--cni-bin-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `/opt/cni/bin`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>&lt;Warning: Alpha feature> A comma-separated list of full paths of directories in which to search for CNI plugin binaries. This docker-specific flag only works when container-runtime is set to `docker`.</td></tr><tr><td colspan=2>--cni-cache-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `/var/lib/cni/cache`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>&lt;Warning: Alpha feature> The full path of the directory in which CNI should store cache files. This docker-specific flag only works when container-runtime is set to `docker`.</td></tr><tr><td colspan=2>--cni-conf-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `/etc/cni/net.d`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>&lt;Warning: Alpha feature> The full path of the directory in which to search for CNI config files. This docker-specific flag only works when container-runtime is set to `docker`.</td></tr><tr><td colspan=2>--config string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The Kubelet will load its initial configuration from this file. The path may be absolute or relative; relative paths start at the Kubelet's current working directory. Omit this flag to use the built-in default configuration values. Command-line flags override configuration from this file.</td></tr><tr><td colspan=2>--container-log-max-files int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>&lt;Warning: Beta feature> Set the maximum number of container log files that can be present for a container. The number must be &ge; 2. This flag can only be used with `--container-runtime=remote`. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's --config flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--container-log-max-size string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `10Mi`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>&lt;Warning: Beta feature> Set the maximum size (e.g. 10Mi) of container log file before it is rotated. This flag can only be used with `--container-runtime=remote`. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's --config flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--container-runtime string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `docker`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The container runtime to use. Possible values: `docker`, `remote`.</td></tr><tr><td colspan=2>--container-runtime-endpoint string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `unix:///var/run/dockershim.sock`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>[Experimental] The endpoint of remote runtime service. Currently unix socket endpoint is supported on Linux, while npipe and tcp endpoints are supported on windows. Examples: `unix:///var/run/dockershim.sock`, `npipe:////./pipe/dockershim`.</td></tr><tr><td colspan=2>--contention-profiling</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Enable lock contention profiling, if profiling is enabled (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--cpu-cfs-quota&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `true`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Enable CPU CFS quota enforcement for containers that specify CPU limits (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--cpu-cfs-quota-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `100ms`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Sets CPU CFS quota period value, `cpu.cfs_period_us`, defaults to Linux Kernel default. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--cpu-manager-policy string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `none`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>CPU Manager policy to use. Possible values: `none`, `static`. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--cpu-manager-reconcile-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `10s`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>&lt;Warning: Alpha feature> CPU Manager reconciliation period. Examples: `10s`, or `1m`. If not supplied, defaults to node status update frequency. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--docker-endpoint string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `unix:///var/run/docker.sock`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Use this for the `docker` endpoint to communicate with. This docker-specific flag only works when container-runtime is set to `docker`.</td></tr><tr><td colspan=2>--dynamic-config-dir string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The Kubelet will use this directory for checkpointing downloaded configurations and tracking configuration health. The Kubelet will create this directory if it does not already exist. The path may be absolute or relative; relative paths start at the Kubelet's current working directory. Providing this flag enables dynamic Kubelet configuration. The `DynamicKubeletConfig` feature gate must be enabled to pass this flag; this gate currently defaults to `true` because the feature is beta.</td></tr><tr><td colspan=2>--enable-cadvisor-json-endpoints&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `false`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Enable cAdvisor json `/spec` and `/stats/*` endpoints. This flag has no effect on the /stats/summary endpoint. (DEPRECATED: will be removed in a future version)</td></tr><tr><td colspan=2>--enable-controller-attach-detach&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `true`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Enables the Attach/Detach controller to manage attachment/detachment of volumes scheduled to this node, and disables kubelet from executing any attach/detach operations.</td></tr><tr><td colspan=2>--enable-debugging-handlers&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `true`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Enables server endpoints for log collection and local running of containers and commands. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--enable-server&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `true`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Enable the Kubelet's server. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--enforce-node-allocatable strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `pods`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>A comma separated list of levels of node allocatable enforcement to be enforced by kubelet. Acceptable options are `none`, `pods`, `system-reserved`, and `kube-reserved`. If the latter two options are specified, `--system-reserved-cgroup` and `--kube-reserved-cgroup` must also be set, respectively. If `none` is specified, no additional options should be set. See https://kubernetes.io/docs/tasks/administer-cluster/reserve-compute-resources/ for more details. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's --config flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--event-burst int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Maximum size of a bursty event records, temporarily allows event records to burst to this number, while still not exceeding `--event-qps`. Only used if `--event-qps` > 0. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--event-qps int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>If > `0`, limit event creations per second to this value. If `0`, unlimited. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--eviction-hard mapStringString&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `imagefs.available<15%,memory.available<100Mi,nodefs.available<10%`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>A set of eviction thresholds (e.g. `memory.available<1Gi`) that if met would trigger a pod eviction. On a Linux node, the default value also includes `nodefs.inodesFree<5%`. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--eviction-max-pod-grace-period int32</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Maximum allowed grace period (in seconds) to use when terminating pods in response to a soft eviction threshold being met. If negative, defer to pod specified value. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--eviction-minimum-reclaim mapStringString</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>A set of minimum reclaims (e.g. `imagefs.available=2Gi`) that describes the minimum amount of resource the kubelet will reclaim when performing a pod eviction if that resource is under pressure. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--eviction-pressure-transition-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `5m0s`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Duration for which the kubelet has to wait before transitioning out of an eviction pressure condition. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--eviction-soft mapStringString</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>A set of eviction thresholds (e.g. `memory.available>1.5Gi`) that if met over a corresponding grace period would trigger a pod eviction. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--eviction-soft-grace-period mapStringString</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>A set of eviction grace periods (e.g. `memory.available=1m30s`) that correspond to how long a soft eviction threshold must hold before triggering a pod eviction. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--exit-on-lock-contention</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Whether kubelet should exit upon lock-file contention.</td></tr><tr><td colspan=2>--experimental-allocatable-ignore-eviction&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `false`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>When set to `true`, Hard eviction thresholds will be ignored while calculating node allocatable. See https://kubernetes.io/docs/tasks/administer-cluster/reserve-compute-resources/ for more details. (DEPRECATED: will be removed in 1.23)</td></tr><tr><td colspan=2>--experimental-bootstrap-kubeconfig string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>DEPRECATED: Use `--bootstrap-kubeconfig`</td></tr><tr><td colspan=2>--experimental-check-node-capabilities-before-mount</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>[Experimental] if set to `true`, the kubelet will check the underlying node for required components (binaries, etc.) before performing the mount (DEPRECATED: will be removed in 1.23, in favor of using CSI.)</td></tr><tr><td colspan=2>--experimental-kernel-memcg-notification</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>If enabled, the kubelet will integrate with the kernel memcg notification to determine if memory eviction thresholds are crossed rather than polling. This flag will be removed in 1.23. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--experimental-log-sanitization bool</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>[Experimental] When enabled prevents logging of fields tagged as sensitive (passwords, keys, tokens). Runtime log sanitization may introduce significant computation overhead and therefore should not be enabled in production. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's --config flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</tr><tr><td colspan=2>--experimental-mounter-path string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `mount`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>[Experimental] Path of mounter binary. Leave empty to use the default `mount`. (DEPRECATED: will be removed in 1.23, in favor of using CSI.)</td></tr><tr><td colspan=2>--fail-swap-on&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `true`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Makes the Kubelet fail to start if swap is enabled on the node. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--feature-gates mapStringBool</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>A set of `key=value` pairs that describe feature gates for alpha/experimental features. Options are:<br>APIListChunking=true|false (BETA - default=true)<br>APIPriorityAndFairness=true|false (BETA - default=true)<br>APIResponseCompression=true|false (BETA - default=true)<br>APIServerIdentity=true|false (ALPHA - default=false)<br>AllAlpha=true|false (ALPHA - default=false)<br>AllBeta=true|false (BETA - default=false)<br>AllowInsecureBackendProxy=true|false (BETA - default=true)<br>AnyVolumeDataSource=true|false (ALPHA - default=false)<br>AppArmor=true|false (BETA - default=true)<br>BalanceAttachedNodeVolumes=true|false (ALPHA - default=false)<br>BoundServiceAccountTokenVolume=true|false (ALPHA - default=false)<br>CPUManager=true|false (BETA - default=true)<br>CRIContainerLogRotation=true|false (BETA - default=true)<br>CSIInlineVolume=true|false (BETA - default=true)<br>CSIMigration=true|false (BETA - default=true)<br>CSIMigrationAWS=true|false (BETA - default=false)<br>CSIMigrationAWSComplete=true|false (ALPHA - default=false)<br>CSIMigrationAzureDisk=true|false (BETA - default=false)<br>CSIMigrationAzureDiskComplete=true|false (ALPHA - default=false)<br>CSIMigrationAzureFile=true|false (ALPHA - default=false)<br>CSIMigrationAzureFileComplete=true|false (ALPHA - default=false)<br>CSIMigrationGCE=true|false (BETA - default=false)<br>CSIMigrationGCEComplete=true|false (ALPHA - default=false)<br>CSIMigrationOpenStack=true|false (BETA - default=false)<br>CSIMigrationOpenStackComplete=true|false (ALPHA - default=false)<br>CSIMigrationvSphere=true|false (BETA - default=false)<br>CSIMigrationvSphereComplete=true|false (BETA - default=false)<br>CSIServiceAccountToken=true|false (ALPHA - default=false)<br>CSIStorageCapacity=true|false (ALPHA - default=false)<br>CSIVolumeFSGroupPolicy=true|false (BETA - default=true)<br>ConfigurableFSGroupPolicy=true|false (BETA - default=true)<br>CronJobControllerV2=true|false (ALPHA - default=false)<br>CustomCPUCFSQuotaPeriod=true|false (ALPHA - default=false)<br>DefaultPodTopologySpread=true|false (BETA - default=true)<br>DevicePlugins=true|false (BETA - default=true)<br>DisableAcceleratorUsageMetrics=true|false (BETA - default=true)<br>DownwardAPIHugePages=true|false (ALPHA - default=false)<br>DynamicKubeletConfig=true|false (BETA - default=true)<br>EfficientWatchResumption=true|false (ALPHA - default=false)<br>EndpointSlice=true|false (BETA - default=true)<br>EndpointSliceNodeName=true|false (ALPHA - default=false)<br>EndpointSliceProxying=true|false (BETA - default=true)<br>EndpointSliceTerminatingCondition=true|false (ALPHA - default=false)<br>EphemeralContainers=true|false (ALPHA - default=false)<br>ExpandCSIVolumes=true|false (BETA - default=true)<br>ExpandInUsePersistentVolumes=true|false (BETA - default=true)<br>ExpandPersistentVolumes=true|false (BETA - default=true)<br>ExperimentalHostUserNamespaceDefaulting=true|false (BETA - default=false)<br>GenericEphemeralVolume=true|false (ALPHA - default=false)<br>GracefulNodeShutdown=true|false (ALPHA - default=false)<br>HPAContainerMetrics=true|false (ALPHA - default=false)<br>HPAScaleToZero=true|false (ALPHA - default=false)<br>HugePageStorageMediumSize=true|false (BETA - default=true)<br>IPv6DualStack=true|false (ALPHA - default=false)<br>ImmutableEphemeralVolumes=true|false (BETA - default=true)<br>KubeletCredentialProviders=true|false (ALPHA - default=false)<br>KubeletPodResources=true|false (BETA - default=true)<br>LegacyNodeRoleBehavior=true|false (BETA - default=true)<br>LocalStorageCapacityIsolation=true|false (BETA - default=true)<br>LocalStorageCapacityIsolationFSQuotaMonitoring=true|false (ALPHA - default=false)<br>MixedProtocolLBService=true|false (ALPHA - default=false)<br>NodeDisruptionExclusion=true|false (BETA - default=true)<br>NonPreemptingPriority=true|false (BETA - default=true)<br>PodDisruptionBudget=true|false (BETA - default=true)<br>PodOverhead=true|false (BETA - default=true)<br>ProcMountType=true|false (ALPHA - default=false)<br>QOSReserved=true|false (ALPHA - default=false)<br>RemainingItemCount=true|false (BETA - default=true)<br>RemoveSelfLink=true|false (BETA - default=true)<br>RootCAConfigMap=true|false (BETA - default=true)<br>RotateKubeletServerCertificate=true|false (BETA - default=true)<br>RunAsGroup=true|false (BETA - default=true)<br>ServerSideApply=true|false (BETA - default=true)<br>ServiceAccountIssuerDiscovery=true|false (BETA - default=true)<br>ServiceLBNodePortControl=true|false (ALPHA - default=false)<br>ServiceNodeExclusion=true|false (BETA - default=true)<br>ServiceTopology=true|false (ALPHA - default=false)<br>SetHostnameAsFQDN=true|false (BETA - default=true)<br>SizeMemoryBackedVolumes=true|false (ALPHA - default=false)<br>StorageVersionAPI=true|false (ALPHA - default=false)<br>StorageVersionHash=true|false (BETA - default=true)<br>Sysctls=true|false (BETA - default=true)<br>TTLAfterFinished=true|false (ALPHA - default=false)<br>TopologyManager=true|false (BETA - default=true)<br>ValidateProxyRedirects=true|false (BETA - default=true)<br>WarningHeaders=true|false (BETA - default=true)<br>WinDSR=true|false (ALPHA - default=false)<br>WinOverlay=true|false (BETA - default=true)<br>WindowsEndpointSliceProxying=true|false (ALPHA - default=false)<br>(DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--file-check-frequency duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `20s`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Duration between checking config files for new data. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--hairpin-mode string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `promiscuous-bridge`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>How should the kubelet setup hairpin NAT. This allows endpoints of a Service to load balance back to themselves if they should try to access their own Service. Valid values are `promiscuous-bridge`, `hairpin-veth` and `none`. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--healthz-bind-address ip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `127.0.0.1`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The IP address for the healthz server to serve on (set to `0.0.0.0` for all IPv4 interfaces and `::` for all IPv6 interfaces). (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--healthz-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10248</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The port of the localhost healthz endpoint (set to `0` to disable). (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>-h, --help</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>help for kubelet</td></tr><tr><td colspan=2>--hostname-override string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>If non-empty, will use this string as identification instead of the actual hostname. If `--cloud-provider` is set, the cloud provider determines the name of the node (consult cloud provider documentation to determine if and how the hostname is used).</td></tr><tr><td colspan=2>--housekeeping-interval duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `10s`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Interval between container housekeepings.</td></tr><tr><td colspan=2>--http-check-frequency duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `20s`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Duration between checking HTTP for new data. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--image-credential-provider-bin-dir string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The path to the directory where credential provider plugin binaries are located.</td></tr><tr><td colspan=2>--image-credential-provider-config string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The path to the credential provider plugin config file.</td></tr><tr><td colspan=2>--image-gc-high-threshold int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 85</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The percent of disk usage after which image garbage collection is always run. Values must be within the range [0, 100], To disable image garbage collection, set to 100. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--image-gc-low-threshold int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 80</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The percent of disk usage before which image garbage collection is never run. Lowest disk usage to garbage collect to. Values must be within the range [0, 100] and should not be larger than that of `--image-gc-high-threshold`. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--image-pull-progress-deadline duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `1m0s`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>If no pulling progress is made before this deadline, the image pulling will be cancelled. This docker-specific flag only works when container-runtime is set to `docker`.</td></tr><tr><td colspan=2>--image-service-endpoint string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>[Experimental] The endpoint of remote image service. If not specified, it will be the same with `--container-runtime-endpoint` by default. Currently UNIX socket endpoint is supported on Linux, while npipe and TCP endpoints are supported on Windows. Examples: `unix:///var/run/dockershim.sock`, `npipe:////./pipe/dockershim`</td></tr><tr><td colspan=2>--iptables-drop-bit int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 15</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The bit of the `fwmark` space to mark packets for dropping. Must be within the range [0, 31]. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--iptables-masquerade-bit int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 14</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The bit of the `fwmark` space to mark packets for SNAT. Must be within the range [0, 31]. Please match this parameter with corresponding parameter in `kube-proxy`. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--keep-terminated-pod-volumes</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Keep terminated pod volumes mounted to the node after the pod terminates. Can be useful for debugging volume related issues. (DEPRECATED: will be removed in a future version)</td></tr><tr><td colspan=2>--kernel-memcg-notification</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>If enabled, the kubelet will integrate with the kernel memcg notification to determine if memory eviction thresholds are crossed rather than polling. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--kube-api-burst int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Burst to use while talking with kubernetes API server. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--kube-api-content-type string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `application/vnd.kubernetes.protobuf`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Content type of requests sent to apiserver. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--kube-api-qps int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>QPS to use while talking with kubernetes API server. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--kube-reserved mapStringString&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: &lt;None></td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>A set of `<resource name>=<resource quantity>` (e.g. `cpu=200m,memory=500Mi,ephemeral-storage=1Gi,pid='100'`) pairs that describe resources reserved for kubernetes system components. Currently `cpu`, `memory` and local `ephemeral-storage` for root file system are supported. See http://kubernetes.io/docs/user-guide/compute-resources for more detail. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--kube-reserved-cgroup string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `''`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Absolute name of the top level cgroup that is used to manage kubernetes components for which compute resources were reserved via `--kube-reserved` flag. Ex. `/kube-reserved`. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--kubeconfig string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Path to a kubeconfig file, specifying how to connect to the API server. Providing `--kubeconfig` enables API server mode, omitting `--kubeconfig` enables standalone mode.</td></tr><tr><td colspan=2>--kubelet-cgroups string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Optional absolute name of cgroups to create and run the Kubelet in. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--lock-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>&lt;Warning: Alpha feature> The path to file for kubelet to use as a lock file.</td></tr><tr><td colspan=2>--log-backtrace-at traceLocation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `:0`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>When logging hits line `<file>:<n>`, emit a stack trace.</td></tr><tr><td colspan=2>--log-dir string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>If non-empty, write log files in this directory</td></tr><tr><td colspan=2>--log-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>If non-empty, use this log file</td></tr><tr><td colspan=2>--log-file-max-size uint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1800</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Defines the maximum size a log file can grow to. Unit is megabytes. If the value is 0, the maximum file size is unlimited.</td></tr><tr><td colspan=2>--log-flush-frequency duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `5s`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Maximum number of seconds between log flushes.</td></tr><tr><td colspan=2>--logging-format string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `text`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Sets the log format. Permitted formats: `text`, `json`.\nNon-default formats don't honor these flags: `--add-dir-header`, `--alsologtostderr`, `--log-backtrace-at`, `--log-dir`, `--log-file`, `--log-file-max-size`, `--logtostderr`, `--skip_headers`, `--skip_log_headers`, `--stderrthreshold`, `--log-flush-frequency`.\nNon-default choices are currently alpha and subject to change without warning. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--logtostderr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `true`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>log to standard error instead of files.</td></tr><tr><td colspan=2>--make-iptables-util-chains&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `true`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>If true, kubelet will ensure `iptables` utility rules are present on host. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--manifest-url string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>URL for accessing additional Pod specifications to run (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--manifest-url-header string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Comma-separated list of HTTP headers to use when accessing the URL provided to `--manifest-url`. Multiple headers with the same name will be added in the same order provided. This flag can be repeatedly invoked. For example: `--manifest-url-header 'a:hello,b:again,c:world' --manifest-url-header 'b:beautiful'` (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--master-service-namespace string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `default`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The namespace from which the kubernetes master services should be injected into pods. (DEPRECATED: This flag will be removed in a future version.)</td></tr><tr><td colspan=2>--max-open-files int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1000000</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Number of files that can be opened by Kubelet process. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--max-pods int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 110</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Number of Pods that can run on this Kubelet. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--maximum-dead-containers int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: -1</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Maximum number of old instances of containers to retain globally. Each container takes up some disk space. To disable, set to a negative number. (DEPRECATED: Use `--eviction-hard` or `--eviction-soft` instead. Will be removed in a future version.)</td></tr><tr><td colspan=2>--maximum-dead-containers-per-container int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Maximum number of old instances to retain per container. Each container takes up some disk space. (DEPRECATED: Use `--eviction-hard` or `--eviction-soft` instead. Will be removed in a future version.)</td></tr><tr><td colspan=2>--minimum-container-ttl-duration duration</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Minimum age for a finished container before it is garbage collected. Examples: `300ms`, `10s` or `2h45m` (DEPRECATED: Use `--eviction-hard` or `--eviction-soft` instead. Will be removed in a future version.)</td></tr><tr><td colspan=2>--minimum-image-ttl-duration duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `2m0s`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Minimum age for an unused image before it is garbage collected. Examples: `300ms`, `10s` or `2h45m`. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--network-plugin string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>&lt;Warning: Alpha feature> The name of the network plugin to be invoked for various events in kubelet/pod lifecycle. This docker-specific flag only works when container-runtime is set to `docker`.</td></tr><tr><td colspan=2>--network-plugin-mtu int32</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>&lt;Warning: Alpha feature> The MTU to be passed to the network plugin, to override the default. Set to `0` to use the default 1460 MTU. This docker-specific flag only works when container-runtime is set to `docker`.</td></tr><tr><td colspan=2>--node-ip string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>IP address of the node. If set, kubelet will use this IP address for the node</td></tr><tr><td colspan=2>--node-labels mapStringString</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>&lt;Warning: Alpha feature>Labels to add when registering the node in the cluster. Labels must be `key=value pairs` separated by `,`. Labels in the `kubernetes.io` namespace must begin with an allowed prefix (`kubelet.kubernetes.io`, `node.kubernetes.io`) or be in the specifically allowed set (`beta.kubernetes.io/arch`, `beta.kubernetes.io/instance-type`, `beta.kubernetes.io/os`, `failure-domain.beta.kubernetes.io/region`, `failure-domain.beta.kubernetes.io/zone`, `kubernetes.io/arch`, `kubernetes.io/hostname`, `kubernetes.io/os`, `node.kubernetes.io/instance-type`, `topology.kubernetes.io/region`, `topology.kubernetes.io/zone`)</td></tr><tr><td colspan=2>--node-status-max-images int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 50</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The maximum number of images to report in `node.status.images`. If `-1` is specified, no cap will be applied. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--node-status-update-frequency duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `10s`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Specifies how often kubelet posts node status to master. Note: be cautious when changing the constant, it must work with nodeMonitorGracePeriod in Node controller. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--non-masquerade-cidr string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `10.0.0.0/8`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Traffic to IPs outside this range will use IP masquerade. Set to `0.0.0.0/0` to never masquerade. (DEPRECATED: will be removed in a future version)</td></tr><tr><td colspan=2>--one-output</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>If true, only write logs to their native severity level (vs also writing to each lower severity level.</td></tr><tr><td colspan=2>--oom-score-adj int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: -999</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The oom-score-adj value for kubelet process. Values must be within the range [-1000, 1000]. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--pod-cidr string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The CIDR to use for pod IP addresses, only used in standalone mode. In cluster mode, this is obtained from the master. For IPv6, the maximum number of IP's allocated is 65536 (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--pod-infra-container-image string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `k8s.gcr.io/pause:3.2`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Specified image will not be pruned by the image garbage collector. When container-runtime is set to `docker`, all containers in each pod will use the network/ipc namespaces from this image. Other CRI implementations have their own configuration to set this image.</td></tr><tr><td colspan=2>--pod-manifest-path string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Path to the directory containing static pod files to run, or the path to a single static pod file. Files starting with dots will be ignored. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--pod-max-pids int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: -1</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Set the maximum number of processes per pod. If `-1`, the kubelet defaults to the node allocatable PID capacity. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--pods-per-core int32</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Number of Pods per core that can run on this Kubelet. The total number of Pods on this Kubelet cannot exceed `--max-pods`, so `--max-pods` will be used if this calculation results in a larger number of Pods allowed on the Kubelet. A value of `0` disables this limit. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10250</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The port for the Kubelet to serve on. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--protect-kernel-defaults</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Default kubelet behaviour for kernel tuning. If set, kubelet errors if any of kernel tunables is different than kubelet defaults. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--provider-id string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Unique identifier for identifying the node in a machine database, i.e cloud provider. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--qos-reserved mapStringString</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>&lt;Warning: Alpha feature> A set of `<resource name>=<percentage>` (e.g. `memory=50%`) pairs that describe how pod resource requests are reserved at the QoS level. Currently only memory is supported. Requires the `QOSReserved` feature gate to be enabled. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--read-only-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10255</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The read-only port for the Kubelet to serve on with no authentication/authorization (set to `0` to disable). (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--really-crash-for-testing</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>If true, when panics occur crash. Intended for testing. (DEPRECATED: will be removed in a future version.)</td></tr><tr><td colspan=2>--redirect-container-streaming</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Enables container streaming redirect. If false, kubelet will proxy container streaming data between the API server and container runtime; if `true`, kubelet will return an HTTP redirect to the API server, and the API server will access container runtime directly. The proxy approach is more secure, but introduces some overhead. The redirect approach is more performant, but less secure because the connection between apiserver and container runtime may not be authenticated. (DEPRECATED: Container streaming redirection will be removed from the kubelet in v1.20, and this flag will be removed in v1.22. For more details, see http://git.k8s.io/enhancements/keps/sig-node/20191205-container-streaming-requests.md)</td></tr><tr><td colspan=2>--register-node&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `true`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Register the node with the API server. If `--kubeconfig` is not provided, this flag is irrelevant, as the Kubelet won't have an API server to register with. Default to `true`.</td></tr><tr><td colspan=2>--register-schedulable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `true`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Register the node as schedulable. Won't have any effect if `--register-node` is false. (DEPRECATED: will be removed in a future version)</td></tr><tr><td colspan=2>--register-with-taints mapStringString</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Register the node with the given list of taints (comma separated `<key>=<value>:<effect>`). No-op if `--register-node` is `false`.</td></tr><tr><td colspan=2>--registry-burst int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Maximum size of a bursty pulls, temporarily allows pulls to burst to this number, while still not exceeding `--registry-qps`. Only used if `--registry-qps > 0`. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--registry-qps int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>If > 0, limit registry pull QPS to this value. If `0`, unlimited. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--reserved-cpus string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>A comma-separated list of CPUs or CPU ranges that are reserved for system and kubernetes usage. This specific list will supersede cpu counts in `--system-reserved` and `--kube-reserved`. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--resolv-conf string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `/etc/resolv.conf`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Resolver configuration file used as the basis for the container DNS resolution configuration. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--root-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `/var/lib/kubelet`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Directory path for managing kubelet files (volume mounts, etc).</td></tr><tr><td colspan=2>--rotate-certificates</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>&lt;Warning: Beta feature> Auto rotate the kubelet client certificates by requesting new certificates from the `kube-apiserver` when the certificate expiration approaches. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--rotate-server-certificates</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Auto-request and rotate the kubelet serving certificates by requesting new certificates from the `kube-apiserver` when the certificate expiration approaches. Requires the `RotateKubeletServerCertificate` feature gate to be enabled, and approval of the submitted `CertificateSigningRequest` objects. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--runonce</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>If `true`, exit after spawning pods from local manifests or remote urls. Exclusive with `--enable-server` (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's --config flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--runtime-cgroups string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Optional absolute name of cgroups to create and run the runtime in.</td></tr><tr><td colspan=2>--runtime-request-timeout duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `2m0s`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Timeout of all runtime requests except long running request - `pull`, `logs`, `exec` and `attach`. When timeout exceeded, kubelet will cancel the request, throw out an error and retry later. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--seccomp-profile-root string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `/var/lib/kubelet/seccomp`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>&lt;Warning: Alpha feature> Directory path for seccomp profiles. (DEPRECATED: will be removed in 1.23, in favor of using the `<root-dir>/seccomp` directory)</td></tr><tr><td colspan=2>--serialize-image-pulls&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `true`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Pull images one at a time. We recommend *not* changing the default value on nodes that run docker daemon with version &lt; 1.9 or an `aufs` storage backend. Issue #10959 has more details. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--skip-headers</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>If `true`, avoid header prefixes in the log messages</td></tr><tr><td colspan=2>--skip-log-headers</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>If `true`, avoid headers when opening log files</td></tr><tr><td colspan=2>--stderrthreshold int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 2</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>logs at or above this threshold go to stderr.</td></tr><tr><td colspan=2>--streaming-connection-idle-timeout duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `4h0m0s`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Maximum time a streaming connection can be idle before the connection is automatically closed. `0` indicates no timeout. Example: `5m`. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--sync-frequency duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `1m0s`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Max period between synchronizing running containers and config. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--system-cgroups string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Optional absolute name of cgroups in which to place all non-kernel processes that are not already inside a cgroup under `/`. Empty for no container. Rolling back the flag requires a reboot. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--system-reserved mapStringString&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: \<none\></td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>A set of `<resource name>=<resource quantity>` (e.g. `cpu=200m,memory=500Mi,ephemeral-storage=1Gi,pid='100'`) pairs that describe resources reserved for non-kubernetes components. Currently only `cpu` and `memory` are supported. See http://kubernetes.io/docs/user-guide/compute-resources for more detail. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--system-reserved-cgroup string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `''`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Absolute name of the top level cgroup that is used to manage non-kubernetes components for which compute resources were reserved via `--system-reserved` flag. Ex. `/system-reserved`. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--tls-cert-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>File containing x509 Certificate used for serving HTTPS (with intermediate certs, if any, concatenated after server cert). If `--tls-cert-file` and `--tls-private-key-file` are not provided, a self-signed certificate and key are generated for the public address and saved to the directory passed to `--cert-dir`. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--tls-cipher-suites stringSlice</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Comma-separated list of cipher suites for the server. If omitted, the default Go cipher suites will be used.<br>Preferred values:
TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384, TLS_CHACHA20_POLY1305_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256, TLS_RSA_WITH_3DES_EDE_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_GCM_SHA384.<br>Insecure values: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_RC4_128_SHA, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_RC4_128_SHA. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's --config flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</tr><tr><td colspan=2>--tls-min-version string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Minimum TLS version supported. Possible values: `VersionTLS10`, `VersionTLS11`, `VersionTLS12`, `VersionTLS13` (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--tls-private-key-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>File containing x509 private key matching `--tls-cert-file`. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--topology-manager-policy string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `none`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Topology Manager policy to use. Possible values: `none`, `best-effort`, `restricted`, `single-numa-node`. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--topology-manager-scope string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `container`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Scope to which topology hints applied. Topology Manager collects hints from Hint Providers and applies them to defined scope to ensure the pod admission. Possible values: 'container' (default), 'pod'. (default "container") (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's --config flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>-v, --v Level</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Number for the log level verbosity</td></tr><tr><td colspan=2>--version version[=true]</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Print version information and quit</td></tr><tr><td colspan=2>--vmodule moduleSpec</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Comma-separated list of `pattern=N` settings for file-filtered logging</td></tr><tr><td colspan=2>--volume-plugin-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `/usr/libexec/kubernetes/kubelet-plugins/volume/exec/`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>The full path of the directory in which to search for additional third party volume plugins. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr><tr><td colspan=2>--volume-stats-agg-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: `1m0s`</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word>Specifies interval for kubelet to calculate and cache the volume disk usage for all pods and volumes. To disable volume calculations, set to `0`. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's `--config` flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td></tr></tbody></table></div><div class=td-content style=page-break-before:always><h1 id=pg-ec8ff2888d36f533a57bc9704ccc84e0>3 - kube-apiserver</h1><h2 id=synopsis>Synopsis</h2><p>The Kubernetes API server validates and configures data
for the api objects which include pods, services, replicationcontrollers, and
others. The API Server services REST operations and provides the frontend to the
cluster's shared state through which all other components interact.</p><pre><code>kube-apiserver [flags]
</code></pre><h2 id=options>Options</h2><table style=width:100%;table-layout:fixed><col span=1 style=width:10px><col span=1><tbody><tr><td colspan=2>--add-dir-header</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true, adds the file directory to the header of the log messages</p></td></tr><tr><td colspan=2>--admission-control-config-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>File with admission control configuration.</p></td></tr><tr><td colspan=2>--advertise-address string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address on which to advertise the apiserver to members of the cluster. This address must be reachable by the rest of the cluster. If blank, the --bind-address will be used. If --bind-address is unspecified, the host's default interface will be used.</p></td></tr><tr><td colspan=2>--allow-privileged</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true, allow privileged containers. [default=false]</p></td></tr><tr><td colspan=2>--alsologtostderr</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>log to standard error as well as files</p></td></tr><tr><td colspan=2>--anonymous-auth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Enables anonymous requests to the secure port of the API server. Requests that are not rejected by another authentication method are treated as anonymous requests. Anonymous requests have a username of system:anonymous, and a group name of system:unauthenticated.</p></td></tr><tr><td colspan=2>--api-audiences strings</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Identifiers of the API. The service account token authenticator will validate that tokens used against the API are bound to at least one of these audiences. If the --service-account-issuer flag is configured and this flag is not, this field defaults to a single element list containing the issuer URL.</p></td></tr><tr><td colspan=2>--apiserver-count int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The number of apiservers running in the cluster, must be a positive number. (In use when --endpoint-reconciler-type=master-count is enabled.)</p></td></tr><tr><td colspan=2>--audit-log-batch-buffer-size int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10000</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The size of the buffer to store events before batching and writing. Only used in batch mode.</p></td></tr><tr><td colspan=2>--audit-log-batch-max-size int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The maximum size of a batch. Only used in batch mode.</p></td></tr><tr><td colspan=2>--audit-log-batch-max-wait duration</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The amount of time to wait before force writing the batch that hadn't reached the max size. Only used in batch mode.</p></td></tr><tr><td colspan=2>--audit-log-batch-throttle-burst int</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum number of requests sent at the same moment if ThrottleQPS was not utilized before. Only used in batch mode.</p></td></tr><tr><td colspan=2>--audit-log-batch-throttle-enable</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Whether batching throttling is enabled. Only used in batch mode.</p></td></tr><tr><td colspan=2>--audit-log-batch-throttle-qps float</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum average number of batches per second. Only used in batch mode.</p></td></tr><tr><td colspan=2>--audit-log-compress</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If set, the rotated log files will be compressed using gzip.</p></td></tr><tr><td colspan=2>--audit-log-format string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "json"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Format of saved audits. "legacy" indicates 1-line text format for each event. "json" indicates structured json format. Known formats are legacy,json.</p></td></tr><tr><td colspan=2>--audit-log-maxage int</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The maximum number of days to retain old audit log files based on the timestamp encoded in their filename.</p></td></tr><tr><td colspan=2>--audit-log-maxbackup int</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The maximum number of old audit log files to retain.</p></td></tr><tr><td colspan=2>--audit-log-maxsize int</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The maximum size in megabytes of the audit log file before it gets rotated.</p></td></tr><tr><td colspan=2>--audit-log-mode string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "blocking"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Strategy for sending audit events. Blocking indicates sending events should block server responses. Batch causes the backend to buffer and write events asynchronously. Known modes are batch,blocking,blocking-strict.</p></td></tr><tr><td colspan=2>--audit-log-path string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If set, all requests coming to the apiserver will be logged to this file. '-' means standard out.</p></td></tr><tr><td colspan=2>--audit-log-truncate-enabled</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Whether event and batch truncating is enabled.</p></td></tr><tr><td colspan=2>--audit-log-truncate-max-batch-size int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10485760</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum size of the batch sent to the underlying backend. Actual serialized size can be several hundreds of bytes greater. If a batch exceeds this limit, it is split into several batches of smaller size.</p></td></tr><tr><td colspan=2>--audit-log-truncate-max-event-size int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 102400</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum size of the audit event sent to the underlying backend. If the size of an event is greater than this number, first request and response are removed, and if this doesn't reduce the size enough, event is discarded.</p></td></tr><tr><td colspan=2>--audit-log-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "audit.k8s.io/v1"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>API group and version used for serializing audit events written to log.</p></td></tr><tr><td colspan=2>--audit-policy-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the file that defines the audit policy configuration.</p></td></tr><tr><td colspan=2>--audit-webhook-batch-buffer-size int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10000</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The size of the buffer to store events before batching and writing. Only used in batch mode.</p></td></tr><tr><td colspan=2>--audit-webhook-batch-max-size int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 400</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The maximum size of a batch. Only used in batch mode.</p></td></tr><tr><td colspan=2>--audit-webhook-batch-max-wait duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 30s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The amount of time to wait before force writing the batch that hadn't reached the max size. Only used in batch mode.</p></td></tr><tr><td colspan=2>--audit-webhook-batch-throttle-burst int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 15</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum number of requests sent at the same moment if ThrottleQPS was not utilized before. Only used in batch mode.</p></td></tr><tr><td colspan=2>--audit-webhook-batch-throttle-enable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Whether batching throttling is enabled. Only used in batch mode.</p></td></tr><tr><td colspan=2>--audit-webhook-batch-throttle-qps float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum average number of batches per second. Only used in batch mode.</p></td></tr><tr><td colspan=2>--audit-webhook-config-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeconfig formatted file that defines the audit webhook configuration.</p></td></tr><tr><td colspan=2>--audit-webhook-initial-backoff duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The amount of time to wait before retrying the first failed request.</p></td></tr><tr><td colspan=2>--audit-webhook-mode string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "batch"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Strategy for sending audit events. Blocking indicates sending events should block server responses. Batch causes the backend to buffer and write events asynchronously. Known modes are batch,blocking,blocking-strict.</p></td></tr><tr><td colspan=2>--audit-webhook-truncate-enabled</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Whether event and batch truncating is enabled.</p></td></tr><tr><td colspan=2>--audit-webhook-truncate-max-batch-size int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10485760</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum size of the batch sent to the underlying backend. Actual serialized size can be several hundreds of bytes greater. If a batch exceeds this limit, it is split into several batches of smaller size.</p></td></tr><tr><td colspan=2>--audit-webhook-truncate-max-event-size int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 102400</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum size of the audit event sent to the underlying backend. If the size of an event is greater than this number, first request and response are removed, and if this doesn't reduce the size enough, event is discarded.</p></td></tr><tr><td colspan=2>--audit-webhook-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "audit.k8s.io/v1"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>API group and version used for serializing audit events written to webhook.</p></td></tr><tr><td colspan=2>--authentication-token-webhook-cache-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 2m0s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The duration to cache responses from the webhook token authenticator.</p></td></tr><tr><td colspan=2>--authentication-token-webhook-config-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>File with webhook configuration for token authentication in kubeconfig format. The API server will query the remote service to determine authentication for bearer tokens.</p></td></tr><tr><td colspan=2>--authentication-token-webhook-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "v1beta1"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The API version of the authentication.k8s.io TokenReview to send to and expect from the webhook.</p></td></tr><tr><td colspan=2>--authorization-mode strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "AlwaysAllow"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Ordered list of plug-ins to do authorization on secure port. Comma-delimited list of: AlwaysAllow,AlwaysDeny,ABAC,Webhook,RBAC,Node.</p></td></tr><tr><td colspan=2>--authorization-policy-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>File with authorization policy in json line by line format, used with --authorization-mode=ABAC, on the secure port.</p></td></tr><tr><td colspan=2>--authorization-webhook-cache-authorized-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5m0s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The duration to cache 'authorized' responses from the webhook authorizer.</p></td></tr><tr><td colspan=2>--authorization-webhook-cache-unauthorized-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 30s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The duration to cache 'unauthorized' responses from the webhook authorizer.</p></td></tr><tr><td colspan=2>--authorization-webhook-config-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>File with webhook configuration in kubeconfig format, used with --authorization-mode=Webhook. The API server will query the remote service to determine access on the API server's secure port.</p></td></tr><tr><td colspan=2>--authorization-webhook-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "v1beta1"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The API version of the authorization.k8s.io SubjectAccessReview to send to and expect from the webhook.</p></td></tr><tr><td colspan=2>--azure-container-registry-config string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the file containing Azure container registry configuration information.</p></td></tr><tr><td colspan=2>--bind-address string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 0.0.0.0</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address on which to listen for the --secure-port port. The associated interface(s) must be reachable by the rest of the cluster, and by CLI/web clients. If blank or an unspecified address (0.0.0.0 or ::), all interfaces will be used.</p></td></tr><tr><td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/var/run/kubernetes"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The directory where the TLS certs are located. If --tls-cert-file and --tls-private-key-file are provided, this flag will be ignored.</p></td></tr><tr><td colspan=2>--client-ca-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If set, any request presenting a client certificate signed by one of the authorities in the client-ca-file is authenticated with an identity corresponding to the CommonName of the client certificate.</p></td></tr><tr><td colspan=2>--cloud-config string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The path to the cloud provider configuration file. Empty string for no configuration file.</p></td></tr><tr><td colspan=2>--cloud-provider string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The provider for cloud services. Empty string for no provider.</p></td></tr><tr><td colspan=2>--cloud-provider-gce-l7lb-src-cidrs cidrs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 130.211.0.0/22,35.191.0.0/16</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>CIDRs opened in GCE firewall for L7 LB traffic proxy & health checks</p></td></tr><tr><td colspan=2>--contention-profiling</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Enable lock contention profiling, if profiling is enabled</p></td></tr><tr><td colspan=2>--cors-allowed-origins strings</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>List of allowed origins for CORS, comma separated. An allowed origin can be a regular expression to support subdomain matching. If this list is empty CORS will not be enabled.</p></td></tr><tr><td colspan=2>--default-not-ready-toleration-seconds int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 300</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Indicates the tolerationSeconds of the toleration for notReady:NoExecute that is added by default to every pod that does not already have such a toleration.</p></td></tr><tr><td colspan=2>--default-unreachable-toleration-seconds int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 300</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Indicates the tolerationSeconds of the toleration for unreachable:NoExecute that is added by default to every pod that does not already have such a toleration.</p></td></tr><tr><td colspan=2>--default-watch-cache-size int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 100</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Default watch cache size. If zero, watch cache will be disabled for resources that do not have a default watch size set.</p></td></tr><tr><td colspan=2>--delete-collection-workers int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Number of workers spawned for DeleteCollection call. These are used to speed up namespace cleanup.</p></td></tr><tr><td colspan=2>--disable-admission-plugins strings</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>admission plugins that should be disabled although they are in the default enabled plugins list (NamespaceLifecycle, LimitRanger, ServiceAccount, TaintNodesByCondition, Priority, DefaultTolerationSeconds, DefaultStorageClass, StorageObjectInUseProtection, PersistentVolumeClaimResize, RuntimeClass, CertificateApproval, CertificateSigning, CertificateSubjectRestriction, DefaultIngressClass, MutatingAdmissionWebhook, ValidatingAdmissionWebhook, ResourceQuota). Comma-delimited list of admission plugins: AlwaysAdmit, AlwaysDeny, AlwaysPullImages, CertificateApproval, CertificateSigning, CertificateSubjectRestriction, DefaultIngressClass, DefaultStorageClass, DefaultTolerationSeconds, DenyEscalatingExec, DenyExecOnPrivileged, EventRateLimit, ExtendedResourceToleration, ImagePolicyWebhook, LimitPodHardAntiAffinityTopology, LimitRanger, MutatingAdmissionWebhook, NamespaceAutoProvision, NamespaceExists, NamespaceLifecycle, NodeRestriction, OwnerReferencesPermissionEnforcement, PersistentVolumeClaimResize, PersistentVolumeLabel, PodNodeSelector, PodSecurityPolicy, PodTolerationRestriction, Priority, ResourceQuota, RuntimeClass, SecurityContextDeny, ServiceAccount, StorageObjectInUseProtection, TaintNodesByCondition, ValidatingAdmissionWebhook. The order of plugins in this flag does not matter.</p></td></tr><tr><td colspan=2>--egress-selector-config-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>File with apiserver egress selector configuration.</p></td></tr><tr><td colspan=2>--enable-admission-plugins strings</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>admission plugins that should be enabled in addition to default enabled ones (NamespaceLifecycle, LimitRanger, ServiceAccount, TaintNodesByCondition, Priority, DefaultTolerationSeconds, DefaultStorageClass, StorageObjectInUseProtection, PersistentVolumeClaimResize, RuntimeClass, CertificateApproval, CertificateSigning, CertificateSubjectRestriction, DefaultIngressClass, MutatingAdmissionWebhook, ValidatingAdmissionWebhook, ResourceQuota). Comma-delimited list of admission plugins: AlwaysAdmit, AlwaysDeny, AlwaysPullImages, CertificateApproval, CertificateSigning, CertificateSubjectRestriction, DefaultIngressClass, DefaultStorageClass, DefaultTolerationSeconds, DenyEscalatingExec, DenyExecOnPrivileged, EventRateLimit, ExtendedResourceToleration, ImagePolicyWebhook, LimitPodHardAntiAffinityTopology, LimitRanger, MutatingAdmissionWebhook, NamespaceAutoProvision, NamespaceExists, NamespaceLifecycle, NodeRestriction, OwnerReferencesPermissionEnforcement, PersistentVolumeClaimResize, PersistentVolumeLabel, PodNodeSelector, PodSecurityPolicy, PodTolerationRestriction, Priority, ResourceQuota, RuntimeClass, SecurityContextDeny, ServiceAccount, StorageObjectInUseProtection, TaintNodesByCondition, ValidatingAdmissionWebhook. The order of plugins in this flag does not matter.</p></td></tr><tr><td colspan=2>--enable-aggregator-routing</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Turns on aggregator routing requests to endpoints IP rather than cluster IP.</p></td></tr><tr><td colspan=2>--enable-bootstrap-token-auth</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Enable to allow secrets of type 'bootstrap.kubernetes.io/token' in the 'kube-system' namespace to be used for TLS bootstrapping authentication.</p></td></tr><tr><td colspan=2>--enable-garbage-collector&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Enables the generic garbage collector. MUST be synced with the corresponding flag of the kube-controller-manager.</p></td></tr><tr><td colspan=2>--enable-priority-and-fairness&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true and the APIPriorityAndFairness feature gate is enabled, replace the max-in-flight handler with an enhanced one that queues and dispatches with priority and fairness</p></td></tr><tr><td colspan=2>--encryption-provider-config string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The file containing configuration for encryption providers to be used for storing secrets in etcd</p></td></tr><tr><td colspan=2>--endpoint-reconciler-type string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "lease"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Use an endpoint reconciler (master-count, lease, none)</p></td></tr><tr><td colspan=2>--etcd-cafile string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>SSL Certificate Authority file used to secure etcd communication.</p></td></tr><tr><td colspan=2>--etcd-certfile string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>SSL certification file used to secure etcd communication.</p></td></tr><tr><td colspan=2>--etcd-compaction-interval duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5m0s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The interval of compaction requests. If 0, the compaction request from apiserver is disabled.</p></td></tr><tr><td colspan=2>--etcd-count-metric-poll-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1m0s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Frequency of polling etcd for number of resources per type. 0 disables the metric collection.</p></td></tr><tr><td colspan=2>--etcd-db-metric-poll-interval duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 30s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The interval of requests to poll etcd and update metric. 0 disables the metric collection</p></td></tr><tr><td colspan=2>--etcd-healthcheck-timeout duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 2s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The timeout to use when checking etcd health.</p></td></tr><tr><td colspan=2>--etcd-keyfile string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>SSL key file used to secure etcd communication.</p></td></tr><tr><td colspan=2>--etcd-prefix string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/registry"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The prefix to prepend to all resource paths in etcd.</p></td></tr><tr><td colspan=2>--etcd-servers strings</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>List of etcd servers to connect with (scheme://ip:port), comma separated.</p></td></tr><tr><td colspan=2>--etcd-servers-overrides strings</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Per-resource etcd servers overrides, comma separated. The individual override format: group/resource#servers, where servers are URLs, semicolon separated.</p></td></tr><tr><td colspan=2>--event-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1h0m0s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Amount of time to retain events.</p></td></tr><tr><td colspan=2>--experimental-logging-sanitization</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>[Experimental] When enabled prevents logging of fields tagged as sensitive (passwords, keys, tokens).<br>Runtime log sanitization may introduce significant computation overhead and therefore should not be enabled in production.</p></td></tr><tr><td colspan=2>--external-hostname string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The hostname to use when generating externalized URLs for this master (e.g. Swagger API Docs or OpenID Discovery).</p></td></tr><tr><td colspan=2>--feature-gates &lt;comma-separated 'key=True|False' pairs></td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for alpha/experimental features. Options are:<br>APIListChunking=true|false (BETA - default=true)<br>APIPriorityAndFairness=true|false (BETA - default=true)<br>APIResponseCompression=true|false (BETA - default=true)<br>APIServerIdentity=true|false (ALPHA - default=false)<br>AllAlpha=true|false (ALPHA - default=false)<br>AllBeta=true|false (BETA - default=false)<br>AllowInsecureBackendProxy=true|false (BETA - default=true)<br>AnyVolumeDataSource=true|false (ALPHA - default=false)<br>AppArmor=true|false (BETA - default=true)<br>BalanceAttachedNodeVolumes=true|false (ALPHA - default=false)<br>BoundServiceAccountTokenVolume=true|false (ALPHA - default=false)<br>CPUManager=true|false (BETA - default=true)<br>CRIContainerLogRotation=true|false (BETA - default=true)<br>CSIInlineVolume=true|false (BETA - default=true)<br>CSIMigration=true|false (BETA - default=true)<br>CSIMigrationAWS=true|false (BETA - default=false)<br>CSIMigrationAWSComplete=true|false (ALPHA - default=false)<br>CSIMigrationAzureDisk=true|false (BETA - default=false)<br>CSIMigrationAzureDiskComplete=true|false (ALPHA - default=false)<br>CSIMigrationAzureFile=true|false (ALPHA - default=false)<br>CSIMigrationAzureFileComplete=true|false (ALPHA - default=false)<br>CSIMigrationGCE=true|false (BETA - default=false)<br>CSIMigrationGCEComplete=true|false (ALPHA - default=false)<br>CSIMigrationOpenStack=true|false (BETA - default=false)<br>CSIMigrationOpenStackComplete=true|false (ALPHA - default=false)<br>CSIMigrationvSphere=true|false (BETA - default=false)<br>CSIMigrationvSphereComplete=true|false (BETA - default=false)<br>CSIServiceAccountToken=true|false (ALPHA - default=false)<br>CSIStorageCapacity=true|false (ALPHA - default=false)<br>CSIVolumeFSGroupPolicy=true|false (BETA - default=true)<br>ConfigurableFSGroupPolicy=true|false (BETA - default=true)<br>CronJobControllerV2=true|false (ALPHA - default=false)<br>CustomCPUCFSQuotaPeriod=true|false (ALPHA - default=false)<br>DefaultPodTopologySpread=true|false (BETA - default=true)<br>DevicePlugins=true|false (BETA - default=true)<br>DisableAcceleratorUsageMetrics=true|false (BETA - default=true)<br>DownwardAPIHugePages=true|false (ALPHA - default=false)<br>DynamicKubeletConfig=true|false (BETA - default=true)<br>EfficientWatchResumption=true|false (ALPHA - default=false)<br>EndpointSlice=true|false (BETA - default=true)<br>EndpointSliceNodeName=true|false (ALPHA - default=false)<br>EndpointSliceProxying=true|false (BETA - default=true)<br>EndpointSliceTerminatingCondition=true|false (ALPHA - default=false)<br>EphemeralContainers=true|false (ALPHA - default=false)<br>ExpandCSIVolumes=true|false (BETA - default=true)<br>ExpandInUsePersistentVolumes=true|false (BETA - default=true)<br>ExpandPersistentVolumes=true|false (BETA - default=true)<br>ExperimentalHostUserNamespaceDefaulting=true|false (BETA - default=false)<br>GenericEphemeralVolume=true|false (ALPHA - default=false)<br>GracefulNodeShutdown=true|false (ALPHA - default=false)<br>HPAContainerMetrics=true|false (ALPHA - default=false)<br>HPAScaleToZero=true|false (ALPHA - default=false)<br>HugePageStorageMediumSize=true|false (BETA - default=true)<br>IPv6DualStack=true|false (ALPHA - default=false)<br>ImmutableEphemeralVolumes=true|false (BETA - default=true)<br>KubeletCredentialProviders=true|false (ALPHA - default=false)<br>KubeletPodResources=true|false (BETA - default=true)<br>LegacyNodeRoleBehavior=true|false (BETA - default=true)<br>LocalStorageCapacityIsolation=true|false (BETA - default=true)<br>LocalStorageCapacityIsolationFSQuotaMonitoring=true|false (ALPHA - default=false)<br>MixedProtocolLBService=true|false (ALPHA - default=false)<br>NodeDisruptionExclusion=true|false (BETA - default=true)<br>NonPreemptingPriority=true|false (BETA - default=true)<br>PodDisruptionBudget=true|false (BETA - default=true)<br>PodOverhead=true|false (BETA - default=true)<br>ProcMountType=true|false (ALPHA - default=false)<br>QOSReserved=true|false (ALPHA - default=false)<br>RemainingItemCount=true|false (BETA - default=true)<br>RemoveSelfLink=true|false (BETA - default=true)<br>RootCAConfigMap=true|false (BETA - default=true)<br>RotateKubeletServerCertificate=true|false (BETA - default=true)<br>RunAsGroup=true|false (BETA - default=true)<br>ServerSideApply=true|false (BETA - default=true)<br>ServiceAccountIssuerDiscovery=true|false (BETA - default=true)<br>ServiceLBNodePortControl=true|false (ALPHA - default=false)<br>ServiceNodeExclusion=true|false (BETA - default=true)<br>ServiceTopology=true|false (ALPHA - default=false)<br>SetHostnameAsFQDN=true|false (BETA - default=true)<br>SizeMemoryBackedVolumes=true|false (ALPHA - default=false)<br>StorageVersionAPI=true|false (ALPHA - default=false)<br>StorageVersionHash=true|false (BETA - default=true)<br>Sysctls=true|false (BETA - default=true)<br>TTLAfterFinished=true|false (ALPHA - default=false)<br>TopologyManager=true|false (BETA - default=true)<br>ValidateProxyRedirects=true|false (BETA - default=true)<br>WarningHeaders=true|false (BETA - default=true)<br>WinDSR=true|false (ALPHA - default=false)<br>WinOverlay=true|false (BETA - default=true)<br>WindowsEndpointSliceProxying=true|false (ALPHA - default=false)</p></td></tr><tr><td colspan=2>--goaway-chance float</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>To prevent HTTP/2 clients from getting stuck on a single apiserver, randomly close a connection (GOAWAY). The client's other in-flight requests won't be affected, and the client will reconnect, likely landing on a different apiserver after going through the load balancer again. This argument sets the fraction of requests that will be sent a GOAWAY. Clusters with single apiservers, or which don't use a load balancer, should NOT enable this. Min is 0 (off), Max is .02 (1/50 requests); .001 (1/1000) is a recommended starting point.</p></td></tr><tr><td colspan=2>-h, --help</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>help for kube-apiserver</p></td></tr><tr><td colspan=2>--http2-max-streams-per-connection int</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The limit that the server gives to clients for the maximum number of streams in an HTTP/2 connection. Zero means to use golang's default.</p></td></tr><tr><td colspan=2>--identity-lease-duration-seconds int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 3600</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The duration of kube-apiserver lease in seconds, must be a positive number. (In use when the APIServerIdentity feature gate is enabled.)</p></td></tr><tr><td colspan=2>--identity-lease-renew-interval-seconds int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The interval of kube-apiserver renewing its lease in seconds, must be a positive number. (In use when the APIServerIdentity feature gate is enabled.)</p></td></tr><tr><td colspan=2>--kubelet-certificate-authority string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a cert file for the certificate authority.</p></td></tr><tr><td colspan=2>--kubelet-client-certificate string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a client cert file for TLS.</p></td></tr><tr><td colspan=2>--kubelet-client-key string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a client key file for TLS.</p></td></tr><tr><td colspan=2>--kubelet-preferred-address-types strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "Hostname,InternalDNS,InternalIP,ExternalDNS,ExternalIP"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>List of the preferred NodeAddressTypes to use for kubelet connections.</p></td></tr><tr><td colspan=2>--kubelet-timeout duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Timeout for kubelet operations.</p></td></tr><tr><td colspan=2>--kubernetes-service-node-port int</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If non-zero, the Kubernetes master service (which apiserver creates/maintains) will be of type NodePort, using this as the value of the port. If zero, the Kubernetes master service will be of type ClusterIP.</p></td></tr><tr><td colspan=2>--livez-grace-period duration</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>This option represents the maximum amount of time it should take for apiserver to complete its startup sequence and become live. From apiserver's start time to when this amount of time has elapsed, /livez will assume that unfinished post-start hooks will complete successfully and therefore return true.</p></td></tr><tr><td colspan=2>--log-backtrace-at &lt;a string in the form 'file:N'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: :0</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>when logging hits line file:N, emit a stack trace</p></td></tr><tr><td colspan=2>--log-dir string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If non-empty, write log files in this directory</p></td></tr><tr><td colspan=2>--log-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If non-empty, use this log file</p></td></tr><tr><td colspan=2>--log-file-max-size uint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1800</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Defines the maximum size a log file can grow to. Unit is megabytes. If the value is 0, the maximum file size is unlimited.</p></td></tr><tr><td colspan=2>--log-flush-frequency duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum number of seconds between log flushes</p></td></tr><tr><td colspan=2>--logging-format string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "text"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Sets the log format. Permitted formats: "json", "text".<br>Non-default formats don't honor these flags: --add_dir_header, --alsologtostderr, --log_backtrace_at, --log_dir, --log_file, --log_file_max_size, --logtostderr, --one_output, --skip_headers, --skip_log_headers, --stderrthreshold, --vmodule, --log-flush-frequency.<br>Non-default choices are currently alpha and subject to change without warning.</p></td></tr><tr><td colspan=2>--logtostderr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>log to standard error instead of files</p></td></tr><tr><td colspan=2>--master-service-namespace string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "default"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: the namespace from which the Kubernetes master services should be injected into pods.</p></td></tr><tr><td colspan=2>--max-connection-bytes-per-sec int</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If non-zero, throttle each user connection to this number of bytes/sec. Currently only applies to long-running requests.</p></td></tr><tr><td colspan=2>--max-mutating-requests-inflight int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 200</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The maximum number of mutating requests in flight at a given time. When the server exceeds this, it rejects requests. Zero for no limit.</p></td></tr><tr><td colspan=2>--max-requests-inflight int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 400</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The maximum number of non-mutating requests in flight at a given time. When the server exceeds this, it rejects requests. Zero for no limit.</p></td></tr><tr><td colspan=2>--min-request-timeout int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1800</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>An optional field indicating the minimum number of seconds a handler must keep a request open before timing it out. Currently only honored by the watch request handler, which picks a randomized value above this number as the connection timeout, to spread out load.</p></td></tr><tr><td colspan=2>--oidc-ca-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If set, the OpenID server's certificate will be verified by one of the authorities in the oidc-ca-file, otherwise the host's root CA set will be used.</p></td></tr><tr><td colspan=2>--oidc-client-id string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The client ID for the OpenID Connect client, must be set if oidc-issuer-url is set.</p></td></tr><tr><td colspan=2>--oidc-groups-claim string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If provided, the name of a custom OpenID Connect claim for specifying user groups. The claim value is expected to be a string or array of strings. This flag is experimental, please see the authentication documentation for further details.</p></td></tr><tr><td colspan=2>--oidc-groups-prefix string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If provided, all groups will be prefixed with this value to prevent conflicts with other authentication strategies.</p></td></tr><tr><td colspan=2>--oidc-issuer-url string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The URL of the OpenID issuer, only HTTPS scheme will be accepted. If set, it will be used to verify the OIDC JSON Web Token (JWT).</p></td></tr><tr><td colspan=2>--oidc-required-claim &lt;comma-separated 'key=value' pairs></td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>A key=value pair that describes a required claim in the ID Token. If set, the claim is verified to be present in the ID Token with a matching value. Repeat this flag to specify multiple claims.</p></td></tr><tr><td colspan=2>--oidc-signing-algs strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "RS256"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Comma-separated list of allowed JOSE asymmetric signing algorithms. JWTs with a 'alg' header value not in this list will be rejected. Values are defined by RFC 7518 https://tools.ietf.org/html/rfc7518#section-3.1.</p></td></tr><tr><td colspan=2>--oidc-username-claim string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "sub"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The OpenID claim to use as the user name. Note that claims other than the default ('sub') is not guaranteed to be unique and immutable. This flag is experimental, please see the authentication documentation for further details.</p></td></tr><tr><td colspan=2>--oidc-username-prefix string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If provided, all usernames will be prefixed with this value. If not provided, username claims other than 'email' are prefixed by the issuer URL to avoid clashes. To skip any prefixing, provide the value '-'.</p></td></tr><tr><td colspan=2>--one-output</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true, only write logs to their native severity level (vs also writing to each lower severity level</p></td></tr><tr><td colspan=2>--permit-port-sharing</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true, SO_REUSEPORT will be used when binding the port, which allows more than one instance to bind on the same address and port. [default=false]</p></td></tr><tr><td colspan=2>--profiling&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Enable profiling via web interface host:port/debug/pprof/</p></td></tr><tr><td colspan=2>--proxy-client-cert-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Client certificate used to prove the identity of the aggregator or kube-apiserver when it must call out during a request. This includes proxying requests to a user api-server and calling out to webhook admission plugins. It is expected that this cert includes a signature from the CA in the --requestheader-client-ca-file flag. That CA is published in the 'extension-apiserver-authentication' configmap in the kube-system namespace. Components receiving calls from kube-aggregator should use that CA to perform their half of the mutual TLS verification.</p></td></tr><tr><td colspan=2>--proxy-client-key-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Private key for the client certificate used to prove the identity of the aggregator or kube-apiserver when it must call out during a request. This includes proxying requests to a user api-server and calling out to webhook admission plugins.</p></td></tr><tr><td colspan=2>--request-timeout duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1m0s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>An optional field indicating the duration a handler must keep a request open before timing it out. This is the default request timeout for requests but may be overridden by flags such as --min-request-timeout for specific types of requests.</p></td></tr><tr><td colspan=2>--requestheader-allowed-names strings</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>List of client certificate common names to allow to provide usernames in headers specified by --requestheader-username-headers. If empty, any client certificate validated by the authorities in --requestheader-client-ca-file is allowed.</p></td></tr><tr><td colspan=2>--requestheader-client-ca-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Root certificate bundle to use to verify client certificates on incoming requests before trusting usernames in headers specified by --requestheader-username-headers. WARNING: generally do not depend on authorization being already done for incoming requests.</p></td></tr><tr><td colspan=2>--requestheader-extra-headers-prefix strings</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>List of request header prefixes to inspect. X-Remote-Extra- is suggested.</p></td></tr><tr><td colspan=2>--requestheader-group-headers strings</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>List of request headers to inspect for groups. X-Remote-Group is suggested.</p></td></tr><tr><td colspan=2>--requestheader-username-headers strings</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>List of request headers to inspect for usernames. X-Remote-User is common.</p></td></tr><tr><td colspan=2>--runtime-config &lt;comma-separated 'key=value' pairs></td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that enable or disable built-in APIs. Supported options are:<br>v1=true|false for the core API group<br>/=true|false for a specific API group and version (e.g. apps/v1=true)<br>api/all=true|false controls all API versions<br>api/ga=true|false controls all API versions of the form v[0-9]+<br>api/beta=true|false controls all API versions of the form v[0-9]+beta[0-9]+<br>api/alpha=true|false controls all API versions of the form v[0-9]+alpha[0-9]+<br>api/legacy is deprecated, and will be removed in a future version</p></td></tr><tr><td colspan=2>--secure-port int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The port on which to serve HTTPS with authentication and authorization. It cannot be switched off with 0.</p></td></tr><tr><td colspan=2>--service-account-extend-token-expiration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Turns on projected service account expiration extension during token generation, which helps safe transition from legacy token to bound service account token feature. If this flag is enabled, admission injected tokens would be extended up to 1 year to prevent unexpected failure during transition, ignoring value of service-account-max-token-expiration.</p></td></tr><tr><td colspan=2>--service-account-issuer string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Identifier of the service account token issuer. The issuer will assert this identifier in "iss" claim of issued tokens. This value is a string or URI. If this option is not a valid URI per the OpenID Discovery 1.0 spec, the ServiceAccountIssuerDiscovery feature will remain disabled, even if the feature gate is set to true. It is highly recommended that this value comply with the OpenID spec: https://openid.net/specs/openid-connect-discovery-1_0.html. In practice, this means that service-account-issuer must be an https URL. It is also highly recommended that this URL be capable of serving OpenID discovery documents at {service-account-issuer}/.well-known/openid-configuration.</p></td></tr><tr><td colspan=2>--service-account-jwks-uri string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Overrides the URI for the JSON Web Key Set in the discovery doc served at /.well-known/openid-configuration. This flag is useful if the discovery docand key set are served to relying parties from a URL other than the API server's external (as auto-detected or overridden with external-hostname). Only valid if the ServiceAccountIssuerDiscovery feature gate is enabled.</p></td></tr><tr><td colspan=2>--service-account-key-file strings</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>File containing PEM-encoded x509 RSA or ECDSA private or public keys, used to verify ServiceAccount tokens. The specified file can contain multiple keys, and the flag can be specified multiple times with different files. If unspecified, --tls-private-key-file is used. Must be specified when --service-account-signing-key is provided</p></td></tr><tr><td colspan=2>--service-account-lookup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true, validate ServiceAccount tokens exist in etcd as part of authentication.</p></td></tr><tr><td colspan=2>--service-account-max-token-expiration duration</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The maximum validity duration of a token created by the service account token issuer. If an otherwise valid TokenRequest with a validity duration larger than this value is requested, a token will be issued with a validity duration of this value.</p></td></tr><tr><td colspan=2>--service-account-signing-key-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the file that contains the current private key of the service account token issuer. The issuer will sign issued ID tokens with this private key.</p></td></tr><tr><td colspan=2>--service-cluster-ip-range string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>A CIDR notation IP range from which to assign service cluster IPs. This must not overlap with any IP ranges assigned to nodes or pods.</p></td></tr><tr><td colspan=2>--service-node-port-range &lt;a string in the form 'N1-N2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 30000-32767</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>A port range to reserve for services with NodePort visibility. Example: '30000-32767'. Inclusive at both ends of the range.</p></td></tr><tr><td colspan=2>--show-hidden-metrics-for-version string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The previous version for which you want to show hidden metrics. Only the previous minor version is meaningful, other values will not be allowed. The format is ., e.g.: '1.16'. The purpose of this format is make sure you have the opportunity to notice if the next release hides additional metrics, rather than being surprised when they are permanently removed in the release after that.</p></td></tr><tr><td colspan=2>--shutdown-delay-duration duration</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Time to delay the termination. During that time the server keeps serving requests normally. The endpoints /healthz and /livez will return success, but /readyz immediately returns failure. Graceful termination starts after this delay has elapsed. This can be used to allow load balancer to stop sending traffic to this server.</p></td></tr><tr><td colspan=2>--skip-headers</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true, avoid header prefixes in the log messages</p></td></tr><tr><td colspan=2>--skip-log-headers</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true, avoid headers when opening log files</p></td></tr><tr><td colspan=2>--stderrthreshold int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 2</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>logs at or above this threshold go to stderr</p></td></tr><tr><td colspan=2>--storage-backend string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The storage backend for persistence. Options: 'etcd3' (default).</p></td></tr><tr><td colspan=2>--storage-media-type string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "application/vnd.kubernetes.protobuf"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The media type to use to store objects in storage. Some resources or storage backends may only support a specific media type and will ignore this setting.</p></td></tr><tr><td colspan=2>--tls-cert-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>File containing the default x509 Certificate for HTTPS. (CA cert, if any, concatenated after server cert). If HTTPS serving is enabled, and --tls-cert-file and --tls-private-key-file are not provided, a self-signed certificate and key are generated for the public address and saved to the directory specified by --cert-dir.</p></td></tr><tr><td colspan=2>--tls-cipher-suites strings</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Comma-separated list of cipher suites for the server. If omitted, the default Go cipher suites will be used.<br>Preferred values: TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384, TLS_CHACHA20_POLY1305_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256, TLS_RSA_WITH_3DES_EDE_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_GCM_SHA384.<br>Insecure values: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_RC4_128_SHA, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_RC4_128_SHA.</p></td></tr><tr><td colspan=2>--tls-min-version string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Minimum TLS version supported. Possible values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13</p></td></tr><tr><td colspan=2>--tls-private-key-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>File containing the default x509 private key matching --tls-cert-file.</p></td></tr><tr><td colspan=2>--tls-sni-cert-key string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>A pair of x509 certificate and private key file paths, optionally suffixed with a list of domain patterns which are fully qualified domain names, possibly with prefixed wildcard segments. The domain patterns also allow IP addresses, but IPs should only be used if the apiserver has visibility to the IP address requested by a client. If no domain patterns are provided, the names of the certificate are extracted. Non-wildcard matches trump over wildcard matches, explicit domain patterns trump over extracted names. For multiple key/certificate pairs, use the --tls-sni-cert-key multiple times. Examples: "example.crt,example.key" or "foo.crt,foo.key:*.foo.com,foo.com".</p></td></tr><tr><td colspan=2>--token-auth-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If set, the file that will be used to secure the secure port of the API server via token authentication.</p></td></tr><tr><td colspan=2>-v, --v int</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>number for the log level verbosity</p></td></tr><tr><td colspan=2>--version version[=true]</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Print version information and quit</p></td></tr><tr><td colspan=2>--vmodule &lt;comma-separated 'pattern=N' settings></td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>comma-separated list of pattern=N settings for file-filtered logging</p></td></tr><tr><td colspan=2>--watch-cache&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Enable watch caching in the apiserver</p></td></tr><tr><td colspan=2>--watch-cache-sizes strings</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Watch cache size settings for some resources (pods, nodes, etc.), comma separated. The individual setting format: resource[.group]#size, where resource is lowercase plural (no version), group is omitted for resources of apiVersion v1 (the legacy core API) and included for others, and size is a number. It takes effect when watch-cache is enabled. Some resources (replicationcontrollers, endpoints, nodes, pods, services, apiservices.apiregistration.k8s.io) have system defaults set by heuristics, others default to default-watch-cache-size</p></td></tr></tbody></table></div><div class=td-content style=page-break-before:always><h1 id=pg-8a37271ec8fd36a3a1ce07c4c58533d9>4 - kube-controller-manager</h1><h2 id=synopsis>Synopsis</h2><p>The Kubernetes controller manager is a daemon that embeds
the core control loops shipped with Kubernetes. In applications of robotics and
automation, a control loop is a non-terminating loop that regulates the state of
the system. In Kubernetes, a controller is a control loop that watches the shared
state of the cluster through the apiserver and makes changes attempting to move the
current state towards the desired state. Examples of controllers that ship with
Kubernetes today are the replication controller, endpoints controller, namespace
controller, and serviceaccounts controller.</p><pre><code>kube-controller-manager [flags]
</code></pre><h2 id=options>Options</h2><table style=width:100%;table-layout:fixed><col span=1 style=width:10px><col span=1><tbody><tr><td colspan=2>--add-dir-header</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true, adds the file directory to the header of the log messages</p></td></tr><tr><td colspan=2>--allocate-node-cidrs</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Should CIDRs for Pods be allocated and set on the cloud provider.</p></td></tr><tr><td colspan=2>--alsologtostderr</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>log to standard error as well as files</p></td></tr><tr><td colspan=2>--attach-detach-reconcile-sync-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1m0s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The reconciler sync wait time between volume attach detach. This duration must be larger than one second, and increasing this value from the default may allow for volumes to be mismatched with pods.</p></td></tr><tr><td colspan=2>--authentication-kubeconfig string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>kubeconfig file pointing at the 'core' kubernetes server with enough rights to create tokenreviews.authentication.k8s.io. This is optional. If empty, all token requests are considered to be anonymous and no client CA is looked up in the cluster.</p></td></tr><tr><td colspan=2>--authentication-skip-lookup</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If false, the authentication-kubeconfig will be used to lookup missing authentication configuration from the cluster.</p></td></tr><tr><td colspan=2>--authentication-token-webhook-cache-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The duration to cache responses from the webhook token authenticator.</p></td></tr><tr><td colspan=2>--authentication-tolerate-lookup-failure</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true, failures to look up missing authentication configuration from the cluster are not considered fatal. Note that this can result in authentication that treats all requests as anonymous.</p></td></tr><tr><td colspan=2>--authorization-always-allow-paths strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/healthz"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>A list of HTTP paths to skip during authorization, i.e. these are authorized without contacting the 'core' kubernetes server.</p></td></tr><tr><td colspan=2>--authorization-kubeconfig string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>kubeconfig file pointing at the 'core' kubernetes server with enough rights to create subjectaccessreviews.authorization.k8s.io. This is optional. If empty, all requests not skipped by authorization are forbidden.</p></td></tr><tr><td colspan=2>--authorization-webhook-cache-authorized-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The duration to cache 'authorized' responses from the webhook authorizer.</p></td></tr><tr><td colspan=2>--authorization-webhook-cache-unauthorized-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The duration to cache 'unauthorized' responses from the webhook authorizer.</p></td></tr><tr><td colspan=2>--azure-container-registry-config string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the file containing Azure container registry configuration information.</p></td></tr><tr><td colspan=2>--bind-address string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 0.0.0.0</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address on which to listen for the --secure-port port. The associated interface(s) must be reachable by the rest of the cluster, and by CLI/web clients. If blank or an unspecified address (0.0.0.0 or ::), all interfaces will be used.</p></td></tr><tr><td colspan=2>--cert-dir string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The directory where the TLS certs are located. If --tls-cert-file and --tls-private-key-file are provided, this flag will be ignored.</p></td></tr><tr><td colspan=2>--cidr-allocator-type string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "RangeAllocator"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Type of CIDR allocator to use</p></td></tr><tr><td colspan=2>--client-ca-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If set, any request presenting a client certificate signed by one of the authorities in the client-ca-file is authenticated with an identity corresponding to the CommonName of the client certificate.</p></td></tr><tr><td colspan=2>--cloud-config string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The path to the cloud provider configuration file. Empty string for no configuration file.</p></td></tr><tr><td colspan=2>--cloud-provider string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The provider for cloud services. Empty string for no provider.</p></td></tr><tr><td colspan=2>--cluster-cidr string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>CIDR Range for Pods in cluster. Requires --allocate-node-cidrs to be true</p></td></tr><tr><td colspan=2>--cluster-name string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "kubernetes"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The instance prefix for the cluster.</p></td></tr><tr><td colspan=2>--cluster-signing-cert-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Filename containing a PEM-encoded X509 CA certificate used to issue cluster-scoped certificates. If specified, no more specific --cluster-signing-* flag may be specified.</p></td></tr><tr><td colspan=2>--cluster-signing-duration duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 8760h0m0s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The length of duration signed certificates will be given.</p></td></tr><tr><td colspan=2>--cluster-signing-key-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Filename containing a PEM-encoded RSA or ECDSA private key used to sign cluster-scoped certificates. If specified, no more specific --cluster-signing-* flag may be specified.</p></td></tr><tr><td colspan=2>--cluster-signing-kube-apiserver-client-cert-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Filename containing a PEM-encoded X509 CA certificate used to issue certificates for the kubernetes.io/kube-apiserver-client signer. If specified, --cluster-signing-{cert,key}-file must not be set.</p></td></tr><tr><td colspan=2>--cluster-signing-kube-apiserver-client-key-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Filename containing a PEM-encoded RSA or ECDSA private key used to sign certificates for the kubernetes.io/kube-apiserver-client signer. If specified, --cluster-signing-{cert,key}-file must not be set.</p></td></tr><tr><td colspan=2>--cluster-signing-kubelet-client-cert-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Filename containing a PEM-encoded X509 CA certificate used to issue certificates for the kubernetes.io/kube-apiserver-client-kubelet signer. If specified, --cluster-signing-{cert,key}-file must not be set.</p></td></tr><tr><td colspan=2>--cluster-signing-kubelet-client-key-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Filename containing a PEM-encoded RSA or ECDSA private key used to sign certificates for the kubernetes.io/kube-apiserver-client-kubelet signer. If specified, --cluster-signing-{cert,key}-file must not be set.</p></td></tr><tr><td colspan=2>--cluster-signing-kubelet-serving-cert-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Filename containing a PEM-encoded X509 CA certificate used to issue certificates for the kubernetes.io/kubelet-serving signer. If specified, --cluster-signing-{cert,key}-file must not be set.</p></td></tr><tr><td colspan=2>--cluster-signing-kubelet-serving-key-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Filename containing a PEM-encoded RSA or ECDSA private key used to sign certificates for the kubernetes.io/kubelet-serving signer. If specified, --cluster-signing-{cert,key}-file must not be set.</p></td></tr><tr><td colspan=2>--cluster-signing-legacy-unknown-cert-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Filename containing a PEM-encoded X509 CA certificate used to issue certificates for the kubernetes.io/legacy-unknown signer. If specified, --cluster-signing-{cert,key}-file must not be set.</p></td></tr><tr><td colspan=2>--cluster-signing-legacy-unknown-key-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Filename containing a PEM-encoded RSA or ECDSA private key used to sign certificates for the kubernetes.io/legacy-unknown signer. If specified, --cluster-signing-{cert,key}-file must not be set.</p></td></tr><tr><td colspan=2>--concurrent-deployment-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The number of deployment objects that are allowed to sync concurrently. Larger number = more responsive deployments, but more CPU (and network) load</p></td></tr><tr><td colspan=2>--concurrent-endpoint-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The number of endpoint syncing operations that will be done concurrently. Larger number = faster endpoint updating, but more CPU (and network) load</p></td></tr><tr><td colspan=2>--concurrent-gc-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 20</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The number of garbage collector workers that are allowed to sync concurrently.</p></td></tr><tr><td colspan=2>--concurrent-namespace-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The number of namespace objects that are allowed to sync concurrently. Larger number = more responsive namespace termination, but more CPU (and network) load</p></td></tr><tr><td colspan=2>--concurrent-replicaset-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The number of replica sets that are allowed to sync concurrently. Larger number = more responsive replica management, but more CPU (and network) load</p></td></tr><tr><td colspan=2>--concurrent-resource-quota-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The number of resource quotas that are allowed to sync concurrently. Larger number = more responsive quota management, but more CPU (and network) load</p></td></tr><tr><td colspan=2>--concurrent-service-endpoint-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The number of service endpoint syncing operations that will be done concurrently. Larger number = faster endpoint slice updating, but more CPU (and network) load. Defaults to 5.</p></td></tr><tr><td colspan=2>--concurrent-service-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The number of services that are allowed to sync concurrently. Larger number = more responsive service management, but more CPU (and network) load</p></td></tr><tr><td colspan=2>--concurrent-serviceaccount-token-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The number of service account token objects that are allowed to sync concurrently. Larger number = more responsive token generation, but more CPU (and network) load</p></td></tr><tr><td colspan=2>--concurrent-statefulset-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The number of statefulset objects that are allowed to sync concurrently. Larger number = more responsive statefulsets, but more CPU (and network) load</p></td></tr><tr><td colspan=2>--concurrent-ttl-after-finished-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The number of TTL-after-finished controller workers that are allowed to sync concurrently.</p></td></tr><tr><td colspan=2>--concurrent_rc_syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The number of replication controllers that are allowed to sync concurrently. Larger number = more responsive replica management, but more CPU (and network) load</p></td></tr><tr><td colspan=2>--configure-cloud-routes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Should CIDRs allocated by allocate-node-cidrs be configured on the cloud provider.</p></td></tr><tr><td colspan=2>--contention-profiling</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Enable lock contention profiling, if profiling is enabled</p></td></tr><tr><td colspan=2>--controller-start-interval duration</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Interval between starting controller managers.</p></td></tr><tr><td colspan=2>--controllers strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "*"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>A list of controllers to enable. '*' enables all on-by-default controllers, 'foo' enables the controller named 'foo', '-foo' disables the controller named 'foo'.<br>All controllers: attachdetach, bootstrapsigner, cloud-node-lifecycle, clusterrole-aggregation, cronjob, csrapproving, csrcleaner, csrsigning, daemonset, deployment, disruption, endpoint, endpointslice, endpointslicemirroring, ephemeral-volume, garbagecollector, horizontalpodautoscaling, job, namespace, nodeipam, nodelifecycle, persistentvolume-binder, persistentvolume-expander, podgc, pv-protection, pvc-protection, replicaset, replicationcontroller, resourcequota, root-ca-cert-publisher, route, service, serviceaccount, serviceaccount-token, statefulset, tokencleaner, ttl, ttl-after-finished<br>Disabled-by-default controllers: bootstrapsigner, tokencleaner</p></td></tr><tr><td colspan=2>--deployment-controller-sync-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 30s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Period for syncing the deployments.</p></td></tr><tr><td colspan=2>--disable-attach-detach-reconcile-sync</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Disable volume attach detach reconciler sync. Disabling this may cause volumes to be mismatched with pods. Use wisely.</p></td></tr><tr><td colspan=2>--enable-dynamic-provisioning&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Enable dynamic provisioning for environments that support it.</p></td></tr><tr><td colspan=2>--enable-garbage-collector&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Enables the generic garbage collector. MUST be synced with the corresponding flag of the kube-apiserver.</p></td></tr><tr><td colspan=2>--enable-hostpath-provisioner</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Enable HostPath PV provisioning when running without a cloud provider. This allows testing and development of provisioning features. HostPath provisioning is not supported in any way, won't work in a multi-node cluster, and should not be used for anything other than testing or development.</p></td></tr><tr><td colspan=2>--enable-taint-manager&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>WARNING: Beta feature. If set to true enables NoExecute Taints and will evict all not-tolerating Pod running on Nodes tainted with this kind of Taints.</p></td></tr><tr><td colspan=2>--endpoint-updates-batch-period duration</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The length of endpoint updates batching period. Processing of pod changes will be delayed by this duration to join them with potential upcoming updates and reduce the overall number of endpoints updates. Larger number = higher endpoint programming latency, but lower number of endpoints revision generated</p></td></tr><tr><td colspan=2>--endpointslice-updates-batch-period duration</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The length of endpoint slice updates batching period. Processing of pod changes will be delayed by this duration to join them with potential upcoming updates and reduce the overall number of endpoints updates. Larger number = higher endpoint programming latency, but lower number of endpoints revision generated</p></td></tr><tr><td colspan=2>--experimental-logging-sanitization</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>[Experimental] When enabled prevents logging of fields tagged as sensitive (passwords, keys, tokens).<br>Runtime log sanitization may introduce significant computation overhead and therefore should not be enabled in production.</p></td></tr><tr><td colspan=2>--external-cloud-volume-plugin string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The plugin to use when cloud provider is set to external. Can be empty, should only be set when cloud-provider is external. Currently used to allow node and volume controllers to work for in tree cloud providers.</p></td></tr><tr><td colspan=2>--feature-gates &lt;comma-separated 'key=True|False' pairs></td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for alpha/experimental features. Options are:<br>APIListChunking=true|false (BETA - default=true)<br>APIPriorityAndFairness=true|false (BETA - default=true)<br>APIResponseCompression=true|false (BETA - default=true)<br>APIServerIdentity=true|false (ALPHA - default=false)<br>AllAlpha=true|false (ALPHA - default=false)<br>AllBeta=true|false (BETA - default=false)<br>AllowInsecureBackendProxy=true|false (BETA - default=true)<br>AnyVolumeDataSource=true|false (ALPHA - default=false)<br>AppArmor=true|false (BETA - default=true)<br>BalanceAttachedNodeVolumes=true|false (ALPHA - default=false)<br>BoundServiceAccountTokenVolume=true|false (ALPHA - default=false)<br>CPUManager=true|false (BETA - default=true)<br>CRIContainerLogRotation=true|false (BETA - default=true)<br>CSIInlineVolume=true|false (BETA - default=true)<br>CSIMigration=true|false (BETA - default=true)<br>CSIMigrationAWS=true|false (BETA - default=false)<br>CSIMigrationAWSComplete=true|false (ALPHA - default=false)<br>CSIMigrationAzureDisk=true|false (BETA - default=false)<br>CSIMigrationAzureDiskComplete=true|false (ALPHA - default=false)<br>CSIMigrationAzureFile=true|false (ALPHA - default=false)<br>CSIMigrationAzureFileComplete=true|false (ALPHA - default=false)<br>CSIMigrationGCE=true|false (BETA - default=false)<br>CSIMigrationGCEComplete=true|false (ALPHA - default=false)<br>CSIMigrationOpenStack=true|false (BETA - default=false)<br>CSIMigrationOpenStackComplete=true|false (ALPHA - default=false)<br>CSIMigrationvSphere=true|false (BETA - default=false)<br>CSIMigrationvSphereComplete=true|false (BETA - default=false)<br>CSIServiceAccountToken=true|false (ALPHA - default=false)<br>CSIStorageCapacity=true|false (ALPHA - default=false)<br>CSIVolumeFSGroupPolicy=true|false (BETA - default=true)<br>ConfigurableFSGroupPolicy=true|false (BETA - default=true)<br>CronJobControllerV2=true|false (ALPHA - default=false)<br>CustomCPUCFSQuotaPeriod=true|false (ALPHA - default=false)<br>DefaultPodTopologySpread=true|false (BETA - default=true)<br>DevicePlugins=true|false (BETA - default=true)<br>DisableAcceleratorUsageMetrics=true|false (BETA - default=true)<br>DownwardAPIHugePages=true|false (ALPHA - default=false)<br>DynamicKubeletConfig=true|false (BETA - default=true)<br>EfficientWatchResumption=true|false (ALPHA - default=false)<br>EndpointSlice=true|false (BETA - default=true)<br>EndpointSliceNodeName=true|false (ALPHA - default=false)<br>EndpointSliceProxying=true|false (BETA - default=true)<br>EndpointSliceTerminatingCondition=true|false (ALPHA - default=false)<br>EphemeralContainers=true|false (ALPHA - default=false)<br>ExpandCSIVolumes=true|false (BETA - default=true)<br>ExpandInUsePersistentVolumes=true|false (BETA - default=true)<br>ExpandPersistentVolumes=true|false (BETA - default=true)<br>ExperimentalHostUserNamespaceDefaulting=true|false (BETA - default=false)<br>GenericEphemeralVolume=true|false (ALPHA - default=false)<br>GracefulNodeShutdown=true|false (ALPHA - default=false)<br>HPAContainerMetrics=true|false (ALPHA - default=false)<br>HPAScaleToZero=true|false (ALPHA - default=false)<br>HugePageStorageMediumSize=true|false (BETA - default=true)<br>IPv6DualStack=true|false (ALPHA - default=false)<br>ImmutableEphemeralVolumes=true|false (BETA - default=true)<br>KubeletCredentialProviders=true|false (ALPHA - default=false)<br>KubeletPodResources=true|false (BETA - default=true)<br>LegacyNodeRoleBehavior=true|false (BETA - default=true)<br>LocalStorageCapacityIsolation=true|false (BETA - default=true)<br>LocalStorageCapacityIsolationFSQuotaMonitoring=true|false (ALPHA - default=false)<br>MixedProtocolLBService=true|false (ALPHA - default=false)<br>NodeDisruptionExclusion=true|false (BETA - default=true)<br>NonPreemptingPriority=true|false (BETA - default=true)<br>PodDisruptionBudget=true|false (BETA - default=true)<br>PodOverhead=true|false (BETA - default=true)<br>ProcMountType=true|false (ALPHA - default=false)<br>QOSReserved=true|false (ALPHA - default=false)<br>RemainingItemCount=true|false (BETA - default=true)<br>RemoveSelfLink=true|false (BETA - default=true)<br>RootCAConfigMap=true|false (BETA - default=true)<br>RotateKubeletServerCertificate=true|false (BETA - default=true)<br>RunAsGroup=true|false (BETA - default=true)<br>ServerSideApply=true|false (BETA - default=true)<br>ServiceAccountIssuerDiscovery=true|false (BETA - default=true)<br>ServiceLBNodePortControl=true|false (ALPHA - default=false)<br>ServiceNodeExclusion=true|false (BETA - default=true)<br>ServiceTopology=true|false (ALPHA - default=false)<br>SetHostnameAsFQDN=true|false (BETA - default=true)<br>SizeMemoryBackedVolumes=true|false (ALPHA - default=false)<br>StorageVersionAPI=true|false (ALPHA - default=false)<br>StorageVersionHash=true|false (BETA - default=true)<br>Sysctls=true|false (BETA - default=true)<br>TTLAfterFinished=true|false (ALPHA - default=false)<br>TopologyManager=true|false (BETA - default=true)<br>ValidateProxyRedirects=true|false (BETA - default=true)<br>WarningHeaders=true|false (BETA - default=true)<br>WinDSR=true|false (ALPHA - default=false)<br>WinOverlay=true|false (BETA - default=true)<br>WindowsEndpointSliceProxying=true|false (ALPHA - default=false)</p></td></tr><tr><td colspan=2>--flex-volume-plugin-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/usr/libexec/kubernetes/kubelet-plugins/volume/exec/"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Full path of the directory in which the flex volume plugin should search for additional third party volume plugins.</p></td></tr><tr><td colspan=2>-h, --help</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>help for kube-controller-manager</p></td></tr><tr><td colspan=2>--horizontal-pod-autoscaler-cpu-initialization-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5m0s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The period after pod start when CPU samples might be skipped.</p></td></tr><tr><td colspan=2>--horizontal-pod-autoscaler-downscale-stabilization duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5m0s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The period for which autoscaler will look backwards and not scale down below any recommendation it made during that period.</p></td></tr><tr><td colspan=2>--horizontal-pod-autoscaler-initial-readiness-delay duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 30s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The period after pod start during which readiness changes will be treated as initial readiness.</p></td></tr><tr><td colspan=2>--horizontal-pod-autoscaler-sync-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 15s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The period for syncing the number of pods in horizontal pod autoscaler.</p></td></tr><tr><td colspan=2>--horizontal-pod-autoscaler-tolerance float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 0.1</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The minimum change (from 1.0) in the desired-to-actual metrics ratio for the horizontal pod autoscaler to consider scaling.</p></td></tr><tr><td colspan=2>--http2-max-streams-per-connection int</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The limit that the server gives to clients for the maximum number of streams in an HTTP/2 connection. Zero means to use golang's default.</p></td></tr><tr><td colspan=2>--kube-api-burst int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 30</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Burst to use while talking with kubernetes apiserver.</p></td></tr><tr><td colspan=2>--kube-api-content-type string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "application/vnd.kubernetes.protobuf"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Content type of requests sent to apiserver.</p></td></tr><tr><td colspan=2>--kube-api-qps float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 20</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>QPS to use while talking with kubernetes apiserver.</p></td></tr><tr><td colspan=2>--kubeconfig string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeconfig file with authorization and master location information.</p></td></tr><tr><td colspan=2>--large-cluster-size-threshold int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 50</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Number of nodes from which NodeController treats the cluster as large for the eviction logic purposes. --secondary-node-eviction-rate is implicitly overridden to 0 for clusters this size or smaller.</p></td></tr><tr><td colspan=2>--leader-elect&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Start a leader election client and gain leadership before executing the main loop. Enable this when running replicated components for high availability.</p></td></tr><tr><td colspan=2>--leader-elect-lease-duration duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 15s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The duration that non-leader candidates will wait after observing a leadership renewal until attempting to acquire leadership of a led but unrenewed leader slot. This is effectively the maximum duration that a leader can be stopped before it is replaced by another candidate. This is only applicable if leader election is enabled.</p></td></tr><tr><td colspan=2>--leader-elect-renew-deadline duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The interval between attempts by the acting master to renew a leadership slot before it stops leading. This must be less than or equal to the lease duration. This is only applicable if leader election is enabled.</p></td></tr><tr><td colspan=2>--leader-elect-resource-lock string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "leases"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The type of resource object that is used for locking during leader election. Supported options are 'endpoints', 'configmaps', 'leases', 'endpointsleases' and 'configmapsleases'.</p></td></tr><tr><td colspan=2>--leader-elect-resource-name string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "kube-controller-manager"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The name of resource object that is used for locking during leader election.</p></td></tr><tr><td colspan=2>--leader-elect-resource-namespace string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "kube-system"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The namespace of resource object that is used for locking during leader election.</p></td></tr><tr><td colspan=2>--leader-elect-retry-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 2s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The duration the clients should wait between attempting acquisition and renewal of a leadership. This is only applicable if leader election is enabled.</p></td></tr><tr><td colspan=2>--log-backtrace-at &lt;a string in the form 'file:N'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: :0</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>when logging hits line file:N, emit a stack trace</p></td></tr><tr><td colspan=2>--log-dir string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If non-empty, write log files in this directory</p></td></tr><tr><td colspan=2>--log-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If non-empty, use this log file</p></td></tr><tr><td colspan=2>--log-file-max-size uint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1800</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Defines the maximum size a log file can grow to. Unit is megabytes. If the value is 0, the maximum file size is unlimited.</p></td></tr><tr><td colspan=2>--log-flush-frequency duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum number of seconds between log flushes</p></td></tr><tr><td colspan=2>--logging-format string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "text"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Sets the log format. Permitted formats: "json", "text".<br>Non-default formats don't honor these flags: --add_dir_header, --alsologtostderr, --log_backtrace_at, --log_dir, --log_file, --log_file_max_size, --logtostderr, --one_output, --skip_headers, --skip_log_headers, --stderrthreshold, --vmodule, --log-flush-frequency.<br>Non-default choices are currently alpha and subject to change without warning.</p></td></tr><tr><td colspan=2>--logtostderr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>log to standard error instead of files</p></td></tr><tr><td colspan=2>--master string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The address of the Kubernetes API server (overrides any value in kubeconfig).</p></td></tr><tr><td colspan=2>--max-endpoints-per-slice int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 100</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The maximum number of endpoints that will be added to an EndpointSlice. More endpoints per slice will result in less endpoint slices, but larger resources. Defaults to 100.</p></td></tr><tr><td colspan=2>--min-resync-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 12h0m0s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The resync period in reflectors will be random between MinResyncPeriod and 2*MinResyncPeriod.</p></td></tr><tr><td colspan=2>--mirroring-concurrent-service-endpoint-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The number of service endpoint syncing operations that will be done concurrently by the EndpointSliceMirroring controller. Larger number = faster endpoint slice updating, but more CPU (and network) load. Defaults to 5.</p></td></tr><tr><td colspan=2>--mirroring-endpointslice-updates-batch-period duration</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The length of EndpointSlice updates batching period for EndpointSliceMirroring controller. Processing of EndpointSlice changes will be delayed by this duration to join them with potential upcoming updates and reduce the overall number of EndpointSlice updates. Larger number = higher endpoint programming latency, but lower number of endpoints revision generated</p></td></tr><tr><td colspan=2>--mirroring-max-endpoints-per-subset int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1000</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The maximum number of endpoints that will be added to an EndpointSlice by the EndpointSliceMirroring controller. More endpoints per slice will result in less endpoint slices, but larger resources. Defaults to 100.</p></td></tr><tr><td colspan=2>--namespace-sync-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5m0s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The period for syncing namespace life-cycle updates</p></td></tr><tr><td colspan=2>--node-cidr-mask-size int32</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Mask size for node cidr in cluster. Default is 24 for IPv4 and 64 for IPv6.</p></td></tr><tr><td colspan=2>--node-cidr-mask-size-ipv4 int32</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Mask size for IPv4 node cidr in dual-stack cluster. Default is 24.</p></td></tr><tr><td colspan=2>--node-cidr-mask-size-ipv6 int32</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Mask size for IPv6 node cidr in dual-stack cluster. Default is 64.</p></td></tr><tr><td colspan=2>--node-eviction-rate float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 0.1</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Number of nodes per second on which pods are deleted in case of node failure when a zone is healthy (see --unhealthy-zone-threshold for definition of healthy/unhealthy). Zone refers to entire cluster in non-multizone clusters.</p></td></tr><tr><td colspan=2>--node-monitor-grace-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 40s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Amount of time which we allow running Node to be unresponsive before marking it unhealthy. Must be N times more than kubelet's nodeStatusUpdateFrequency, where N means number of retries allowed for kubelet to post node status.</p></td></tr><tr><td colspan=2>--node-monitor-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The period for syncing NodeStatus in NodeController.</p></td></tr><tr><td colspan=2>--node-startup-grace-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1m0s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Amount of time which we allow starting Node to be unresponsive before marking it unhealthy.</p></td></tr><tr><td colspan=2>--one-output</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true, only write logs to their native severity level (vs also writing to each lower severity level</p></td></tr><tr><td colspan=2>--permit-port-sharing</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true, SO_REUSEPORT will be used when binding the port, which allows more than one instance to bind on the same address and port. [default=false]</p></td></tr><tr><td colspan=2>--pod-eviction-timeout duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5m0s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The grace period for deleting pods on failed nodes.</p></td></tr><tr><td colspan=2>--profiling&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Enable profiling via web interface host:port/debug/pprof/</p></td></tr><tr><td colspan=2>--pv-recycler-increment-timeout-nfs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 30</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>the increment of time added per Gi to ActiveDeadlineSeconds for an NFS scrubber pod</p></td></tr><tr><td colspan=2>--pv-recycler-minimum-timeout-hostpath int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 60</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The minimum ActiveDeadlineSeconds to use for a HostPath Recycler pod. This is for development and testing only and will not work in a multi-node cluster.</p></td></tr><tr><td colspan=2>--pv-recycler-minimum-timeout-nfs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 300</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The minimum ActiveDeadlineSeconds to use for an NFS Recycler pod</p></td></tr><tr><td colspan=2>--pv-recycler-pod-template-filepath-hostpath string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The file path to a pod definition used as a template for HostPath persistent volume recycling. This is for development and testing only and will not work in a multi-node cluster.</p></td></tr><tr><td colspan=2>--pv-recycler-pod-template-filepath-nfs string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The file path to a pod definition used as a template for NFS persistent volume recycling</p></td></tr><tr><td colspan=2>--pv-recycler-timeout-increment-hostpath int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 30</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>the increment of time added per Gi to ActiveDeadlineSeconds for a HostPath scrubber pod. This is for development and testing only and will not work in a multi-node cluster.</p></td></tr><tr><td colspan=2>--pvclaimbinder-sync-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 15s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The period for syncing persistent volumes and persistent volume claims</p></td></tr><tr><td colspan=2>--requestheader-allowed-names strings</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>List of client certificate common names to allow to provide usernames in headers specified by --requestheader-username-headers. If empty, any client certificate validated by the authorities in --requestheader-client-ca-file is allowed.</p></td></tr><tr><td colspan=2>--requestheader-client-ca-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Root certificate bundle to use to verify client certificates on incoming requests before trusting usernames in headers specified by --requestheader-username-headers. WARNING: generally do not depend on authorization being already done for incoming requests.</p></td></tr><tr><td colspan=2>--requestheader-extra-headers-prefix strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "x-remote-extra-"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>List of request header prefixes to inspect. X-Remote-Extra- is suggested.</p></td></tr><tr><td colspan=2>--requestheader-group-headers strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "x-remote-group"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>List of request headers to inspect for groups. X-Remote-Group is suggested.</p></td></tr><tr><td colspan=2>--requestheader-username-headers strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "x-remote-user"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>List of request headers to inspect for usernames. X-Remote-User is common.</p></td></tr><tr><td colspan=2>--resource-quota-sync-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5m0s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The period for syncing quota usage status in the system</p></td></tr><tr><td colspan=2>--root-ca-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If set, this root certificate authority will be included in service account's token secret. This must be a valid PEM-encoded CA bundle.</p></td></tr><tr><td colspan=2>--route-reconciliation-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The period for reconciling routes created for Nodes by cloud provider.</p></td></tr><tr><td colspan=2>--secondary-node-eviction-rate float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 0.01</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Number of nodes per second on which pods are deleted in case of node failure when a zone is unhealthy (see --unhealthy-zone-threshold for definition of healthy/unhealthy). Zone refers to entire cluster in non-multizone clusters. This value is implicitly overridden to 0 if the cluster size is smaller than --large-cluster-size-threshold.</p></td></tr><tr><td colspan=2>--secure-port int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10257</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The port on which to serve HTTPS with authentication and authorization. If 0, don't serve HTTPS at all.</p></td></tr><tr><td colspan=2>--service-account-private-key-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Filename containing a PEM-encoded private RSA or ECDSA key used to sign service account tokens.</p></td></tr><tr><td colspan=2>--service-cluster-ip-range string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>CIDR Range for Services in cluster. Requires --allocate-node-cidrs to be true</p></td></tr><tr><td colspan=2>--show-hidden-metrics-for-version string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The previous version for which you want to show hidden metrics. Only the previous minor version is meaningful, other values will not be allowed. The format is ., e.g.: '1.16'. The purpose of this format is make sure you have the opportunity to notice if the next release hides additional metrics, rather than being surprised when they are permanently removed in the release after that.</p></td></tr><tr><td colspan=2>--skip-headers</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true, avoid header prefixes in the log messages</p></td></tr><tr><td colspan=2>--skip-log-headers</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true, avoid headers when opening log files</p></td></tr><tr><td colspan=2>--stderrthreshold int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 2</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>logs at or above this threshold go to stderr</p></td></tr><tr><td colspan=2>--terminated-pod-gc-threshold int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 12500</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Number of terminated pods that can exist before the terminated pod garbage collector starts deleting terminated pods. If &lt;= 0, the terminated pod garbage collector is disabled.</p></td></tr><tr><td colspan=2>--tls-cert-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>File containing the default x509 Certificate for HTTPS. (CA cert, if any, concatenated after server cert). If HTTPS serving is enabled, and --tls-cert-file and --tls-private-key-file are not provided, a self-signed certificate and key are generated for the public address and saved to the directory specified by --cert-dir.</p></td></tr><tr><td colspan=2>--tls-cipher-suites strings</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Comma-separated list of cipher suites for the server. If omitted, the default Go cipher suites will be used.<br>Preferred values: TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384, TLS_CHACHA20_POLY1305_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256, TLS_RSA_WITH_3DES_EDE_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_GCM_SHA384.<br>Insecure values: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_RC4_128_SHA, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_RC4_128_SHA.</p></td></tr><tr><td colspan=2>--tls-min-version string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Minimum TLS version supported. Possible values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13</p></td></tr><tr><td colspan=2>--tls-private-key-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>File containing the default x509 private key matching --tls-cert-file.</p></td></tr><tr><td colspan=2>--tls-sni-cert-key string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>A pair of x509 certificate and private key file paths, optionally suffixed with a list of domain patterns which are fully qualified domain names, possibly with prefixed wildcard segments. The domain patterns also allow IP addresses, but IPs should only be used if the apiserver has visibility to the IP address requested by a client. If no domain patterns are provided, the names of the certificate are extracted. Non-wildcard matches trump over wildcard matches, explicit domain patterns trump over extracted names. For multiple key/certificate pairs, use the --tls-sni-cert-key multiple times. Examples: "example.crt,example.key" or "foo.crt,foo.key:*.foo.com,foo.com".</p></td></tr><tr><td colspan=2>--unhealthy-zone-threshold float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 0.55</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Fraction of Nodes in a zone which needs to be not Ready (minimum 3) for zone to be treated as unhealthy.</p></td></tr><tr><td colspan=2>--use-service-account-credentials</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true, use individual service account credentials for each controller.</p></td></tr><tr><td colspan=2>-v, --v int</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>number for the log level verbosity</p></td></tr><tr><td colspan=2>--version version[=true]</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Print version information and quit</p></td></tr><tr><td colspan=2>--vmodule &lt;comma-separated 'pattern=N' settings></td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>comma-separated list of pattern=N settings for file-filtered logging</p></td></tr><tr><td colspan=2>--volume-host-allow-local-loopback&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If false, deny local loopback IPs in addition to any CIDR ranges in --volume-host-cidr-denylist</p></td></tr><tr><td colspan=2>--volume-host-cidr-denylist strings</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>A comma-separated list of CIDR ranges to avoid from volume plugins.</p></td></tr></tbody></table></div><div class=td-content style=page-break-before:always><h1 id=pg-a727de6cb5a090d5f115f88a8606c438>5 - kube-proxy</h1><h2 id=synopsis>Synopsis</h2><p>The Kubernetes network proxy runs on each node. This
reflects services as defined in the Kubernetes API on each node and can do simple
TCP, UDP, and SCTP stream forwarding or round robin TCP, UDP, and SCTP forwarding across a set of backends.
Service cluster IPs and ports are currently found through Docker-links-compatible
environment variables specifying ports opened by the service proxy. There is an optional
addon that provides cluster DNS for these cluster IPs. The user must create a service
with the apiserver API to configure the proxy.</p><pre><code>kube-proxy [flags]
</code></pre><h2 id=options>Options</h2><table style=width:100%;table-layout:fixed><col span=1 style=width:10px><col span=1><tbody><tr><td colspan=2>--azure-container-registry-config string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the file containing Azure container registry configuration information.</p></td></tr><tr><td colspan=2>--bind-address string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 0.0.0.0</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address for the proxy server to serve on (set to '0.0.0.0' for all IPv4 interfaces and '::' for all IPv6 interfaces)</p></td></tr><tr><td colspan=2>--bind-address-hard-fail</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true kube-proxy will treat failure to bind to a port as fatal and exit</p></td></tr><tr><td colspan=2>--cleanup</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true cleanup iptables and ipvs rules and exit.</p></td></tr><tr><td colspan=2>--cluster-cidr string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The CIDR range of pods in the cluster. When configured, traffic sent to a Service cluster IP from outside this range will be masqueraded and traffic sent from pods to an external LoadBalancer IP will be directed to the respective cluster IP instead</p></td></tr><tr><td colspan=2>--config string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The path to the configuration file.</p></td></tr><tr><td colspan=2>--config-sync-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 15m0s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>How often configuration from the apiserver is refreshed. Must be greater than 0.</p></td></tr><tr><td colspan=2>--conntrack-max-per-core int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 32768</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum number of NAT connections to track per CPU core (0 to leave the limit as-is and ignore conntrack-min).</p></td></tr><tr><td colspan=2>--conntrack-min int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 131072</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Minimum number of conntrack entries to allocate, regardless of conntrack-max-per-core (set conntrack-max-per-core=0 to leave the limit as-is).</p></td></tr><tr><td colspan=2>--conntrack-tcp-timeout-close-wait duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1h0m0s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>NAT timeout for TCP connections in the CLOSE_WAIT state</p></td></tr><tr><td colspan=2>--conntrack-tcp-timeout-established duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 24h0m0s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Idle timeout for established TCP connections (0 to leave as-is)</p></td></tr><tr><td colspan=2>--detect-local-mode LocalMode</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Mode to use to detect local traffic</p></td></tr><tr><td colspan=2>--feature-gates &lt;comma-separated 'key=True|False' pairs></td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for alpha/experimental features. Options are:<br>APIListChunking=true|false (BETA - default=true)<br>APIPriorityAndFairness=true|false (BETA - default=true)<br>APIResponseCompression=true|false (BETA - default=true)<br>APIServerIdentity=true|false (ALPHA - default=false)<br>AllAlpha=true|false (ALPHA - default=false)<br>AllBeta=true|false (BETA - default=false)<br>AllowInsecureBackendProxy=true|false (BETA - default=true)<br>AnyVolumeDataSource=true|false (ALPHA - default=false)<br>AppArmor=true|false (BETA - default=true)<br>BalanceAttachedNodeVolumes=true|false (ALPHA - default=false)<br>BoundServiceAccountTokenVolume=true|false (ALPHA - default=false)<br>CPUManager=true|false (BETA - default=true)<br>CRIContainerLogRotation=true|false (BETA - default=true)<br>CSIInlineVolume=true|false (BETA - default=true)<br>CSIMigration=true|false (BETA - default=true)<br>CSIMigrationAWS=true|false (BETA - default=false)<br>CSIMigrationAWSComplete=true|false (ALPHA - default=false)<br>CSIMigrationAzureDisk=true|false (BETA - default=false)<br>CSIMigrationAzureDiskComplete=true|false (ALPHA - default=false)<br>CSIMigrationAzureFile=true|false (ALPHA - default=false)<br>CSIMigrationAzureFileComplete=true|false (ALPHA - default=false)<br>CSIMigrationGCE=true|false (BETA - default=false)<br>CSIMigrationGCEComplete=true|false (ALPHA - default=false)<br>CSIMigrationOpenStack=true|false (BETA - default=false)<br>CSIMigrationOpenStackComplete=true|false (ALPHA - default=false)<br>CSIMigrationvSphere=true|false (BETA - default=false)<br>CSIMigrationvSphereComplete=true|false (BETA - default=false)<br>CSIServiceAccountToken=true|false (ALPHA - default=false)<br>CSIStorageCapacity=true|false (ALPHA - default=false)<br>CSIVolumeFSGroupPolicy=true|false (BETA - default=true)<br>ConfigurableFSGroupPolicy=true|false (BETA - default=true)<br>CronJobControllerV2=true|false (ALPHA - default=false)<br>CustomCPUCFSQuotaPeriod=true|false (ALPHA - default=false)<br>DefaultPodTopologySpread=true|false (BETA - default=true)<br>DevicePlugins=true|false (BETA - default=true)<br>DisableAcceleratorUsageMetrics=true|false (BETA - default=true)<br>DownwardAPIHugePages=true|false (ALPHA - default=false)<br>DynamicKubeletConfig=true|false (BETA - default=true)<br>EfficientWatchResumption=true|false (ALPHA - default=false)<br>EndpointSlice=true|false (BETA - default=true)<br>EndpointSliceNodeName=true|false (ALPHA - default=false)<br>EndpointSliceProxying=true|false (BETA - default=true)<br>EndpointSliceTerminatingCondition=true|false (ALPHA - default=false)<br>EphemeralContainers=true|false (ALPHA - default=false)<br>ExpandCSIVolumes=true|false (BETA - default=true)<br>ExpandInUsePersistentVolumes=true|false (BETA - default=true)<br>ExpandPersistentVolumes=true|false (BETA - default=true)<br>ExperimentalHostUserNamespaceDefaulting=true|false (BETA - default=false)<br>GenericEphemeralVolume=true|false (ALPHA - default=false)<br>GracefulNodeShutdown=true|false (ALPHA - default=false)<br>HPAContainerMetrics=true|false (ALPHA - default=false)<br>HPAScaleToZero=true|false (ALPHA - default=false)<br>HugePageStorageMediumSize=true|false (BETA - default=true)<br>IPv6DualStack=true|false (ALPHA - default=false)<br>ImmutableEphemeralVolumes=true|false (BETA - default=true)<br>KubeletCredentialProviders=true|false (ALPHA - default=false)<br>KubeletPodResources=true|false (BETA - default=true)<br>LegacyNodeRoleBehavior=true|false (BETA - default=true)<br>LocalStorageCapacityIsolation=true|false (BETA - default=true)<br>LocalStorageCapacityIsolationFSQuotaMonitoring=true|false (ALPHA - default=false)<br>MixedProtocolLBService=true|false (ALPHA - default=false)<br>NodeDisruptionExclusion=true|false (BETA - default=true)<br>NonPreemptingPriority=true|false (BETA - default=true)<br>PodDisruptionBudget=true|false (BETA - default=true)<br>PodOverhead=true|false (BETA - default=true)<br>ProcMountType=true|false (ALPHA - default=false)<br>QOSReserved=true|false (ALPHA - default=false)<br>RemainingItemCount=true|false (BETA - default=true)<br>RemoveSelfLink=true|false (BETA - default=true)<br>RootCAConfigMap=true|false (BETA - default=true)<br>RotateKubeletServerCertificate=true|false (BETA - default=true)<br>RunAsGroup=true|false (BETA - default=true)<br>ServerSideApply=true|false (BETA - default=true)<br>ServiceAccountIssuerDiscovery=true|false (BETA - default=true)<br>ServiceLBNodePortControl=true|false (ALPHA - default=false)<br>ServiceNodeExclusion=true|false (BETA - default=true)<br>ServiceTopology=true|false (ALPHA - default=false)<br>SetHostnameAsFQDN=true|false (BETA - default=true)<br>SizeMemoryBackedVolumes=true|false (ALPHA - default=false)<br>StorageVersionAPI=true|false (ALPHA - default=false)<br>StorageVersionHash=true|false (BETA - default=true)<br>Sysctls=true|false (BETA - default=true)<br>TTLAfterFinished=true|false (ALPHA - default=false)<br>TopologyManager=true|false (BETA - default=true)<br>ValidateProxyRedirects=true|false (BETA - default=true)<br>WarningHeaders=true|false (BETA - default=true)<br>WinDSR=true|false (ALPHA - default=false)<br>WinOverlay=true|false (BETA - default=true)<br>WindowsEndpointSliceProxying=true|false (ALPHA - default=false)</p></td></tr><tr><td colspan=2>--healthz-bind-address ipport&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 0.0.0.0:10256</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address with port for the health check server to serve on (set to '0.0.0.0:10256' for all IPv4 interfaces and '[::]:10256' for all IPv6 interfaces). Set empty to disable.</p></td></tr><tr><td colspan=2>-h, --help</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>help for kube-proxy</p></td></tr><tr><td colspan=2>--hostname-override string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If non-empty, will use this string as identification instead of the actual hostname.</p></td></tr><tr><td colspan=2>--iptables-masquerade-bit int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 14</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If using the pure iptables proxy, the bit of the fwmark space to mark packets requiring SNAT with. Must be within the range [0, 31].</p></td></tr><tr><td colspan=2>--iptables-min-sync-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The minimum interval of how often the iptables rules can be refreshed as endpoints and services change (e.g. '5s', '1m', '2h22m').</p></td></tr><tr><td colspan=2>--iptables-sync-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 30s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The maximum interval of how often iptables rules are refreshed (e.g. '5s', '1m', '2h22m'). Must be greater than 0.</p></td></tr><tr><td colspan=2>--ipvs-exclude-cidrs strings</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>A comma-separated list of CIDR's which the ipvs proxier should not touch when cleaning up IPVS rules.</p></td></tr><tr><td colspan=2>--ipvs-min-sync-period duration</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The minimum interval of how often the ipvs rules can be refreshed as endpoints and services change (e.g. '5s', '1m', '2h22m').</p></td></tr><tr><td colspan=2>--ipvs-scheduler string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The ipvs scheduler type when proxy mode is ipvs</p></td></tr><tr><td colspan=2>--ipvs-strict-arp</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Enable strict ARP by setting arp_ignore to 1 and arp_announce to 2</p></td></tr><tr><td colspan=2>--ipvs-sync-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 30s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The maximum interval of how often ipvs rules are refreshed (e.g. '5s', '1m', '2h22m'). Must be greater than 0.</p></td></tr><tr><td colspan=2>--ipvs-tcp-timeout duration</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The timeout for idle IPVS TCP connections, 0 to leave as-is. (e.g. '5s', '1m', '2h22m').</p></td></tr><tr><td colspan=2>--ipvs-tcpfin-timeout duration</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The timeout for IPVS TCP connections after receiving a FIN packet, 0 to leave as-is. (e.g. '5s', '1m', '2h22m').</p></td></tr><tr><td colspan=2>--ipvs-udp-timeout duration</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The timeout for IPVS UDP packets, 0 to leave as-is. (e.g. '5s', '1m', '2h22m').</p></td></tr><tr><td colspan=2>--kube-api-burst int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Burst to use while talking with kubernetes apiserver</p></td></tr><tr><td colspan=2>--kube-api-content-type string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "application/vnd.kubernetes.protobuf"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Content type of requests sent to apiserver.</p></td></tr><tr><td colspan=2>--kube-api-qps float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>QPS to use while talking with kubernetes apiserver</p></td></tr><tr><td colspan=2>--kubeconfig string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeconfig file with authorization information (the master location can be overridden by the master flag).</p></td></tr><tr><td colspan=2>--log-flush-frequency duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum number of seconds between log flushes</p></td></tr><tr><td colspan=2>--masquerade-all</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If using the pure iptables proxy, SNAT all traffic sent via Service cluster IPs (this not commonly needed)</p></td></tr><tr><td colspan=2>--master string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The address of the Kubernetes API server (overrides any value in kubeconfig)</p></td></tr><tr><td colspan=2>--metrics-bind-address ipport&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 127.0.0.1:10249</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address with port for the metrics server to serve on (set to '0.0.0.0:10249' for all IPv4 interfaces and '[::]:10249' for all IPv6 interfaces). Set empty to disable.</p></td></tr><tr><td colspan=2>--nodeport-addresses strings</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>A string slice of values which specify the addresses to use for NodePorts. Values may be valid IP blocks (e.g. 1.2.3.0/24, 1.2.3.4/32). The default empty string slice ([]) means to use all local addresses.</p></td></tr><tr><td colspan=2>--oom-score-adj int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: -999</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The oom-score-adj value for kube-proxy process. Values must be within the range [-1000, 1000]</p></td></tr><tr><td colspan=2>--profiling</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true enables profiling via web interface on /debug/pprof handler.</p></td></tr><tr><td colspan=2>--proxy-mode ProxyMode</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Which proxy mode to use: 'userspace' (older) or 'iptables' (faster) or 'ipvs' or 'kernelspace' (windows). If blank, use the best-available proxy (currently iptables). If the iptables proxy is selected, regardless of how, but the system's kernel or iptables versions are insufficient, this always falls back to the userspace proxy.</p></td></tr><tr><td colspan=2>--proxy-port-range port-range</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Range of host ports (beginPort-endPort, single port or beginPort+offset, inclusive) that may be consumed in order to proxy service traffic. If (unspecified, 0, or 0-0) then ports will be randomly chosen.</p></td></tr><tr><td colspan=2>--show-hidden-metrics-for-version string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The previous version for which you want to show hidden metrics. Only the previous minor version is meaningful, other values will not be allowed. The format is ., e.g.: '1.16'. The purpose of this format is make sure you have the opportunity to notice if the next release hides additional metrics, rather than being surprised when they are permanently removed in the release after that.</p></td></tr><tr><td colspan=2>--udp-timeout duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 250ms</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>How long an idle UDP connection will be kept open (e.g. '250ms', '2s'). Must be greater than 0. Only applicable for proxy-mode=userspace</p></td></tr><tr><td colspan=2>--version version[=true]</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Print version information and quit</p></td></tr><tr><td colspan=2>--write-config-to string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If set, write the default configuration values to this file and exit.</p></td></tr></tbody></table></div><div class=td-content style=page-break-before:always><h1 id=pg-57e59e5ddd9db63da6c9d27cc0e2f254>6 - kube-scheduler</h1><h2 id=synopsis>Synopsis</h2><p>The Kubernetes scheduler is a control plane process which assigns
Pods to Nodes. The scheduler determines which Nodes are valid placements for
each Pod in the scheduling queue according to constraints and available
resources. The scheduler then ranks each valid Node and binds the Pod to a
suitable Node. Multiple different schedulers may be used within a cluster;
kube-scheduler is the reference implementation.
See <a href=https://kubernetes.io/docs/concepts/scheduling-eviction/>scheduling</a>
for more information about scheduling and the kube-scheduler component.</p><pre><code>kube-scheduler [flags]
</code></pre><h2 id=options>Options</h2><table style=width:100%;table-layout:fixed><col span=1 style=width:10px><col span=1><tbody><tr><td colspan=2>--add-dir-header</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true, adds the file directory to the header of the log messages</p></td></tr><tr><td colspan=2>--address string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "0.0.0.0"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: the IP address on which to listen for the --port port (set to 0.0.0.0 for all IPv4 interfaces and :: for all IPv6 interfaces). See --bind-address instead.</p></td></tr><tr><td colspan=2>--algorithm-provider string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: the scheduling algorithm provider to use, this sets the default plugins for component config profiles. Choose one of: ClusterAutoscalerProvider | DefaultProvider</p></td></tr><tr><td colspan=2>--alsologtostderr</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>log to standard error as well as files</p></td></tr><tr><td colspan=2>--authentication-kubeconfig string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>kubeconfig file pointing at the 'core' kubernetes server with enough rights to create tokenreviews.authentication.k8s.io. This is optional. If empty, all token requests are considered to be anonymous and no client CA is looked up in the cluster.</p></td></tr><tr><td colspan=2>--authentication-skip-lookup</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If false, the authentication-kubeconfig will be used to lookup missing authentication configuration from the cluster.</p></td></tr><tr><td colspan=2>--authentication-token-webhook-cache-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The duration to cache responses from the webhook token authenticator.</p></td></tr><tr><td colspan=2>--authentication-tolerate-lookup-failure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true, failures to look up missing authentication configuration from the cluster are not considered fatal. Note that this can result in authentication that treats all requests as anonymous.</p></td></tr><tr><td colspan=2>--authorization-always-allow-paths strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/healthz"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>A list of HTTP paths to skip during authorization, i.e. these are authorized without contacting the 'core' kubernetes server.</p></td></tr><tr><td colspan=2>--authorization-kubeconfig string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>kubeconfig file pointing at the 'core' kubernetes server with enough rights to create subjectaccessreviews.authorization.k8s.io. This is optional. If empty, all requests not skipped by authorization are forbidden.</p></td></tr><tr><td colspan=2>--authorization-webhook-cache-authorized-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The duration to cache 'authorized' responses from the webhook authorizer.</p></td></tr><tr><td colspan=2>--authorization-webhook-cache-unauthorized-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The duration to cache 'unauthorized' responses from the webhook authorizer.</p></td></tr><tr><td colspan=2>--azure-container-registry-config string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the file containing Azure container registry configuration information.</p></td></tr><tr><td colspan=2>--bind-address string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 0.0.0.0</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address on which to listen for the --secure-port port. The associated interface(s) must be reachable by the rest of the cluster, and by CLI/web clients. If blank or an unspecified address (0.0.0.0 or ::), all interfaces will be used.</p></td></tr><tr><td colspan=2>--cert-dir string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The directory where the TLS certs are located. If --tls-cert-file and --tls-private-key-file are provided, this flag will be ignored.</p></td></tr><tr><td colspan=2>--client-ca-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If set, any request presenting a client certificate signed by one of the authorities in the client-ca-file is authenticated with an identity corresponding to the CommonName of the client certificate.</p></td></tr><tr><td colspan=2>--config string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The path to the configuration file. The following flags can overwrite fields in this file:<br>--address<br>--port<br>--use-legacy-policy-config<br>--policy-configmap<br>--policy-config-file<br>--algorithm-provider</p></td></tr><tr><td colspan=2>--contention-profiling&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: enable lock contention profiling, if profiling is enabled</p></td></tr><tr><td colspan=2>--experimental-logging-sanitization</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>[Experimental] When enabled prevents logging of fields tagged as sensitive (passwords, keys, tokens).<br>Runtime log sanitization may introduce significant computation overhead and therefore should not be enabled in production.</p></td></tr><tr><td colspan=2>--feature-gates &lt;comma-separated 'key=True|False' pairs></td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for alpha/experimental features. Options are:<br>APIListChunking=true|false (BETA - default=true)<br>APIPriorityAndFairness=true|false (BETA - default=true)<br>APIResponseCompression=true|false (BETA - default=true)<br>APIServerIdentity=true|false (ALPHA - default=false)<br>AllAlpha=true|false (ALPHA - default=false)<br>AllBeta=true|false (BETA - default=false)<br>AllowInsecureBackendProxy=true|false (BETA - default=true)<br>AnyVolumeDataSource=true|false (ALPHA - default=false)<br>AppArmor=true|false (BETA - default=true)<br>BalanceAttachedNodeVolumes=true|false (ALPHA - default=false)<br>BoundServiceAccountTokenVolume=true|false (ALPHA - default=false)<br>CPUManager=true|false (BETA - default=true)<br>CRIContainerLogRotation=true|false (BETA - default=true)<br>CSIInlineVolume=true|false (BETA - default=true)<br>CSIMigration=true|false (BETA - default=true)<br>CSIMigrationAWS=true|false (BETA - default=false)<br>CSIMigrationAWSComplete=true|false (ALPHA - default=false)<br>CSIMigrationAzureDisk=true|false (BETA - default=false)<br>CSIMigrationAzureDiskComplete=true|false (ALPHA - default=false)<br>CSIMigrationAzureFile=true|false (ALPHA - default=false)<br>CSIMigrationAzureFileComplete=true|false (ALPHA - default=false)<br>CSIMigrationGCE=true|false (BETA - default=false)<br>CSIMigrationGCEComplete=true|false (ALPHA - default=false)<br>CSIMigrationOpenStack=true|false (BETA - default=false)<br>CSIMigrationOpenStackComplete=true|false (ALPHA - default=false)<br>CSIMigrationvSphere=true|false (BETA - default=false)<br>CSIMigrationvSphereComplete=true|false (BETA - default=false)<br>CSIServiceAccountToken=true|false (ALPHA - default=false)<br>CSIStorageCapacity=true|false (ALPHA - default=false)<br>CSIVolumeFSGroupPolicy=true|false (BETA - default=true)<br>ConfigurableFSGroupPolicy=true|false (BETA - default=true)<br>CronJobControllerV2=true|false (ALPHA - default=false)<br>CustomCPUCFSQuotaPeriod=true|false (ALPHA - default=false)<br>DefaultPodTopologySpread=true|false (BETA - default=true)<br>DevicePlugins=true|false (BETA - default=true)<br>DisableAcceleratorUsageMetrics=true|false (BETA - default=true)<br>DownwardAPIHugePages=true|false (ALPHA - default=false)<br>DynamicKubeletConfig=true|false (BETA - default=true)<br>EfficientWatchResumption=true|false (ALPHA - default=false)<br>EndpointSlice=true|false (BETA - default=true)<br>EndpointSliceNodeName=true|false (ALPHA - default=false)<br>EndpointSliceProxying=true|false (BETA - default=true)<br>EndpointSliceTerminatingCondition=true|false (ALPHA - default=false)<br>EphemeralContainers=true|false (ALPHA - default=false)<br>ExpandCSIVolumes=true|false (BETA - default=true)<br>ExpandInUsePersistentVolumes=true|false (BETA - default=true)<br>ExpandPersistentVolumes=true|false (BETA - default=true)<br>ExperimentalHostUserNamespaceDefaulting=true|false (BETA - default=false)<br>GenericEphemeralVolume=true|false (ALPHA - default=false)<br>GracefulNodeShutdown=true|false (ALPHA - default=false)<br>HPAContainerMetrics=true|false (ALPHA - default=false)<br>HPAScaleToZero=true|false (ALPHA - default=false)<br>HugePageStorageMediumSize=true|false (BETA - default=true)<br>IPv6DualStack=true|false (ALPHA - default=false)<br>ImmutableEphemeralVolumes=true|false (BETA - default=true)<br>KubeletCredentialProviders=true|false (ALPHA - default=false)<br>KubeletPodResources=true|false (BETA - default=true)<br>LegacyNodeRoleBehavior=true|false (BETA - default=true)<br>LocalStorageCapacityIsolation=true|false (BETA - default=true)<br>LocalStorageCapacityIsolationFSQuotaMonitoring=true|false (ALPHA - default=false)<br>MixedProtocolLBService=true|false (ALPHA - default=false)<br>NodeDisruptionExclusion=true|false (BETA - default=true)<br>NonPreemptingPriority=true|false (BETA - default=true)<br>PodDisruptionBudget=true|false (BETA - default=true)<br>PodOverhead=true|false (BETA - default=true)<br>ProcMountType=true|false (ALPHA - default=false)<br>QOSReserved=true|false (ALPHA - default=false)<br>RemainingItemCount=true|false (BETA - default=true)<br>RemoveSelfLink=true|false (BETA - default=true)<br>RootCAConfigMap=true|false (BETA - default=true)<br>RotateKubeletServerCertificate=true|false (BETA - default=true)<br>RunAsGroup=true|false (BETA - default=true)<br>ServerSideApply=true|false (BETA - default=true)<br>ServiceAccountIssuerDiscovery=true|false (BETA - default=true)<br>ServiceLBNodePortControl=true|false (ALPHA - default=false)<br>ServiceNodeExclusion=true|false (BETA - default=true)<br>ServiceTopology=true|false (ALPHA - default=false)<br>SetHostnameAsFQDN=true|false (BETA - default=true)<br>SizeMemoryBackedVolumes=true|false (ALPHA - default=false)<br>StorageVersionAPI=true|false (ALPHA - default=false)<br>StorageVersionHash=true|false (BETA - default=true)<br>Sysctls=true|false (BETA - default=true)<br>TTLAfterFinished=true|false (ALPHA - default=false)<br>TopologyManager=true|false (BETA - default=true)<br>ValidateProxyRedirects=true|false (BETA - default=true)<br>WarningHeaders=true|false (BETA - default=true)<br>WinDSR=true|false (ALPHA - default=false)<br>WinOverlay=true|false (BETA - default=true)<br>WindowsEndpointSliceProxying=true|false (ALPHA - default=false)</p></td></tr><tr><td colspan=2>--hard-pod-affinity-symmetric-weight int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: RequiredDuringScheduling affinity is not symmetric, but there is an implicit PreferredDuringScheduling affinity rule corresponding to every RequiredDuringScheduling affinity rule. --hard-pod-affinity-symmetric-weight represents the weight of implicit PreferredDuringScheduling affinity rule. Must be in the range 0-100.This option was moved to the policy configuration file</p></td></tr><tr><td colspan=2>-h, --help</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>help for kube-scheduler</p></td></tr><tr><td colspan=2>--http2-max-streams-per-connection int</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The limit that the server gives to clients for the maximum number of streams in an HTTP/2 connection. Zero means to use golang's default.</p></td></tr><tr><td colspan=2>--kube-api-burst int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 100</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: burst to use while talking with kubernetes apiserver</p></td></tr><tr><td colspan=2>--kube-api-content-type string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "application/vnd.kubernetes.protobuf"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: content type of requests sent to apiserver.</p></td></tr><tr><td colspan=2>--kube-api-qps float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 50</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: QPS to use while talking with kubernetes apiserver</p></td></tr><tr><td colspan=2>--kubeconfig string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: path to kubeconfig file with authorization and master location information.</p></td></tr><tr><td colspan=2>--leader-elect&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Start a leader election client and gain leadership before executing the main loop. Enable this when running replicated components for high availability.</p></td></tr><tr><td colspan=2>--leader-elect-lease-duration duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 15s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The duration that non-leader candidates will wait after observing a leadership renewal until attempting to acquire leadership of a led but unrenewed leader slot. This is effectively the maximum duration that a leader can be stopped before it is replaced by another candidate. This is only applicable if leader election is enabled.</p></td></tr><tr><td colspan=2>--leader-elect-renew-deadline duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The interval between attempts by the acting master to renew a leadership slot before it stops leading. This must be less than or equal to the lease duration. This is only applicable if leader election is enabled.</p></td></tr><tr><td colspan=2>--leader-elect-resource-lock string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "leases"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The type of resource object that is used for locking during leader election. Supported options are 'endpoints', 'configmaps', 'leases', 'endpointsleases' and 'configmapsleases'.</p></td></tr><tr><td colspan=2>--leader-elect-resource-name string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "kube-scheduler"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The name of resource object that is used for locking during leader election.</p></td></tr><tr><td colspan=2>--leader-elect-resource-namespace string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "kube-system"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The namespace of resource object that is used for locking during leader election.</p></td></tr><tr><td colspan=2>--leader-elect-retry-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 2s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The duration the clients should wait between attempting acquisition and renewal of a leadership. This is only applicable if leader election is enabled.</p></td></tr><tr><td colspan=2>--lock-object-name string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "kube-scheduler"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: define the name of the lock object. Will be removed in favor of leader-elect-resource-name</p></td></tr><tr><td colspan=2>--lock-object-namespace string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "kube-system"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: define the namespace of the lock object. Will be removed in favor of leader-elect-resource-namespace.</p></td></tr><tr><td colspan=2>--log-backtrace-at &lt;a string in the form 'file:N'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: :0</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>when logging hits line file:N, emit a stack trace</p></td></tr><tr><td colspan=2>--log-dir string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If non-empty, write log files in this directory</p></td></tr><tr><td colspan=2>--log-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If non-empty, use this log file</p></td></tr><tr><td colspan=2>--log-file-max-size uint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1800</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Defines the maximum size a log file can grow to. Unit is megabytes. If the value is 0, the maximum file size is unlimited.</p></td></tr><tr><td colspan=2>--log-flush-frequency duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5s</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum number of seconds between log flushes</p></td></tr><tr><td colspan=2>--logging-format string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "text"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Sets the log format. Permitted formats: "json", "text".<br>Non-default formats don't honor these flags: --add_dir_header, --alsologtostderr, --log_backtrace_at, --log_dir, --log_file, --log_file_max_size, --logtostderr, --one_output, --skip_headers, --skip_log_headers, --stderrthreshold, --vmodule, --log-flush-frequency.<br>Non-default choices are currently alpha and subject to change without warning.</p></td></tr><tr><td colspan=2>--logtostderr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>log to standard error instead of files</p></td></tr><tr><td colspan=2>--master string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The address of the Kubernetes API server (overrides any value in kubeconfig)</p></td></tr><tr><td colspan=2>--one-output</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true, only write logs to their native severity level (vs also writing to each lower severity level</p></td></tr><tr><td colspan=2>--permit-port-sharing</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true, SO_REUSEPORT will be used when binding the port, which allows more than one instance to bind on the same address and port. [default=false]</p></td></tr><tr><td colspan=2>--policy-config-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: file with scheduler policy configuration. This file is used if policy ConfigMap is not provided or --use-legacy-policy-config=true. Note: The scheduler will fail if this is combined with Plugin configs</p></td></tr><tr><td colspan=2>--policy-configmap string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: name of the ConfigMap object that contains scheduler's policy configuration. It must exist in the system namespace before scheduler initialization if --use-legacy-policy-config=false. The config must be provided as the value of an element in 'Data' map with the key='policy.cfg'. Note: The scheduler will fail if this is combined with Plugin configs</p></td></tr><tr><td colspan=2>--policy-configmap-namespace string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "kube-system"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: the namespace where policy ConfigMap is located. The kube-system namespace will be used if this is not provided or is empty. Note: The scheduler will fail if this is combined with Plugin configs</p></td></tr><tr><td colspan=2>--port int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10251</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: the port on which to serve HTTP insecurely without authentication and authorization. If 0, don't serve plain HTTP at all. See --secure-port instead.</p></td></tr><tr><td colspan=2>--profiling&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: enable profiling via web interface host:port/debug/pprof/</p></td></tr><tr><td colspan=2>--requestheader-allowed-names strings</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>List of client certificate common names to allow to provide usernames in headers specified by --requestheader-username-headers. If empty, any client certificate validated by the authorities in --requestheader-client-ca-file is allowed.</p></td></tr><tr><td colspan=2>--requestheader-client-ca-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Root certificate bundle to use to verify client certificates on incoming requests before trusting usernames in headers specified by --requestheader-username-headers. WARNING: generally do not depend on authorization being already done for incoming requests.</p></td></tr><tr><td colspan=2>--requestheader-extra-headers-prefix strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "x-remote-extra-"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>List of request header prefixes to inspect. X-Remote-Extra- is suggested.</p></td></tr><tr><td colspan=2>--requestheader-group-headers strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "x-remote-group"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>List of request headers to inspect for groups. X-Remote-Group is suggested.</p></td></tr><tr><td colspan=2>--requestheader-username-headers strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "x-remote-user"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>List of request headers to inspect for usernames. X-Remote-User is common.</p></td></tr><tr><td colspan=2>--scheduler-name string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "default-scheduler"</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: name of the scheduler, used to select which pods will be processed by this scheduler, based on pod's "spec.schedulerName".</p></td></tr><tr><td colspan=2>--secure-port int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10259</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The port on which to serve HTTPS with authentication and authorization. If 0, don't serve HTTPS at all.</p></td></tr><tr><td colspan=2>--show-hidden-metrics-for-version string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>The previous version for which you want to show hidden metrics. Only the previous minor version is meaningful, other values will not be allowed. The format is ., e.g.: '1.16'. The purpose of this format is make sure you have the opportunity to notice if the next release hides additional metrics, rather than being surprised when they are permanently removed in the release after that.</p></td></tr><tr><td colspan=2>--skip-headers</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true, avoid header prefixes in the log messages</p></td></tr><tr><td colspan=2>--skip-log-headers</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If true, avoid headers when opening log files</p></td></tr><tr><td colspan=2>--stderrthreshold int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 2</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>logs at or above this threshold go to stderr</p></td></tr><tr><td colspan=2>--tls-cert-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>File containing the default x509 Certificate for HTTPS. (CA cert, if any, concatenated after server cert). If HTTPS serving is enabled, and --tls-cert-file and --tls-private-key-file are not provided, a self-signed certificate and key are generated for the public address and saved to the directory specified by --cert-dir.</p></td></tr><tr><td colspan=2>--tls-cipher-suites strings</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Comma-separated list of cipher suites for the server. If omitted, the default Go cipher suites will be used.<br>Preferred values: TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384, TLS_CHACHA20_POLY1305_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256, TLS_RSA_WITH_3DES_EDE_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_GCM_SHA384.<br>Insecure values: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_RC4_128_SHA, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_RC4_128_SHA.</p></td></tr><tr><td colspan=2>--tls-min-version string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Minimum TLS version supported. Possible values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13</p></td></tr><tr><td colspan=2>--tls-private-key-file string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>File containing the default x509 private key matching --tls-cert-file.</p></td></tr><tr><td colspan=2>--tls-sni-cert-key string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>A pair of x509 certificate and private key file paths, optionally suffixed with a list of domain patterns which are fully qualified domain names, possibly with prefixed wildcard segments. The domain patterns also allow IP addresses, but IPs should only be used if the apiserver has visibility to the IP address requested by a client. If no domain patterns are provided, the names of the certificate are extracted. Non-wildcard matches trump over wildcard matches, explicit domain patterns trump over extracted names. For multiple key/certificate pairs, use the --tls-sni-cert-key multiple times. Examples: "example.crt,example.key" or "foo.crt,foo.key:*.foo.com,foo.com".</p></td></tr><tr><td colspan=2>--use-legacy-policy-config</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: when set to true, scheduler will ignore policy ConfigMap and uses policy config file. Note: The scheduler will fail if this is combined with Plugin configs</p></td></tr><tr><td colspan=2>-v, --v int</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>number for the log level verbosity</p></td></tr><tr><td colspan=2>--version version[=true]</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>Print version information and quit</p></td></tr><tr><td colspan=2>--vmodule &lt;comma-separated 'pattern=N' settings></td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>comma-separated list of pattern=N settings for file-filtered logging</p></td></tr><tr><td colspan=2>--write-config-to string</td></tr><tr><td></td><td style=line-height:130%;word-wrap:break-word><p>If set, write the configuration values to this file and exit.</p></td></tr></tbody></table></div><div class=td-content style=page-break-before:always><h1 id=pg-1715b765e2ff39feffd103d59ec0ef07>7 - Kubelet authentication/authorization</h1><h2 id=overview>Overview</h2><p>A kubelet's HTTPS endpoint exposes APIs which give access to data of varying sensitivity,
and allow you to perform operations with varying levels of power on the node and within containers.</p><p>This document describes how to authenticate and authorize access to the kubelet's HTTPS endpoint.</p><h2 id=kubelet-authentication>Kubelet authentication</h2><p>By default, requests to the kubelet's HTTPS endpoint that are not rejected by other configured
authentication methods are treated as anonymous requests, and given a username of <code>system:anonymous</code>
and a group of <code>system:unauthenticated</code>.</p><p>To disable anonymous access and send <code>401 Unauthorized</code> responses to unauthenticated requests:</p><ul><li>start the kubelet with the <code>--anonymous-auth=false</code> flag</li></ul><p>To enable X509 client certificate authentication to the kubelet's HTTPS endpoint:</p><ul><li>start the kubelet with the <code>--client-ca-file</code> flag, providing a CA bundle to verify client certificates with</li><li>start the apiserver with <code>--kubelet-client-certificate</code> and <code>--kubelet-client-key</code> flags</li><li>see the <a href=/docs/reference/access-authn-authz/authentication/#x509-client-certs>apiserver authentication documentation</a> for more details</li></ul><p>To enable API bearer tokens (including service account tokens) to be used to authenticate to the kubelet's HTTPS endpoint:</p><ul><li>ensure the <code>authentication.k8s.io/v1beta1</code> API group is enabled in the API server</li><li>start the kubelet with the <code>--authentication-token-webhook</code> and <code>--kubeconfig</code> flags</li><li>the kubelet calls the <code>TokenReview</code> API on the configured API server to determine user information from bearer tokens</li></ul><h2 id=kubelet-authorization>Kubelet authorization</h2><p>Any request that is successfully authenticated (including an anonymous request) is then authorized. The default authorization mode is <code>AlwaysAllow</code>, which allows all requests.</p><p>There are many possible reasons to subdivide access to the kubelet API:</p><ul><li>anonymous auth is enabled, but anonymous users' ability to call the kubelet API should be limited</li><li>bearer token auth is enabled, but arbitrary API users' (like service accounts) ability to call the kubelet API should be limited</li><li>client certificate auth is enabled, but only some of the client certificates signed by the configured CA should be allowed to use the kubelet API</li></ul><p>To subdivide access to the kubelet API, delegate authorization to the API server:</p><ul><li>ensure the <code>authorization.k8s.io/v1beta1</code> API group is enabled in the API server</li><li>start the kubelet with the <code>--authorization-mode=Webhook</code> and the <code>--kubeconfig</code> flags</li><li>the kubelet calls the <code>SubjectAccessReview</code> API on the configured API server to determine whether each request is authorized</li></ul><p>The kubelet authorizes API requests using the same <a href=/docs/reference/access-authn-authz/authorization/#review-your-request-attributes>request attributes</a> approach as the apiserver.</p><p>The verb is determined from the incoming request's HTTP verb:</p><table><thead><tr><th>HTTP verb</th><th>request verb</th></tr></thead><tbody><tr><td>POST</td><td>create</td></tr><tr><td>GET, HEAD</td><td>get</td></tr><tr><td>PUT</td><td>update</td></tr><tr><td>PATCH</td><td>patch</td></tr><tr><td>DELETE</td><td>delete</td></tr></tbody></table><p>The resource and subresource is determined from the incoming request's path:</p><table><thead><tr><th>Kubelet API</th><th>resource</th><th>subresource</th></tr></thead><tbody><tr><td>/stats/*</td><td>nodes</td><td>stats</td></tr><tr><td>/metrics/*</td><td>nodes</td><td>metrics</td></tr><tr><td>/logs/*</td><td>nodes</td><td>log</td></tr><tr><td>/spec/*</td><td>nodes</td><td>spec</td></tr><tr><td><em>all others</em></td><td>nodes</td><td>proxy</td></tr></tbody></table><p>The namespace and API group attributes are always an empty string, and
the resource name is always the name of the kubelet's <code>Node</code> API object.</p><p>When running in this mode, ensure the user identified by the <code>--kubelet-client-certificate</code> and <code>--kubelet-client-key</code>
flags passed to the apiserver is authorized for the following attributes:</p><ul><li>verb=*, resource=nodes, subresource=proxy</li><li>verb=*, resource=nodes, subresource=stats</li><li>verb=*, resource=nodes, subresource=log</li><li>verb=*, resource=nodes, subresource=spec</li><li>verb=*, resource=nodes, subresource=metrics</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-24e6a01ad130b051b94d2ae75a880c10>8 - kubelet.config.k8s.io/v1beta1</h1><h2 id=resource-types>Resource Types</h2><ul><li><a href=#kubelet-config-k8s-io-v1beta1-KubeletConfiguration>KubeletConfiguration</a></li><li><a href=#kubelet-config-k8s-io-v1beta1-SerializedNodeConfigSource>SerializedNodeConfigSource</a></li></ul><h3 id=kubelet-config-k8s-io-v1beta1-KubeletConfiguration><code>KubeletConfiguration</code></h3><p>KubeletConfiguration contains the configuration for the Kubelet</p><table class="table table-striped"><thead><tr><th width=30%>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>apiVersion</code></br>string</td><td><code>kubelet.config.k8s.io/v1beta1</code></td></tr><tr><td><code>kind</code></br>string</td><td><code>KubeletConfiguration</code></td></tr><tr><td style=white-space:pre><code>enableServer</code><span style=color:blue>*</span></br><code>bool</code></td><td>enableServer enables Kubelet's secured server.
Note: Kubelet's insecure port is controlled by the readOnlyPort option.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may disrupt components that interact with the Kubelet server.
Default: true</td></tr><tr><td style=white-space:pre><code>staticPodPath</code></br><code>string</code></td><td>staticPodPath is the path to the directory containing local (static) pods to
run, or the path to a single static pod file.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
the set of static pods specified at the new path may be different than the
ones the Kubelet initially started with, and this may disrupt your node.
Default: ""</td></tr><tr><td style=white-space:pre><code>syncFrequency</code></br><a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a></td><td>syncFrequency is the max period between synchronizing running
containers and config.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
shortening this duration may have a negative performance impact, especially
as the number of Pods on the node increases. Alternatively, increasing this
duration will result in longer refresh times for ConfigMaps and Secrets.
Default: "1m"</td></tr><tr><td style=white-space:pre><code>fileCheckFrequency</code></br><a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a></td><td>fileCheckFrequency is the duration between checking config files for
new data
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
shortening the duration will cause the Kubelet to reload local Static Pod
configurations more frequently, which may have a negative performance impact.
Default: "20s"</td></tr><tr><td style=white-space:pre><code>httpCheckFrequency</code></br><a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a></td><td>httpCheckFrequency is the duration between checking http for new data
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
shortening the duration will cause the Kubelet to poll staticPodURL more
frequently, which may have a negative performance impact.
Default: "20s"</td></tr><tr><td style=white-space:pre><code>staticPodURL</code></br><code>string</code></td><td>staticPodURL is the URL for accessing static pods to run
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
the set of static pods specified at the new URL may be different than the
ones the Kubelet initially started with, and this may disrupt your node.
Default: ""</td></tr><tr><td style=white-space:pre><code>staticPodURLHeader</code></br><code>map[string][]string</code></td><td>staticPodURLHeader is a map of slices with HTTP headers to use when accessing the podURL
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may disrupt the ability to read the latest set of static pods from StaticPodURL.
Default: nil</td></tr><tr><td style=white-space:pre><code>address</code></br><code>string</code></td><td>address is the IP address for the Kubelet to serve on (set to 0.0.0.0
for all interfaces).
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may disrupt components that interact with the Kubelet server.
Default: "0.0.0.0"</td></tr><tr><td style=white-space:pre><code>port</code></br><code>int32</code></td><td>port is the port for the Kubelet to serve on.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may disrupt components that interact with the Kubelet server.
Default: 10250</td></tr><tr><td style=white-space:pre><code>readOnlyPort</code></br><code>int32</code></td><td>readOnlyPort is the read-only port for the Kubelet to serve on with
no authentication/authorization.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may disrupt components that interact with the Kubelet server.
Default: 0 (disabled)</td></tr><tr><td style=white-space:pre><code>tlsCertFile</code></br><code>string</code></td><td>tlsCertFile is the file containing x509 Certificate for HTTPS. (CA cert,
if any, concatenated after server cert). If tlsCertFile and
tlsPrivateKeyFile are not provided, a self-signed certificate
and key are generated for the public address and saved to the directory
passed to the Kubelet's --cert-dir flag.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may disrupt components that interact with the Kubelet server.
Default: ""</td></tr><tr><td style=white-space:pre><code>tlsPrivateKeyFile</code></br><code>string</code></td><td>tlsPrivateKeyFile is the file containing x509 private key matching tlsCertFile
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may disrupt components that interact with the Kubelet server.
Default: ""</td></tr><tr><td style=white-space:pre><code>tlsCipherSuites</code></br><code>[]string</code></td><td>TLSCipherSuites is the list of allowed cipher suites for the server.
Values are from tls package constants (https://golang.org/pkg/crypto/tls/#pkg-constants).
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may disrupt components that interact with the Kubelet server.
Default: nil</td></tr><tr><td style=white-space:pre><code>tlsMinVersion</code></br><code>string</code></td><td>TLSMinVersion is the minimum TLS version supported.
Values are from tls package constants (https://golang.org/pkg/crypto/tls/#pkg-constants).
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may disrupt components that interact with the Kubelet server.
Default: ""</td></tr><tr><td style=white-space:pre><code>rotateCertificates</code></br><code>bool</code></td><td>rotateCertificates enables client certificate rotation. The Kubelet will request a
new certificate from the certificates.k8s.io API. This requires an approver to approve the
certificate signing requests.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
disabling it may disrupt the Kubelet's ability to authenticate with the API server
after the current certificate expires.
Default: false</td></tr><tr><td style=white-space:pre><code>serverTLSBootstrap</code></br><code>bool</code></td><td>serverTLSBootstrap enables server certificate bootstrap. Instead of self
signing a serving certificate, the Kubelet will request a certificate from
the certificates.k8s.io API. This requires an approver to approve the
certificate signing requests. The RotateKubeletServerCertificate feature
must be enabled.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
disabling it will stop the renewal of Kubelet server certificates, which can
disrupt components that interact with the Kubelet server in the long term,
due to certificate expiration.
Default: false</td></tr><tr><td style=white-space:pre><code>authentication</code></br><a href=#kubelet-config-k8s-io-v1beta1-KubeletAuthentication><code>KubeletAuthentication</code></a></td><td>authentication specifies how requests to the Kubelet's server are authenticated
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may disrupt components that interact with the Kubelet server.
Defaults:
anonymous:
enabled: false
webhook:
enabled: true
cacheTTL: "2m"</td></tr><tr><td style=white-space:pre><code>authorization</code></br><a href=#kubelet-config-k8s-io-v1beta1-KubeletAuthorization><code>KubeletAuthorization</code></a></td><td>authorization specifies how requests to the Kubelet's server are authorized
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may disrupt components that interact with the Kubelet server.
Defaults:
mode: Webhook
webhook:
cacheAuthorizedTTL: "5m"
cacheUnauthorizedTTL: "30s"</td></tr><tr><td style=white-space:pre><code>registryPullQPS</code></br><code>int32</code></td><td>registryPullQPS is the limit of registry pulls per second.
Set to 0 for no limit.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may impact scalability by changing the amount of traffic produced
by image pulls.
Default: 5</td></tr><tr><td style=white-space:pre><code>registryBurst</code></br><code>int32</code></td><td>registryBurst is the maximum size of bursty pulls, temporarily allows
pulls to burst to this number, while still not exceeding registryPullQPS.
Only used if registryPullQPS > 0.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may impact scalability by changing the amount of traffic produced
by image pulls.
Default: 10</td></tr><tr><td style=white-space:pre><code>eventRecordQPS</code></br><code>int32</code></td><td>eventRecordQPS is the maximum event creations per second. If 0, there
is no limit enforced.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may impact scalability by changing the amount of traffic produced by
event creations.
Default: 5</td></tr><tr><td style=white-space:pre><code>eventBurst</code></br><code>int32</code></td><td>eventBurst is the maximum size of a burst of event creations, temporarily
allows event creations to burst to this number, while still not exceeding
eventRecordQPS. Only used if eventRecordQPS > 0.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may impact scalability by changing the amount of traffic produced by
event creations.
Default: 10</td></tr><tr><td style=white-space:pre><code>enableDebuggingHandlers</code></br><code>bool</code></td><td>enableDebuggingHandlers enables server endpoints for log access
and local running of containers and commands, including the exec,
attach, logs, and portforward features.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
disabling it may disrupt components that interact with the Kubelet server.
Default: true</td></tr><tr><td style=white-space:pre><code>enableContentionProfiling</code></br><code>bool</code></td><td>enableContentionProfiling enables lock contention profiling, if enableDebuggingHandlers is true.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
enabling it may carry a performance impact.
Default: false</td></tr><tr><td style=white-space:pre><code>healthzPort</code></br><code>int32</code></td><td>healthzPort is the port of the localhost healthz endpoint (set to 0 to disable)
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may disrupt components that monitor Kubelet health.
Default: 10248</td></tr><tr><td style=white-space:pre><code>healthzBindAddress</code></br><code>string</code></td><td>healthzBindAddress is the IP address for the healthz server to serve on
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may disrupt components that monitor Kubelet health.
Default: "127.0.0.1"</td></tr><tr><td style=white-space:pre><code>oomScoreAdj</code></br><code>int32</code></td><td>oomScoreAdj is The oom-score-adj value for kubelet process. Values
must be within the range [-1000, 1000].
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may impact the stability of nodes under memory pressure.
Default: -999</td></tr><tr><td style=white-space:pre><code>clusterDomain</code></br><code>string</code></td><td>clusterDomain is the DNS domain for this cluster. If set, kubelet will
configure all containers to search this domain in addition to the
host's search domains.
Dynamic Kubelet Config (beta): Dynamically updating this field is not recommended,
as it should be kept in sync with the rest of the cluster.
Default: ""</td></tr><tr><td style=white-space:pre><code>clusterDNS</code></br><code>[]string</code></td><td>clusterDNS is a list of IP addresses for the cluster DNS server. If set,
kubelet will configure all containers to use this for DNS resolution
instead of the host's DNS servers.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
changes will only take effect on Pods created after the update. Draining
the node is recommended before changing this field.
Default: nil</td></tr><tr><td style=white-space:pre><code>streamingConnectionIdleTimeout</code></br><a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a></td><td>streamingConnectionIdleTimeout is the maximum time a streaming connection
can be idle before the connection is automatically closed.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may impact components that rely on infrequent updates over streaming
connections to the Kubelet server.
Default: "4h"</td></tr><tr><td style=white-space:pre><code>nodeStatusUpdateFrequency</code></br><a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a></td><td>nodeStatusUpdateFrequency is the frequency that kubelet computes node
status. If node lease feature is not enabled, it is also the frequency that
kubelet posts node status to master.
Note: When node lease feature is not enabled, be cautious when changing the
constant, it must work with nodeMonitorGracePeriod in nodecontroller.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may impact node scalability, and also that the node controller's
nodeMonitorGracePeriod must be set to N&#8727;NodeStatusUpdateFrequency,
where N is the number of retries before the node controller marks
the node unhealthy.
Default: "10s"</td></tr><tr><td style=white-space:pre><code>nodeStatusReportFrequency</code></br><a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a></td><td>nodeStatusReportFrequency is the frequency that kubelet posts node
status to master if node status does not change. Kubelet will ignore this
frequency and post node status immediately if any change is detected. It is
only used when node lease feature is enabled. nodeStatusReportFrequency's
default value is 1m. But if nodeStatusUpdateFrequency is set explicitly,
nodeStatusReportFrequency's default value will be set to
nodeStatusUpdateFrequency for backward compatibility.
Default: "1m"</td></tr><tr><td style=white-space:pre><code>nodeLeaseDurationSeconds</code></br><code>int32</code></td><td>nodeLeaseDurationSeconds is the duration the Kubelet will set on its corresponding Lease,
when the NodeLease feature is enabled. This feature provides an indicator of node
health by having the Kubelet create and periodically renew a lease, named after the node,
in the kube-node-lease namespace. If the lease expires, the node can be considered unhealthy.
The lease is currently renewed every 10s, per KEP-0009. In the future, the lease renewal interval
may be set based on the lease duration.
Requires the NodeLease feature gate to be enabled.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
decreasing the duration may reduce tolerance for issues that temporarily prevent
the Kubelet from renewing the lease (e.g. a short-lived network issue).
Default: 40</td></tr><tr><td style=white-space:pre><code>imageMinimumGCAge</code></br><a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a></td><td>imageMinimumGCAge is the minimum age for an unused image before it is
garbage collected.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may trigger or delay garbage collection, and may change the image overhead
on the node.
Default: "2m"</td></tr><tr><td style=white-space:pre><code>imageGCHighThresholdPercent</code></br><code>int32</code></td><td>imageGCHighThresholdPercent is the percent of disk usage after which
image garbage collection is always run. The percent is calculated as
this field value out of 100.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may trigger or delay garbage collection, and may change the image overhead
on the node.
Default: 85</td></tr><tr><td style=white-space:pre><code>imageGCLowThresholdPercent</code></br><code>int32</code></td><td>imageGCLowThresholdPercent is the percent of disk usage before which
image garbage collection is never run. Lowest disk usage to garbage
collect to. The percent is calculated as this field value out of 100.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may trigger or delay garbage collection, and may change the image overhead
on the node.
Default: 80</td></tr><tr><td style=white-space:pre><code>volumeStatsAggPeriod</code></br><a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a></td><td>How frequently to calculate and cache volume disk usage for all pods
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
shortening the period may carry a performance impact.
Default: "1m"</td></tr><tr><td style=white-space:pre><code>kubeletCgroups</code></br><code>string</code></td><td>kubeletCgroups is the absolute name of cgroups to isolate the kubelet in
Dynamic Kubelet Config (beta): This field should not be updated without a full node
reboot. It is safest to keep this value the same as the local config.
Default: ""</td></tr><tr><td style=white-space:pre><code>systemCgroups</code></br><code>string</code></td><td>systemCgroups is absolute name of cgroups in which to place
all non-kernel processes that are not already in a container. Empty
for no container. Rolling back the flag requires a reboot.
Dynamic Kubelet Config (beta): This field should not be updated without a full node
reboot. It is safest to keep this value the same as the local config.
Default: ""</td></tr><tr><td style=white-space:pre><code>cgroupRoot</code></br><code>string</code></td><td>cgroupRoot is the root cgroup to use for pods. This is handled by the
container runtime on a best effort basis.
Dynamic Kubelet Config (beta): This field should not be updated without a full node
reboot. It is safest to keep this value the same as the local config.
Default: ""</td></tr><tr><td style=white-space:pre><code>cgroupsPerQOS</code></br><code>bool</code></td><td>Enable QoS based Cgroup hierarchy: top level cgroups for QoS Classes
And all Burstable and BestEffort pods are brought up under their
specific top level QoS cgroup.
Dynamic Kubelet Config (beta): This field should not be updated without a full node
reboot. It is safest to keep this value the same as the local config.
Default: true</td></tr><tr><td style=white-space:pre><code>cgroupDriver</code></br><code>string</code></td><td>driver that the kubelet uses to manipulate cgroups on the host (cgroupfs or systemd)
Dynamic Kubelet Config (beta): This field should not be updated without a full node
reboot. It is safest to keep this value the same as the local config.
Default: "cgroupfs"</td></tr><tr><td style=white-space:pre><code>cpuManagerPolicy</code></br><code>string</code></td><td>CPUManagerPolicy is the name of the policy to use.
Requires the CPUManager feature gate to be enabled.
Dynamic Kubelet Config (beta): This field should not be updated without a full node
reboot. It is safest to keep this value the same as the local config.
Default: "none"</td></tr><tr><td style=white-space:pre><code>cpuManagerReconcilePeriod</code></br><a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a></td><td>CPU Manager reconciliation period.
Requires the CPUManager feature gate to be enabled.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
shortening the period may carry a performance impact.
Default: "10s"</td></tr><tr><td style=white-space:pre><code>topologyManagerPolicy</code></br><code>string</code></td><td>TopologyManagerPolicy is the name of the policy to use.
Policies other than "none" require the TopologyManager feature gate to be enabled.
Dynamic Kubelet Config (beta): This field should not be updated without a full node
reboot. It is safest to keep this value the same as the local config.
Default: "none"</td></tr><tr><td style=white-space:pre><code>topologyManagerScope</code></br><code>string</code></td><td>TopologyManagerScope represents the scope of topology hint generation
that topology manager requests and hint providers generate.
"pod" scope requires the TopologyManager feature gate to be enabled.
Default: "container"</td></tr><tr><td style=white-space:pre><code>qosReserved</code></br><code>map[string]string</code></td><td>qosReserved is a set of resource name to percentage pairs that specify
the minimum percentage of a resource reserved for exclusive use by the
guaranteed QoS tier.
Currently supported resources: "memory"
Requires the QOSReserved feature gate to be enabled.
Dynamic Kubelet Config (beta): This field should not be updated without a full node
reboot. It is safest to keep this value the same as the local config.
Default: nil</td></tr><tr><td style=white-space:pre><code>runtimeRequestTimeout</code></br><a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a></td><td>runtimeRequestTimeout is the timeout for all runtime requests except long running
requests - pull, logs, exec and attach.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may disrupt components that interact with the Kubelet server.
Default: "2m"</td></tr><tr><td style=white-space:pre><code>hairpinMode</code></br><code>string</code></td><td>hairpinMode specifies how the Kubelet should configure the container
bridge for hairpin packets.
Setting this flag allows endpoints in a Service to loadbalance back to
themselves if they should try to access their own Service. Values:
"promiscuous-bridge": make the container bridge promiscuous.
"hairpin-veth": set the hairpin flag on container veth interfaces.
"none": do nothing.
Generally, one must set --hairpin-mode=hairpin-veth to achieve hairpin NAT,
because promiscuous-bridge assumes the existence of a container bridge named cbr0.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may require a node reboot, depending on the network plugin.
Default: "promiscuous-bridge"</td></tr><tr><td style=white-space:pre><code>maxPods</code></br><code>int32</code></td><td>maxPods is the number of pods that can run on this Kubelet.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
changes may cause Pods to fail admission on Kubelet restart, and may change
the value reported in Node.Status.Capacity[v1.ResourcePods], thus affecting
future scheduling decisions. Increasing this value may also decrease performance,
as more Pods can be packed into a single node.
Default: 110</td></tr><tr><td style=white-space:pre><code>podCIDR</code></br><code>string</code></td><td>The CIDR to use for pod IP addresses, only used in standalone mode.
In cluster mode, this is obtained from the master.
Dynamic Kubelet Config (beta): This field should always be set to the empty default.
It should only set for standalone Kubelets, which cannot use Dynamic Kubelet Config.
Default: ""</td></tr><tr><td style=white-space:pre><code>podPidsLimit</code></br><code>int64</code></td><td>PodPidsLimit is the maximum number of pids in any pod.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
lowering it may prevent container processes from forking after the change.
Default: -1</td></tr><tr><td style=white-space:pre><code>resolvConf</code></br><code>string</code></td><td>ResolverConfig is the resolver configuration file used as the basis
for the container DNS resolution configuration.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
changes will only take effect on Pods created after the update. Draining
the node is recommended before changing this field.
Default: "/etc/resolv.conf"</td></tr><tr><td style=white-space:pre><code>runOnce</code></br><code>bool</code></td><td>RunOnce causes the Kubelet to check the API server once for pods,
run those in addition to the pods specified by static pod files, and exit.
Default: false</td></tr><tr><td style=white-space:pre><code>cpuCFSQuota</code></br><code>bool</code></td><td>cpuCFSQuota enables CPU CFS quota enforcement for containers that
specify CPU limits.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
disabling it may reduce node stability.
Default: true</td></tr><tr><td style=white-space:pre><code>cpuCFSQuotaPeriod</code></br><a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a></td><td>CPUCFSQuotaPeriod is the CPU CFS quota period value, cpu.cfs_period_us.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
limits set for containers will result in different cpu.cfs_quota settings. This
will trigger container restarts on the node being reconfigured.
Default: "100ms"</td></tr><tr><td style=white-space:pre><code>nodeStatusMaxImages</code></br><code>int32</code></td><td>nodeStatusMaxImages caps the number of images reported in Node.Status.Images.
Note: If -1 is specified, no cap will be applied. If 0 is specified, no image is returned.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
different values can be reported on node status.
Default: 50</td></tr><tr><td style=white-space:pre><code>maxOpenFiles</code></br><code>int64</code></td><td>maxOpenFiles is Number of files that can be opened by Kubelet process.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may impact the ability of the Kubelet to interact with the node's filesystem.
Default: 1000000</td></tr><tr><td style=white-space:pre><code>contentType</code></br><code>string</code></td><td>contentType is contentType of requests sent to apiserver.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may impact the ability for the Kubelet to communicate with the API server.
If the Kubelet loses contact with the API server due to a change to this field,
the change cannot be reverted via dynamic Kubelet config.
Default: "application/vnd.kubernetes.protobuf"</td></tr><tr><td style=white-space:pre><code>kubeAPIQPS</code></br><code>int32</code></td><td>kubeAPIQPS is the QPS to use while talking with kubernetes apiserver
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may impact scalability by changing the amount of traffic the Kubelet
sends to the API server.
Default: 5</td></tr><tr><td style=white-space:pre><code>kubeAPIBurst</code></br><code>int32</code></td><td>kubeAPIBurst is the burst to allow while talking with kubernetes apiserver
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may impact scalability by changing the amount of traffic the Kubelet
sends to the API server.
Default: 10</td></tr><tr><td style=white-space:pre><code>serializeImagePulls</code></br><code>bool</code></td><td>serializeImagePulls when enabled, tells the Kubelet to pull images one
at a time. We recommend &#8727;not&#8727; changing the default value on nodes that
run docker daemon with version < 1.9 or an Aufs storage backend.
Issue #10959 has more details.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may impact the performance of image pulls.
Default: true</td></tr><tr><td style=white-space:pre><code>evictionHard</code></br><code>map[string]string</code></td><td>Map of signal names to quantities that defines hard eviction thresholds. For example: {"memory.available": "300Mi"}.
To explicitly disable, pass a 0% or 100% threshold on an arbitrary resource.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may trigger or delay Pod evictions.
Default:
memory.available: "100Mi"
nodefs.available: "10%"
nodefs.inodesFree: "5%"
imagefs.available: "15%"</td></tr><tr><td style=white-space:pre><code>evictionSoft</code></br><code>map[string]string</code></td><td>Map of signal names to quantities that defines soft eviction thresholds.
For example: {"memory.available": "300Mi"}.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may trigger or delay Pod evictions, and may change the allocatable reported
by the node.
Default: nil</td></tr><tr><td style=white-space:pre><code>evictionSoftGracePeriod</code></br><code>map[string]string</code></td><td>Map of signal names to quantities that defines grace periods for each soft eviction signal.
For example: {"memory.available": "30s"}.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may trigger or delay Pod evictions.
Default: nil</td></tr><tr><td style=white-space:pre><code>evictionPressureTransitionPeriod</code></br><a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a></td><td>Duration for which the kubelet has to wait before transitioning out of an eviction pressure condition.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
lowering it may decrease the stability of the node when the node is overcommitted.
Default: "5m"</td></tr><tr><td style=white-space:pre><code>evictionMaxPodGracePeriod</code></br><code>int32</code></td><td>Maximum allowed grace period (in seconds) to use when terminating pods in
response to a soft eviction threshold being met. This value effectively caps
the Pod's TerminationGracePeriodSeconds value during soft evictions.
Note: Due to issue #64530, the behavior has a bug where this value currently just
overrides the grace period during soft eviction, which can increase the grace
period from what is set on the Pod. This bug will be fixed in a future release.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
lowering it decreases the amount of time Pods will have to gracefully clean
up before being killed during a soft eviction.
Default: 0</td></tr><tr><td style=white-space:pre><code>evictionMinimumReclaim</code></br><code>map[string]string</code></td><td>Map of signal names to quantities that defines minimum reclaims, which describe the minimum
amount of a given resource the kubelet will reclaim when performing a pod eviction while
that resource is under pressure. For example: {"imagefs.available": "2Gi"}
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may change how well eviction can manage resource pressure.
Default: nil</td></tr><tr><td style=white-space:pre><code>podsPerCore</code></br><code>int32</code></td><td>podsPerCore is the maximum number of pods per core. Cannot exceed MaxPods.
If 0, this field is ignored.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
changes may cause Pods to fail admission on Kubelet restart, and may change
the value reported in Node.Status.Capacity[v1.ResourcePods], thus affecting
future scheduling decisions. Increasing this value may also decrease performance,
as more Pods can be packed into a single node.
Default: 0</td></tr><tr><td style=white-space:pre><code>enableControllerAttachDetach</code></br><code>bool</code></td><td>enableControllerAttachDetach enables the Attach/Detach controller to
manage attachment/detachment of volumes scheduled to this node, and
disables kubelet from executing any attach/detach operations
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
changing which component is responsible for volume management on a live node
may result in volumes refusing to detach if the node is not drained prior to
the update, and if Pods are scheduled to the node before the
volumes.kubernetes.io/controller-managed-attach-detach annotation is updated by the
Kubelet. In general, it is safest to leave this value set the same as local config.
Default: true</td></tr><tr><td style=white-space:pre><code>protectKernelDefaults</code></br><code>bool</code></td><td>protectKernelDefaults, if true, causes the Kubelet to error if kernel
flags are not as it expects. Otherwise the Kubelet will attempt to modify
kernel flags to match its expectation.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
enabling it may cause the Kubelet to crash-loop if the Kernel is not configured as
Kubelet expects.
Default: false</td></tr><tr><td style=white-space:pre><code>makeIPTablesUtilChains</code></br><code>bool</code></td><td>If true, Kubelet ensures a set of iptables rules are present on host.
These rules will serve as utility rules for various components, e.g. KubeProxy.
The rules will be created based on IPTablesMasqueradeBit and IPTablesDropBit.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
disabling it will prevent the Kubelet from healing locally misconfigured iptables rules.
Default: true</td></tr><tr><td style=white-space:pre><code>iptablesMasqueradeBit</code></br><code>int32</code></td><td>iptablesMasqueradeBit is the bit of the iptables fwmark space to mark for SNAT
Values must be within the range [0, 31]. Must be different from other mark bits.
Warning: Please match the value of the corresponding parameter in kube-proxy.
TODO: clean up IPTablesMasqueradeBit in kube-proxy
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it needs to be coordinated with other components, like kube-proxy, and the update
will only be effective if MakeIPTablesUtilChains is enabled.
Default: 14</td></tr><tr><td style=white-space:pre><code>iptablesDropBit</code></br><code>int32</code></td><td>iptablesDropBit is the bit of the iptables fwmark space to mark for dropping packets.
Values must be within the range [0, 31]. Must be different from other mark bits.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it needs to be coordinated with other components, like kube-proxy, and the update
will only be effective if MakeIPTablesUtilChains is enabled.
Default: 15</td></tr><tr><td style=white-space:pre><code>featureGates</code></br><code>map[string]bool</code></td><td>featureGates is a map of feature names to bools that enable or disable alpha/experimental
features. This field modifies piecemeal the built-in default values from
"k8s.io/kubernetes/pkg/features/kube_features.go".
Dynamic Kubelet Config (beta): If dynamically updating this field, consider the
documentation for the features you are enabling or disabling. While we
encourage feature developers to make it possible to dynamically enable
and disable features, some changes may require node reboots, and some
features may require careful coordination to retroactively disable.
Default: nil</td></tr><tr><td style=white-space:pre><code>failSwapOn</code></br><code>bool</code></td><td>failSwapOn tells the Kubelet to fail to start if swap is enabled on the node.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
setting it to true will cause the Kubelet to crash-loop if swap is enabled.
Default: true</td></tr><tr><td style=white-space:pre><code>containerLogMaxSize</code></br><code>string</code></td><td>A quantity defines the maximum size of the container log file before it is rotated.
For example: "5Mi" or "256Ki".
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may trigger log rotation.
Default: "10Mi"</td></tr><tr><td style=white-space:pre><code>containerLogMaxFiles</code></br><code>int32</code></td><td>Maximum number of container log files that can be present for a container.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
lowering it may cause log files to be deleted.
Default: 5</td></tr><tr><td style=white-space:pre><code>configMapAndSecretChangeDetectionStrategy</code></br><a href=#kubelet-config-k8s-io-v1beta1-ResourceChangeDetectionStrategy><code>ResourceChangeDetectionStrategy</code></a></td><td>ConfigMapAndSecretChangeDetectionStrategy is a mode in which
config map and secret managers are running.
Default: "Watch"</td></tr><tr><td style=white-space:pre><code>systemReserved</code></br><code>map[string]string</code></td><td>systemReserved is a set of ResourceName=ResourceQuantity (e.g. cpu=200m,memory=150G)
pairs that describe resources reserved for non-kubernetes components.
Currently only cpu and memory are supported.
See http://kubernetes.io/docs/user-guide/compute-resources for more detail.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may not be possible to increase the reserved resources, because this
requires resizing cgroups. Always look for a NodeAllocatableEnforced event
after updating this field to ensure that the update was successful.
Default: nil</td></tr><tr><td style=white-space:pre><code>kubeReserved</code></br><code>map[string]string</code></td><td>A set of ResourceName=ResourceQuantity (e.g. cpu=200m,memory=150G) pairs
that describe resources reserved for kubernetes system components.
Currently cpu, memory and local storage for root file system are supported.
See http://kubernetes.io/docs/user-guide/compute-resources for more detail.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may not be possible to increase the reserved resources, because this
requires resizing cgroups. Always look for a NodeAllocatableEnforced event
after updating this field to ensure that the update was successful.
Default: nil</td></tr><tr><td style=white-space:pre><code>reservedSystemCPUs</code><span style=color:blue>*</span></br><code>string</code></td><td>This ReservedSystemCPUs option specifies the cpu list reserved for the host level system threads and kubernetes related threads.
This provide a "static" CPU list rather than the "dynamic" list by system-reserved and kube-reserved.
This option overwrites CPUs provided by system-reserved and kube-reserved.</td></tr><tr><td style=white-space:pre><code>showHiddenMetricsForVersion</code></br><code>string</code></td><td>The previous version for which you want to show hidden metrics.
Only the previous minor version is meaningful, other values will not be allowed.
The format is <major>.<minor>, e.g.: '1.16'.
The purpose of this format is make sure you have the opportunity to notice if the next release hides additional metrics,
rather than being surprised when they are permanently removed in the release after that.
Default: ""</td></tr><tr><td style=white-space:pre><code>systemReservedCgroup</code></br><code>string</code></td><td>This flag helps kubelet identify absolute name of top level cgroup used to enforce `SystemReserved` compute resource reservation for OS system daemons.
Refer to [Node Allocatable](https://git.k8s.io/community/contributors/design-proposals/node/node-allocatable.md) doc for more information.
Dynamic Kubelet Config (beta): This field should not be updated without a full node
reboot. It is safest to keep this value the same as the local config.
Default: ""</td></tr><tr><td style=white-space:pre><code>kubeReservedCgroup</code></br><code>string</code></td><td>This flag helps kubelet identify absolute name of top level cgroup used to enforce `KubeReserved` compute resource reservation for Kubernetes node system daemons.
Refer to [Node Allocatable](https://git.k8s.io/community/contributors/design-proposals/node/node-allocatable.md) doc for more information.
Dynamic Kubelet Config (beta): This field should not be updated without a full node
reboot. It is safest to keep this value the same as the local config.
Default: ""</td></tr><tr><td style=white-space:pre><code>enforceNodeAllocatable</code></br><code>[]string</code></td><td>This flag specifies the various Node Allocatable enforcements that Kubelet needs to perform.
This flag accepts a list of options. Acceptable options are `none`, `pods`, `system-reserved` & `kube-reserved`.
If `none` is specified, no other options may be specified.
Refer to [Node Allocatable](https://git.k8s.io/community/contributors/design-proposals/node/node-allocatable.md) doc for more information.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
removing enforcements may reduce the stability of the node. Alternatively, adding
enforcements may reduce the stability of components which were using more than
the reserved amount of resources; for example, enforcing kube-reserved may cause
Kubelets to OOM if it uses more than the reserved resources, and enforcing system-reserved
may cause system daemons to OOM if they use more than the reserved resources.
Default: ["pods"]</td></tr><tr><td style=white-space:pre><code>allowedUnsafeSysctls</code></br><code>[]string</code></td><td>A comma separated whitelist of unsafe sysctls or sysctl patterns (ending in &#8727;).
Unsafe sysctl groups are kernel.shm&#8727;, kernel.msg&#8727;, kernel.sem, fs.mqueue.&#8727;, and net.&#8727;.
These sysctls are namespaced but not allowed by default. For example: "kernel.msg&#8727;,net.ipv4.route.min_pmtu"
Default: []</td></tr><tr><td style=white-space:pre><code>volumePluginDir</code></br><code>string</code></td><td>volumePluginDir is the full path of the directory in which to search
for additional third party volume plugins.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that changing
the volumePluginDir may disrupt workloads relying on third party volume plugins.
Default: "/usr/libexec/kubernetes/kubelet-plugins/volume/exec/"</td></tr><tr><td style=white-space:pre><code>providerID</code></br><code>string</code></td><td>providerID, if set, sets the unique id of the instance that an external provider (i.e. cloudprovider)
can use to identify a specific node.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may impact the ability of the Kubelet to interact with cloud providers.
Default: ""</td></tr><tr><td style=white-space:pre><code>kernelMemcgNotification</code></br><code>bool</code></td><td>kernelMemcgNotification, if set, the kubelet will integrate with the kernel memcg notification
to determine if memory eviction thresholds are crossed rather than polling.
Dynamic Kubelet Config (beta): If dynamically updating this field, consider that
it may impact the way Kubelet interacts with the kernel.
Default: false</td></tr><tr><td style=white-space:pre><code>logging</code><span style=color:blue>*</span></br><a href=#LoggingConfiguration><code>LoggingConfiguration</code></a></td><td>Logging specifies the options of logging.
Refer [Logs Options](https://github.com/kubernetes/component-base/blob/master/logs/options.go) for more information.
Defaults:
Format: text</td></tr><tr><td style=white-space:pre><code>enableSystemLogHandler</code></br><code>bool</code></td><td>enableSystemLogHandler enables system logs via web interface host:port/logs/
Default: true</td></tr><tr><td style=white-space:pre><code>shutdownGracePeriod</code></br><a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a></td><td>ShutdownGracePeriod specifies the total duration that the node should delay the shutdown and total grace period for pod termination during a node shutdown.
Default: "30s"</td></tr><tr><td style=white-space:pre><code>shutdownGracePeriodCriticalPods</code></br><a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a></td><td>ShutdownGracePeriodCriticalPods specifies the duration used to terminate critical pods during a node shutdown. This should be less than ShutdownGracePeriod.
For example, if ShutdownGracePeriod=30s, and ShutdownGracePeriodCriticalPods=10s, during a node shutdown the first 20 seconds would be reserved for gracefully terminating normal pods, and the last 10 seconds would be reserved for terminating critical pods.
Default: "10s"</td></tr></tbody></table><h3 id=kubelet-config-k8s-io-v1beta1-SerializedNodeConfigSource><code>SerializedNodeConfigSource</code></h3><p>SerializedNodeConfigSource allows us to serialize v1.NodeConfigSource.
This type is used internally by the Kubelet for tracking checkpointed dynamic configs.
It exists in the kubeletconfig API group because it is classified as a versioned input to the Kubelet.</p><table class="table table-striped"><thead><tr><th width=30%>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>apiVersion</code></br>string</td><td><code>kubelet.config.k8s.io/v1beta1</code></td></tr><tr><td><code>kind</code></br>string</td><td><code>SerializedNodeConfigSource</code></td></tr><tr><td style=white-space:pre><code>source</code></br><a href=https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.19/#nodeconfigsource-v1-core><code>core/v1.NodeConfigSource</code></a></td><td>Source is the source that we are serializing</td></tr></tbody></table><h3 id=kubelet-config-k8s-io-v1beta1-HairpinMode><code>HairpinMode</code></h3><p>(Alias of <code>string</code>)</p><p>HairpinMode denotes how the kubelet should configure networking to handle
hairpin packets.</p><h3 id=kubelet-config-k8s-io-v1beta1-KubeletAnonymousAuthentication><code>KubeletAnonymousAuthentication</code></h3><p><strong>Appears in:</strong></p><ul><li><a href=#kubelet-config-k8s-io-v1beta1-KubeletAuthentication>KubeletAuthentication</a></li></ul><table class="table table-striped"><thead><tr><th width=30%>Field</th><th>Description</th></tr></thead><tbody><tr><td style=white-space:pre><code>enabled</code></br><code>bool</code></td><td>enabled allows anonymous requests to the kubelet server.
Requests that are not rejected by another authentication method are treated as anonymous requests.
Anonymous requests have a username of system:anonymous, and a group name of system:unauthenticated.</td></tr></tbody></table><h3 id=kubelet-config-k8s-io-v1beta1-KubeletAuthentication><code>KubeletAuthentication</code></h3><p><strong>Appears in:</strong></p><ul><li><a href=#kubelet-config-k8s-io-v1beta1-KubeletConfiguration>KubeletConfiguration</a></li></ul><table class="table table-striped"><thead><tr><th width=30%>Field</th><th>Description</th></tr></thead><tbody><tr><td style=white-space:pre><code>x509</code></br><a href=#kubelet-config-k8s-io-v1beta1-KubeletX509Authentication><code>KubeletX509Authentication</code></a></td><td>x509 contains settings related to x509 client certificate authentication</td></tr><tr><td style=white-space:pre><code>webhook</code></br><a href=#kubelet-config-k8s-io-v1beta1-KubeletWebhookAuthentication><code>KubeletWebhookAuthentication</code></a></td><td>webhook contains settings related to webhook bearer token authentication</td></tr><tr><td style=white-space:pre><code>anonymous</code></br><a href=#kubelet-config-k8s-io-v1beta1-KubeletAnonymousAuthentication><code>KubeletAnonymousAuthentication</code></a></td><td>anonymous contains settings related to anonymous authentication</td></tr></tbody></table><h3 id=kubelet-config-k8s-io-v1beta1-KubeletAuthorization><code>KubeletAuthorization</code></h3><p><strong>Appears in:</strong></p><ul><li><a href=#kubelet-config-k8s-io-v1beta1-KubeletConfiguration>KubeletConfiguration</a></li></ul><table class="table table-striped"><thead><tr><th width=30%>Field</th><th>Description</th></tr></thead><tbody><tr><td style=white-space:pre><code>mode</code></br><a href=#kubelet-config-k8s-io-v1beta1-KubeletAuthorizationMode><code>KubeletAuthorizationMode</code></a></td><td>mode is the authorization mode to apply to requests to the kubelet server.
Valid values are AlwaysAllow and Webhook.
Webhook mode uses the SubjectAccessReview API to determine authorization.</td></tr><tr><td style=white-space:pre><code>webhook</code></br><a href=#kubelet-config-k8s-io-v1beta1-KubeletWebhookAuthorization><code>KubeletWebhookAuthorization</code></a></td><td>webhook contains settings related to Webhook authorization.</td></tr></tbody></table><h3 id=kubelet-config-k8s-io-v1beta1-KubeletAuthorizationMode><code>KubeletAuthorizationMode</code></h3><p>(Alias of <code>string</code>)</p><p><strong>Appears in:</strong></p><ul><li><a href=#kubelet-config-k8s-io-v1beta1-KubeletAuthorization>KubeletAuthorization</a></li></ul><h3 id=kubelet-config-k8s-io-v1beta1-KubeletWebhookAuthentication><code>KubeletWebhookAuthentication</code></h3><p><strong>Appears in:</strong></p><ul><li><a href=#kubelet-config-k8s-io-v1beta1-KubeletAuthentication>KubeletAuthentication</a></li></ul><table class="table table-striped"><thead><tr><th width=30%>Field</th><th>Description</th></tr></thead><tbody><tr><td style=white-space:pre><code>enabled</code></br><code>bool</code></td><td>enabled allows bearer token authentication backed by the tokenreviews.authentication.k8s.io API</td></tr><tr><td style=white-space:pre><code>cacheTTL</code></br><a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a></td><td>cacheTTL enables caching of authentication results</td></tr></tbody></table><h3 id=kubelet-config-k8s-io-v1beta1-KubeletWebhookAuthorization><code>KubeletWebhookAuthorization</code></h3><p><strong>Appears in:</strong></p><ul><li><a href=#kubelet-config-k8s-io-v1beta1-KubeletAuthorization>KubeletAuthorization</a></li></ul><table class="table table-striped"><thead><tr><th width=30%>Field</th><th>Description</th></tr></thead><tbody><tr><td style=white-space:pre><code>cacheAuthorizedTTL</code></br><a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a></td><td>cacheAuthorizedTTL is the duration to cache 'authorized' responses from the webhook authorizer.</td></tr><tr><td style=white-space:pre><code>cacheUnauthorizedTTL</code></br><a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a></td><td>cacheUnauthorizedTTL is the duration to cache 'unauthorized' responses from the webhook authorizer.</td></tr></tbody></table><h3 id=kubelet-config-k8s-io-v1beta1-KubeletX509Authentication><code>KubeletX509Authentication</code></h3><p><strong>Appears in:</strong></p><ul><li><a href=#kubelet-config-k8s-io-v1beta1-KubeletAuthentication>KubeletAuthentication</a></li></ul><table class="table table-striped"><thead><tr><th width=30%>Field</th><th>Description</th></tr></thead><tbody><tr><td style=white-space:pre><code>clientCAFile</code></br><code>string</code></td><td>clientCAFile is the path to a PEM-encoded certificate bundle. If set, any request presenting a client certificate
signed by one of the authorities in the bundle is authenticated with a username corresponding to the CommonName,
and groups corresponding to the Organization in the client certificate.</td></tr></tbody></table><h3 id=kubelet-config-k8s-io-v1beta1-ResourceChangeDetectionStrategy><code>ResourceChangeDetectionStrategy</code></h3><p>(Alias of <code>string</code>)</p><p><strong>Appears in:</strong></p><ul><li><a href=#kubelet-config-k8s-io-v1beta1-KubeletConfiguration>KubeletConfiguration</a></li></ul><p>ResourceChangeDetectionStrategy denotes a mode in which internal
managers (secret, configmap) are discovering object changes.</p><h3 id=LoggingConfiguration><code>LoggingConfiguration</code></h3><p><strong>Appears in:</strong></p><ul><li><a href=#kubelet-config-k8s-io-v1beta1-KubeletConfiguration>KubeletConfiguration</a></li></ul><p>LoggingConfiguration contains logging options
Refer <a href=https://github.com/kubernetes/component-base/blob/master/logs/options.go>Logs Options</a> for more information.</p><table class="table table-striped"><thead><tr><th width=30%>Field</th><th>Description</th></tr></thead><tbody><tr><td style=white-space:pre><code>format</code><span style=color:blue>*</span></br><code>string</code></td><td>Format Flag specifies the structure of log messages.
default value of format is `text`</td></tr><tr><td style=white-space:pre><code>sanitization</code><span style=color:blue>*</span></br><code>bool</code></td><td>[Experimental] When enabled prevents logging of fields tagged as sensitive (passwords, keys, tokens).
Runtime log sanitization may introduce significant computation overhead and therefore should not be enabled in production.`)</td></tr></tbody></table></div><div class=td-content style=page-break-before:always><h1 id=pg-bdd3803a4bb6efcc44a7ab03590ce93c>9 - TLS bootstrapping</h1><p>In a Kubernetes cluster, the components on the worker nodes - kubelet and kube-proxy - need to communicate with Kubernetes master components, specifically kube-apiserver.
In order to ensure that communication is kept private, not interfered with, and ensure that each component of the cluster is talking to another trusted component, we strongly
recommend using client TLS certificates on nodes.</p><p>The normal process of bootstrapping these components, especially worker nodes that need certificates so they can communicate safely with kube-apiserver,
can be a challenging process as it is often outside of the scope of Kubernetes and requires significant additional work.
This in turn, can make it challenging to initialize or scale a cluster.</p><p>In order to simplify the process, beginning in version 1.4, Kubernetes introduced a certificate request and signing API to simplify the process. The proposal can be
found <a href=https://github.com/kubernetes/kubernetes/pull/20439>here</a>.</p><p>This document describes the process of node initialization, how to set up TLS client certificate bootstrapping for
kubelets, and how it works.</p><h2 id=initialization-process>Initialization Process</h2><p>When a worker node starts up, the kubelet does the following:</p><ol><li>Look for its <code>kubeconfig</code> file</li><li>Retrieve the URL of the API server and credentials, normally a TLS key and signed certificate from the <code>kubeconfig</code> file</li><li>Attempt to communicate with the API server using the credentials.</li></ol><p>Assuming that the kube-apiserver successfully validates the kubelet's credentials, it will treat the kubelet as a valid node, and begin to assign pods to it.</p><p>Note that the above process depends upon:</p><ul><li>Existence of a key and certificate on the local host in the <code>kubeconfig</code></li><li>The certificate having been signed by a Certificate Authority (CA) trusted by the kube-apiserver</li></ul><p>All of the following are responsibilities of whoever sets up and manages the cluster:</p><ol><li>Creating the CA key and certificate</li><li>Distributing the CA certificate to the master nodes, where kube-apiserver is running</li><li>Creating a key and certificate for each kubelet; strongly recommended to have a unique one, with a unique CN, for each kubelet</li><li>Signing the kubelet certificate using the CA key</li><li>Distributing the kubelet key and signed certificate to the specific node on which the kubelet is running</li></ol><p>The TLS Bootstrapping described in this document is intended to simplify, and partially or even completely automate, steps 3 onwards, as these are the most common when initializing or scaling
a cluster.</p><h3 id=bootstrap-initialization>Bootstrap Initialization</h3><p>In the bootstrap initialization process, the following occurs:</p><ol><li>kubelet begins</li><li>kubelet sees that it does <em>not</em> have a <code>kubeconfig</code> file</li><li>kubelet searches for and finds a <code>bootstrap-kubeconfig</code> file</li><li>kubelet reads its bootstrap file, retrieving the URL of the API server and a limited usage "token"</li><li>kubelet connects to the API server, authenticates using the token</li><li>kubelet now has limited credentials to create and retrieve a certificate signing request (CSR)</li><li>kubelet creates a CSR for itself with the signerName set to <code>kubernetes.io/kube-apiserver-client-kubelet</code></li><li>CSR is approved in one of two ways:</li></ol><ul><li>If configured, kube-controller-manager automatically approves the CSR</li><li>If configured, an outside process, possibly a person, approves the CSR using the Kubernetes API or via <code>kubectl</code></li></ul><ol start=9><li>Certificate is created for the kubelet</li><li>Certificate is issued to the kubelet</li><li>kubelet retrieves the certificate</li><li>kubelet creates a proper <code>kubeconfig</code> with the key and signed certificate</li><li>kubelet begins normal operation</li><li>Optional: if configured, kubelet automatically requests renewal of the certificate when it is close to expiry</li><li>The renewed certificate is approved and issued, either automatically or manually, depending on configuration.</li></ol><p>The rest of this document describes the necessary steps to configure TLS Bootstrapping, and its limitations.</p><h2 id=configuration>Configuration</h2><p>To configure for TLS bootstrapping and optional automatic approval, you must configure options on the following components:</p><ul><li>kube-apiserver</li><li>kube-controller-manager</li><li>kubelet</li><li>in-cluster resources: <code>ClusterRoleBinding</code> and potentially <code>ClusterRole</code></li></ul><p>In addition, you need your Kubernetes Certificate Authority (CA).</p><h2 id=certificate-authority>Certificate Authority</h2><p>As without bootstrapping, you will need a Certificate Authority (CA) key and certificate. As without bootstrapping, these will be used
to sign the kubelet certificate. As before, it is your responsibility to distribute them to master nodes.</p><p>For the purposes of this document, we will assume these have been distributed to master nodes at <code>/var/lib/kubernetes/ca.pem</code> (certificate) and <code>/var/lib/kubernetes/ca-key.pem</code> (key).
We will refer to these as "Kubernetes CA certificate and key".</p><p>All Kubernetes components that use these certificates - kubelet, kube-apiserver, kube-controller-manager - assume the key and certificate to be PEM-encoded.</p><h2 id=kube-apiserver-configuration>kube-apiserver configuration</h2><p>The kube-apiserver has several requirements to enable TLS bootstrapping:</p><ul><li>Recognizing CA that signs the client certificate</li><li>Authenticating the bootstrapping kubelet to the <code>system:bootstrappers</code> group</li><li>Authorize the bootstrapping kubelet to create a certificate signing request (CSR)</li></ul><h3 id=recognizing-client-certificates>Recognizing client certificates</h3><p>This is normal for all client certificate authentication.
If not already set, add the <code>--client-ca-file=FILENAME</code> flag to the kube-apiserver command to enable
client certificate authentication, referencing a certificate authority bundle
containing the signing certificate, for example
<code>--client-ca-file=/var/lib/kubernetes/ca.pem</code>.</p><h3 id=initial-bootstrap-authentication>Initial bootstrap authentication</h3><p>In order for the bootstrapping kubelet to connect to kube-apiserver and request a certificate, it must first authenticate to the server.
You can use any <a href=/docs/reference/access-authn-authz/authentication/>authenticator</a> that can authenticate the kubelet.</p><p>While any authentication strategy can be used for the kubelet's initial
bootstrap credentials, the following two authenticators are recommended for ease
of provisioning.</p><ol><li><a href=#bootstrap-tokens>Bootstrap Tokens</a></li><li><a href=#token-authentication-file>Token authentication file</a></li></ol><p>Bootstrap tokens are a simpler and more easily managed method to authenticate kubelets, and do not require any additional flags when starting kube-apiserver.
Using bootstrap tokens is currently <strong>beta</strong> as of Kubernetes version 1.12.</p><p>Whichever method you choose, the requirement is that the kubelet be able to authenticate as a user with the rights to:</p><ol><li>create and retrieve CSRs</li><li>be automatically approved to request node client certificates, if automatic approval is enabled.</li></ol><p>A kubelet authenticating using bootstrap tokens is authenticated as a user in the group <code>system:bootstrappers</code>, which is the standard method to use.</p><p>As this feature matures, you
should ensure tokens are bound to a Role Based Access Control (RBAC) policy
which limits requests (using the <a href=/docs/reference/access-authn-authz/bootstrap-tokens/>bootstrap token</a>) strictly to client
requests related to certificate provisioning. With RBAC in place, scoping the
tokens to a group allows for great flexibility. For example, you could disable a
particular bootstrap group's access when you are done provisioning the nodes.</p><h4 id=bootstrap-tokens>Bootstrap tokens</h4><p>Bootstrap tokens are described in detail <a href=/docs/reference/access-authn-authz/bootstrap-tokens/>here</a>. These are tokens that are stored as secrets in the Kubernetes cluster,
and then issued to the individual kubelet. You can use a single token for an entire cluster, or issue one per worker node.</p><p>The process is two-fold:</p><ol><li>Create a Kubernetes secret with the token ID, secret and scope(s).</li><li>Issue the token to the kubelet</li></ol><p>From the kubelet's perspective, one token is like another and has no special meaning.
From the kube-apiserver's perspective, however, the bootstrap token is special. Due to its <code>type</code>, <code>namespace</code> and <code>name</code>, kube-apiserver recognizes it as a special token,
and grants anyone authenticating with that token special bootstrap rights, notably treating them as a member of the <code>system:bootstrappers</code> group. This fulfills a basic requirement
for TLS bootstrapping.</p><p>The details for creating the secret are available <a href=/docs/reference/access-authn-authz/bootstrap-tokens/>here</a>.</p><p>If you want to use bootstrap tokens, you must enable it on kube-apiserver with the flag:</p><pre><code class=language-console data-lang=console>--enable-bootstrap-token-auth=true
</code></pre><h4 id=token-authentication-file>Token authentication file</h4><p>kube-apiserver has an ability to accept tokens as authentication.
These tokens are arbitrary but should represent at least 128 bits of entropy derived
from a secure random number generator (such as <code>/dev/urandom</code> on most modern Linux
systems). There are multiple ways you can generate a token. For example:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>head -c <span style=color:#666>16</span> /dev/urandom | od -An -t x | tr -d <span style=color:#b44>&#39; &#39;</span>
</code></pre></div><p>will generate tokens that look like <code>02b50b05283e98dd0fd71db496ef01e8</code>.</p><p>The token file should look like the following example, where the first three
values can be anything and the quoted group name should be as depicted:</p><pre><code class=language-console data-lang=console>02b50b05283e98dd0fd71db496ef01e8,kubelet-bootstrap,10001,&quot;system:bootstrappers&quot;
</code></pre><p>Add the <code>--token-auth-file=FILENAME</code> flag to the kube-apiserver command (in your
systemd unit file perhaps) to enable the token file. See docs
<a href=/docs/reference/access-authn-authz/authentication/#static-token-file>here</a> for
further details.</p><h3 id=authorize-kubelet-to-create-csr>Authorize kubelet to create CSR</h3><p>Now that the bootstrapping node is <em>authenticated</em> as part of the
<code>system:bootstrappers</code> group, it needs to be <em>authorized</em> to create a
certificate signing request (CSR) as well as retrieve it when done.
Fortunately, Kubernetes ships with a <code>ClusterRole</code> with precisely these (and
only these) permissions, <code>system:node-bootstrapper</code>.</p><p>To do this, you only need to create a <code>ClusterRoleBinding</code> that binds the <code>system:bootstrappers</code> group to the cluster role <code>system:node-bootstrapper</code>.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># enable bootstrapping nodes to create CSR</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRoleBinding<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>create-csrs-for-bootstrapping<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>subjects</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Group<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>system:bootstrappers<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>roleRef</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>system:node-bootstrapper<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span></code></pre></div><h2 id=kube-controller-manager-configuration>kube-controller-manager configuration</h2><p>While the apiserver receives the requests for certificates from the kubelet and authenticates those requests,
the controller-manager is responsible for issuing actual signed certificates.</p><p>The controller-manager performs this function via a certificate-issuing control loop.
This takes the form of a
<a href=https://blog.cloudflare.com/introducing-cfssl/>cfssl</a> local signer using
assets on disk. Currently, all certificates issued have one year validity and a
default set of key usages.</p><p>In order for the controller-manager to sign certificates, it needs the following:</p><ul><li>access to the "Kubernetes CA key and certificate" that you created and distributed</li><li>enabling CSR signing</li></ul><h3 id=access-to-key-and-certificate>Access to key and certificate</h3><p>As described earlier, you need to create a Kubernetes CA key and certificate, and distribute it to the master nodes.
These will be used by the controller-manager to sign the kubelet certificates.</p><p>Since these signed certificates will, in turn, be used by the kubelet to authenticate as a regular kubelet to kube-apiserver, it is important that the CA
provided to the controller-manager at this stage also be trusted by kube-apiserver for authentication. This is provided to kube-apiserver
with the flag <code>--client-ca-file=FILENAME</code> (for example, <code>--client-ca-file=/var/lib/kubernetes/ca.pem</code>), as described in the kube-apiserver configuration section.</p><p>To provide the Kubernetes CA key and certificate to kube-controller-manager, use the following flags:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>--cluster-signing-cert-file<span style=color:#666>=</span><span style=color:#b44>&#34;/etc/path/to/kubernetes/ca/ca.crt&#34;</span> --cluster-signing-key-file<span style=color:#666>=</span><span style=color:#b44>&#34;/etc/path/to/kubernetes/ca/ca.key&#34;</span>
</code></pre></div><p>for example:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>--cluster-signing-cert-file<span style=color:#666>=</span><span style=color:#b44>&#34;/var/lib/kubernetes/ca.pem&#34;</span> --cluster-signing-key-file<span style=color:#666>=</span><span style=color:#b44>&#34;/var/lib/kubernetes/ca-key.pem&#34;</span>
</code></pre></div><p>The validity duration of signed certificates can be configured with flag:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>--cluster-signing-duration
</code></pre></div><h3 id=approval>Approval</h3><p>In order to approve CSRs, you need to tell the controller-manager that it is acceptable to approve them. This is done by granting
RBAC permissions to the correct group.</p><p>There are two distinct sets of permissions:</p><ul><li><code>nodeclient</code>: If a node is creating a new certificate for a node, then it does not have a certificate yet. It is authenticating using one of the tokens listed above, and thus is part of the group <code>system:bootstrappers</code>.</li><li><code>selfnodeclient</code>: If a node is renewing its certificate, then it already has a certificate (by definition), which it uses continuously to authenticate as part of the group <code>system:nodes</code>.</li></ul><p>To enable the kubelet to request and receive a new certificate, create a <code>ClusterRoleBinding</code> that binds the group in which the bootstrapping node is a member <code>system:bootstrappers</code> to the <code>ClusterRole</code> that grants it permission, <code>system:certificates.k8s.io:certificatesigningrequests:nodeclient</code>:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Approve all CSRs for the group &#34;system:bootstrappers&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRoleBinding<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>auto-approve-csrs-for-group<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>subjects</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Group<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>system:bootstrappers<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>roleRef</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>system:certificates.k8s.io:certificatesigningrequests:nodeclient<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span></code></pre></div><p>To enable the kubelet to renew its own client certificate, create a <code>ClusterRoleBinding</code> that binds the group in which the fully functioning node is a member <code>system:nodes</code> to the <code>ClusterRole</code> that
grants it permission, <code>system:certificates.k8s.io:certificatesigningrequests:selfnodeclient</code>:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Approve renewal CSRs for the group &#34;system:nodes&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRoleBinding<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>auto-approve-renewals-for-nodes<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>subjects</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Group<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>system:nodes<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>roleRef</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>system:certificates.k8s.io:certificatesigningrequests:selfnodeclient<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span></code></pre></div><p>The <code>csrapproving</code> controller that ships as part of
<a href=/docs/admin/kube-controller-manager/>kube-controller-manager</a> and is enabled
by default. The controller uses the
<a href=/docs/reference/access-authn-authz/authorization/#checking-api-access><code>SubjectAccessReview</code> API</a> to
determine if a given user is authorized to request a CSR, then approves based on
the authorization outcome. To prevent conflicts with other approvers, the
builtin approver doesn't explicitly deny CSRs. It only ignores unauthorized
requests. The controller also prunes expired certificates as part of garbage
collection.</p><h2 id=kubelet-configuration>kubelet configuration</h2><p>Finally, with the master nodes properly set up and all of the necessary authentication and authorization in place, we can configure the kubelet.</p><p>The kubelet requires the following configuration to bootstrap:</p><ul><li>A path to store the key and certificate it generates (optional, can use default)</li><li>A path to a <code>kubeconfig</code> file that does not yet exist; it will place the bootstrapped config file here</li><li>A path to a bootstrap <code>kubeconfig</code> file to provide the URL for the server and bootstrap credentials, e.g. a bootstrap token</li><li>Optional: instructions to rotate certificates</li></ul><p>The bootstrap <code>kubeconfig</code> should be in a path available to the kubelet, for example <code>/var/lib/kubelet/bootstrap-kubeconfig</code>.</p><p>Its format is identical to a normal <code>kubeconfig</code> file. A sample file might look as follows:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Config<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>clusters</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>cluster</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>certificate-authority</span>:<span style=color:#bbb> </span>/var/lib/kubernetes/ca.pem<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>server</span>:<span style=color:#bbb> </span>https://my.server.example.com:6443<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>bootstrap<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>contexts</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>context</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>cluster</span>:<span style=color:#bbb> </span>bootstrap<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>user</span>:<span style=color:#bbb> </span>kubelet-bootstrap<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>bootstrap<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>current-context</span>:<span style=color:#bbb> </span>bootstrap<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>preferences</span>:<span style=color:#bbb> </span>{}<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>users</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>kubelet-bootstrap<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>user</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>token</span>:<span style=color:#bbb> </span>07401b.f395accd246ae52d<span style=color:#bbb>
</span></code></pre></div><p>The important elements to note are:</p><ul><li><code>certificate-authority</code>: path to a CA file, used to validate the server certificate presented by kube-apiserver</li><li><code>server</code>: URL to kube-apiserver</li><li><code>token</code>: the token to use</li></ul><p>The format of the token does not matter, as long as it matches what kube-apiserver expects. In the above example, we used a bootstrap token.
As stated earlier, <em>any</em> valid authentication method can be used, not only tokens.</p><p>Because the bootstrap <code>kubeconfig</code> <em>is</em> a standard <code>kubeconfig</code>, you can use <code>kubectl</code> to generate it. To create the above example file:</p><pre><code>kubectl config --kubeconfig=/var/lib/kubelet/bootstrap-kubeconfig set-cluster bootstrap --server='https://my.server.example.com:6443' --certificate-authority=/var/lib/kubernetes/ca.pem
kubectl config --kubeconfig=/var/lib/kubelet/bootstrap-kubeconfig set-credentials kubelet-bootstrap --token=07401b.f395accd246ae52d
kubectl config --kubeconfig=/var/lib/kubelet/bootstrap-kubeconfig set-context bootstrap --user=kubelet-bootstrap --cluster=bootstrap
kubectl config --kubeconfig=/var/lib/kubelet/bootstrap-kubeconfig use-context bootstrap
</code></pre><p>To indicate to the kubelet to use the bootstrap <code>kubeconfig</code>, use the following kubelet flag:</p><pre><code>--bootstrap-kubeconfig=&quot;/var/lib/kubelet/bootstrap-kubeconfig&quot; --kubeconfig=&quot;/var/lib/kubelet/kubeconfig&quot;
</code></pre><p>When starting the kubelet, if the file specified via <code>--kubeconfig</code> does not
exist, the bootstrap kubeconfig specified via <code>--bootstrap-kubeconfig</code> is used
to request a client certificate from the API server. On approval of the
certificate request and receipt back by the kubelet, a kubeconfig file
referencing the generated key and obtained certificate is written to the path
specified by <code>--kubeconfig</code>. The certificate and key file will be placed in the
directory specified by <code>--cert-dir</code>.</p><h3 id=client-and-serving-certificates>Client and Serving Certificates</h3><p>All of the above relate to kubelet <em>client</em> certificates, specifically, the certificates a kubelet
uses to authenticate to kube-apiserver.</p><p>A kubelet also can use <em>serving</em> certificates. The kubelet itself exposes an https endpoint for certain features.
To secure these, the kubelet can do one of:</p><ul><li>use provided key and certificate, via the <code>--tls-private-key-file</code> and <code>--tls-cert-file</code> flags</li><li>create self-signed key and certificate, if a key and certificate are not provided</li><li>request serving certificates from the cluster server, via the CSR API</li></ul><p>The client certificate provided by TLS bootstrapping is signed, by default, for <code>client auth</code> only, and thus cannot
be used as serving certificates, or <code>server auth</code>.</p><p>However, you <em>can</em> enable its server certificate, at least partially, via certificate rotation.</p><h3 id=certificate-rotation>Certificate Rotation</h3><p>Kubernetes v1.8 and higher kubelet implements <strong>beta</strong> features for enabling
rotation of its client and/or serving certificates. These can be enabled through
the respective <code>RotateKubeletClientCertificate</code> and
<code>RotateKubeletServerCertificate</code> feature flags on the kubelet and are enabled by
default.</p><p><code>RotateKubeletClientCertificate</code> causes the kubelet to rotate its client
certificates by creating new CSRs as its existing credentials expire. To enable
this feature pass the following flag to the kubelet:</p><pre><code>--rotate-certificates
</code></pre><p><code>RotateKubeletServerCertificate</code> causes the kubelet <strong>both</strong> to request a serving
certificate after bootstrapping its client credentials <strong>and</strong> to rotate that
certificate. To enable this feature pass the following flag to the kubelet:</p><pre><code>--rotate-server-certificates
</code></pre><blockquote class="note callout"><div><strong>Note:</strong><p>The CSR approving controllers implemented in core Kubernetes do not
approve node <em>serving</em> certificates for <a href=https://github.com/kubernetes/community/pull/1982>security
reasons</a>. To use
<code>RotateKubeletServerCertificate</code> operators need to run a custom approving
controller, or manually approve the serving certificate requests.</p><p>A deployment-specific approval process for kubelet serving certificates should typically only approve CSRs which:</p><ol><li>are requested by nodes (ensure the <code>spec.username</code> field is of the form
<code>system:node:&lt;nodeName></code> and <code>spec.groups</code> contains <code>system:nodes</code>)</li><li>request usages for a serving certificate (ensure <code>spec.usages</code> contains <code>server auth</code>,
optionally contains <code>digital signature</code> and <code>key encipherment</code>, and contains no other usages)</li><li>only have IP and DNS subjectAltNames that belong to the requesting node,
and have no URI and Email subjectAltNames (parse the x509 Certificate Signing Request
in <code>spec.request</code> to verify <code>subjectAltNames</code>)</li></ol></div></blockquote><h2 id=other-authenticating-components>Other authenticating components</h2><p>All of TLS bootstrapping described in this document relates to the kubelet. However,
other components may need to communicate directly with kube-apiserver. Notable is kube-proxy, which
is part of the Kubernetes control plane and runs on every node, but may also include other components such as monitoring or networking.</p><p>Like the kubelet, these other components also require a method of authenticating to kube-apiserver.
You have several options for generating these credentials:</p><ul><li>The old way: Create and distribute certificates the same way you did for kubelet before TLS bootstrapping</li><li>DaemonSet: Since the kubelet itself is loaded on each node, and is sufficient to start base services, you can run kube-proxy and other node-specific services not as a standalone process, but rather as a daemonset in the <code>kube-system</code> namespace. Since it will be in-cluster, you can give it a proper service account with appropriate permissions to perform its activities. This may be the simplest way to configure such services.</li></ul><h2 id=kubectl-approval>kubectl approval</h2><p>CSRs can be approved outside of the approval flows builtin to the controller
manager.</p><p>The signing controller does not immediately sign all certificate requests.
Instead, it waits until they have been flagged with an "Approved" status by an
appropriately-privileged user. This flow is intended to allow for automated
approval handled by an external approval controller or the approval controller
implemented in the core controller-manager. However cluster administrators can
also manually approve certificate requests using kubectl. An administrator can
list CSRs with <code>kubectl get csr</code> and describe one in detail with <code>kubectl describe csr &lt;name></code>. An administrator can approve or deny a CSR with <code>kubectl certificate approve &lt;name></code> and <code>kubectl certificate deny &lt;name></code>.</p></div></main></div></div><footer class=d-print-none><div class=footer__links><nav><a class=text-white href=/docs/home/>Home</a>
<a class=text-white href=/blog/>Blog</a>
<a class=text-white href=/training/>Training</a>
<a class=text-white href=/partners/>Partners</a>
<a class=text-white href=/community/>Community</a>
<a class=text-white href=/case-studies/>Case Studies</a></nav></div><div class=container-fluid><div class=row><div class="col-6 col-sm-2 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank href=https://discuss.kubernetes.io><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank href=https://twitter.com/kubernetesio><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Calendar aria-label=Calendar><a class=text-white target=_blank href="https://calendar.google.com/calendar/embed?src=calendar%40kubernetes.io"><i class="fas fa-calendar-alt"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Youtube aria-label=Youtube><a class=text-white target=_blank href=https://youtube.com/kubernetescommunity><i class="fab fa-youtube"></i></a></li></ul></div><div class="col-6 col-sm-2 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/kubernetes/kubernetes><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank href=https://slack.k8s.io><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Contribute aria-label=Contribute><a class=text-white target=_blank href=https://git.k8s.io/community/contributors/guide><i class="fas fa-edit"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a class=text-white target=_blank href=https://stackoverflow.com/questions/tagged/kubernetes><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="col-12 col-sm-8 text-center order-sm-2"><small class=text-white>&copy; 2023 The Kubernetes Authors | Documentation Distributed under <a href=https://git.k8s.io/website/LICENSE class=light-text>CC BY 4.0</a></small><br><small class=text-white>Copyright &copy; 2023 The Linux Foundation &reg;. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href=https://www.linuxfoundation.org/trademark-usage class=light-text>Trademark Usage page</a></small><br><small class=text-white>ICP license: 京ICP备17074266号-3</small></div></div></div></footer></div><script src=/js/popper-1.14.3.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=/js/bootstrap-4.3.1.min.js integrity=sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM crossorigin=anonymous></script><script src=/js/main.min.40616251a9b6e4b689e7769be0340661efa4d7ebb73f957404e963e135b4ed52.js integrity="sha256-QGFiUam25LaJ53ab4DQGYe+k1+u3P5V0BOlj4TW07VI=" crossorigin=anonymous></script></body></html>